{"meta":{"title":"情迁美好时光追忆","subtitle":"情迁美好时光追忆 记录生活的点点滴滴","description":"情迁美好时光追忆 记录生活的点点滴滴博主乃情迁CF单机版作者曾创办黑界网络社区","author":"情随事迁","url":"http://www.qssq666.cn"},"pages":[{"title":"","date":"2017-06-01T13:05:41.799Z","updated":"2017-06-01T13:05:41.799Z","comments":true,"path":"404.html","permalink":"http://www.qssq666.cn/404.html","excerpt":"","text":"404 | qssq"},{"title":"","date":"2017-06-01T13:05:41.860Z","updated":"2017-06-01T13:05:41.860Z","comments":true,"path":"embed1.js","permalink":"http://www.qssq666.cn/embed1.js","excerpt":"","text":"!function(e,t,s){function a(){return c.short_name?g+\"//\"+c.short_name+\".\"+S.DOMAIN:S.REMOTE}function i(){function t(){for(var t;t=y.shift();){var a=t.url,i=new s(t.title,{dir:\"auto\",icon:t.iconUrl,body:t.body});try{i.onclick=function(){e.focus(),h.href=a,i.close()}}catch(r){}setTimeout(function(){i.close&&i.close()},8e3)}}var s=e.Notification;\"Notification\"in e&&\"denied\"!==s.permission&&(\"granted\"===s.permission&&t(),s.requestPermission(function(e){\"granted\"===e&&t()}))}function r(){return 0==nt.data.user_id}function n(e){S.theme=e,\"none\"!=e&&o.injectStylesheet(S.STATIC_URL+\"/styles/embed\"+(e?\".\"+e+\".css?\"+M[e]:\".\"+short_name)+\".css\")}var o={},d=t.getElementsByTagName(\"head\")[0]||t.getElementsByTagName(\"body\")[0];if(o.extend=function(e,t){for(var s in t)e[s]=t[s];return e},o.injectScript=function(a,i){var r=t.createElement(\"script\"),n=t.head||t.getElementsByTagName(\"head\")[0]||t.documentElement;r.type=\"text/javascript\",r.src=a,r.async=\"async\",r.charset=\"utf-8\",i&&(r.onload=r.onreadystatechange=function(t,a){var o=a||!r.readyState||/loaded|complete/.test(r.readyState);o&&(r.onload=r.onreadystatechange=null,n&&r.parentNode&&n.removeChild(r),r=s,a||i.call(e))}),n.insertBefore(r,n.firstChild)},o.injectStylesheet=function(e){var s=t.createElement(\"link\");s.type=\"text/css\",s.rel=\"stylesheet\",s.href=e,d.appendChild(s)},o.injectStyle=function(e){var s=t.createElement(\"style\");return s.type=\"text/css\",d.appendChild(s),e=e.replace(/\\}/g,\"}\\n\"),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(t.createTextNode(e)),s},o.getCookie=function(e){for(var a,i,r,n=\" \"+e+\"=\",o=t.cookie.split(\";\"),d=0;d=0&&i+n.length==(r=a.indexOf(\"=\")+1))return decodeURIComponent(a.substring(r,a.length).replace(/\\+/g,\"\"));return s},o.param=function(e){var t=[];for(var a in e)e[a]!=s&&t.push(a+\"=\"+encodeURIComponent(e[a]));return t.join(\"&\")},o.cssProperty=function(e,s){var a=(t.body||t.documentElement).style;if(\"undefined\"==typeof a)return!1;if(\"string\"==typeof a[e])return s?e:!0;for(var i=[\"Moz\",\"Webkit\",\"ms\"],e=e.charAt(0).toUpperCase()+e.substr(1),r=0;r=0&&(t+=''+(e.index+1)+z.floor+\"\"),t+=''+e.post.message,e.index>=0&&(t+=' i;)a=s[i+=1],t+=''+S.sourceName[a]+\"\";return t+=\"\",e.options.deny_anonymous||(t+='作为游客留言名字(必填)',e.options.require_guest_email&&(t+='邮箱(必填)'),e.options.require_guest_url&&(t+='网址(可选)'),t+='发布'),t},et[\"dialog-ask-for-auth\"]=function(){var e='社交帐号登录'+et.serviceList(X)+''+et.serviceList(K)+\"\";return e},et[\"dialog-bind-more\"]=function(){var e='绑定更多帐号'+et.serviceBindList(X)+''+et.serviceBindList(K)+'';return e},et[\"dialog-qrcode\"]=function(e){var t='微信扫一扫，分享到朋友圈';return t},et[\"dialog-reposts\"]=function(e){var t='转发到微博@'+u(e.post.theAuthor.name)+\": \"+e.post.message+\"\"+tt({post_id:e.post.post_id})+''+u(e.repostMessage)+'';return t+='',e.service?t+=tt({\"service[]\":e.service}):(t+='0?\"已喜欢\":\"喜欢\",t+='取消喜欢'},et.notify=function(e){var t='d;)o=n[d+=1],1==d&&s.parents.length>2&&(t+='还有'+(s.parents.length-2)+\"条评论\"),t+=et.ctxPost({post:o,index:d,hidden:d&&d=i.max_depth&&(!i.show_context||i.max_depth>1)&&s.parent_id&&lt[s.parent_id]&&(t+=''+z.reply_to+u(lt[s.parent_id].toJSON().author.name)+\": \"),t+=s.message+''+z.reply+\"\"+et.likePost(s)+''+z.repost+''+z.report+\"\",s.privileges[\"delete\"]&&(t+=''+z[\"delete\"]+\"\")):(\"qqt\"==s.source||\"weibo\"==s.source)&&(t+=''+z.comments,s.type.match(/\\-comment$/)||(t+='('+s.comments+\")\"),t+=''+z.reposts,s.type.match(/\\-comment$/)||(t+='('+s.reposts+\")\"),t+=\"\"),t+=\"1&&(s.childrenArray||s.children)&&\"weibo\"!=s.source&&\"qqt\"!=s.source){t+='';var c=lt.getJSON(s.childrenArray||s.children);if(c)for(var s,d=-1,p=c.length-1;p>d;)s=c[d+=1],t+=et.post({post:s,options:i});t+=\"\"}return t+=\"\"},et.postListHead=function(e){var t=''+z.latest+''+z.earliest+''+z.hottest+'';return e.options.show_reposts&&e.thread.reposts&&(t+=''),t+=\" \",e.options.show_weibo&&e.thread.weibo_reposts&&(t+=''),t+=\" \",e.options.show_qqt&&e.thread.qqt_reposts&&(t+=''),t+=\"\"},et.recentVisitors=function(e){var t=\"\",s=e.response;if(s)for(var a,i=-1,r=s.length-1;r>i;)a=s[i+=1],t+=''+et.avatar(a,e.options.avatar_size)+\"\";return t},et[\"related-read\"]=function(e){var t=\"\";if(e&&e.length){t+='头条推荐 ';var s=e;if(s)for(var a,i=-1,r=s.length-1;r>i;){if(a=s[i+=1],t+=' ',3==a.imgs.length){t+=\" \"+a.title+' ';var n=a.imgs;if(n)for(var o,d=-1,l=n.length-1;l>d;)o=n[d+=1],t+=' ';t+=' ',1==a.type&&(t+=' 打开头条阅读 '),t+=' '}else t+=' i;)a=s[i+=1],t+=''+S.serviceNames[a],nt.data.social_uid[a]&&(t+=' '),t+=\"\";return t},et.serviceList=function(e){var t=\"\",s=e;if(s)for(var a,i=-1,r=s.length-1;r>i;)a=s[i+=1],t+=''+S.serviceNames[a]+\"\";return t},et.shareWidget=function(e){var t=' ',s=e.services;if(s)for(var a,i=-1,r=s.length-1;r>i;)a=s[i+=1],t+=' '+S.sourceName[a]+\" \";return t+=' '+e.copyright+\"\"},et.smiliesTooltip=function(e){var t='';for(var s in e)t+=\"\"+s+\"\";return t+=''},et.toolbar=function(){var e=' 帐号管理绑定更多'+u(z.settings)+'登出';return e+=nt.data.url?''+u(nt.data.name)+\"\":''+u(nt.data.name)+\"\",e+=''},et.topThreads=function(e){var t=\"\",s=e.response;if(s)for(var a,i=-1,r=s.length-1;r>i;)a=s[i+=1],t+=''+u(a.title)+\"\";return t},et.topUsers=function(e){var t=\"\",s=e.response;if(s)for(var a,i=-1,r=s.length-1;r>i;)a=s[i+=1],t+=''+et.avatar(a,e.options.avatar_size)+\"\"+u(a.name)+\"\";return t},et.userInfo=function(e){var t=''+et.avatarImg(e)+''+u(e.name)+\"\";for(var s in e.social_uid)t+='';return t+=''+e.comments+\"条评论\",e.description&&(t+=''+u(e.description)+\"\"),t};var st=S.Views={},at=(S.Callbacks={},S.pagelets=[]),it=S.events=new J,rt=S.site=new V,nt=S.visitor=new $,ot=S.unread=new V,dt=S.threadPool=new Y(G),lt=S.postPool=new Y(F),ct=S.userPool=new Y($);it.on(\"queryDefined\",function(){var e=c.short_name;if(c.theme&&n(c.theme),m){var t=m[\"ds_site_\"+e],s=m[\"ds_lang_\"+e];t&&rt.reset(p.parse(t)),s&&o.extend(z,p.parse(s))}}),q(),S.require(\"embed.compat\",function(){function i(e){e.stopPropagation()}function n(e){(e.ctrlKey&&13==e.which||10==e.which)&&H(this.form).trigger(\"submit\")}function d(){var e=H(this);e.height(Math.max(54,e.next(\".ds-hidden-text\").text(this.value).height()+27))}function l(){if(P.authInWin){var e=this.href.match(/\\/(login|bind)\\/(\\w+)\\//i);if(e&&S.serviceNames[e[2]])return!b(e[2],this.href) }}function u(){var e,s,a,i,r,n=this,o=0,d=0;t.selection&&(s=t.selection.createRange(),s&&s.parentElement()==n&&(i=n.value.length,e=n.value.replace(/\\r\\n/g,\"\\n\"),a=n.createTextRange(),a.moveToBookmark(s.getBookmark()),r=n.createTextRange(),r.collapse(!1),a.compareEndPoints(\"StartToEnd\",r)>-1?o=d=i:(o=-a.moveStart(\"character\",-i),o+=e.slice(0,o).split(\"\\n\").length-1,a.compareEndPoints(\"EndToEnd\",r)>-1?d=i:(d=-a.moveEnd(\"character\",-i),d+=e.slice(0,d).split(\"\\n\").length-1)))),H(n).data(\"ds-range-start\",o).data(\"ds-range-end\",d)}function p(e){return P.touch&&e.addClass(\"ds-touch\"),o.cssProperty(\"transition\")||e.addClass(\"ds-no-transition\"),P.ie6&&e.addClass(\"ds-ie6\"),P.opacity||e.addClass(\"ds-no-opacity\"),e}function f(e){if(!P.placeholder){var t=e.attr(\"placeholder\");e.val(t).focus(function(){this.value===t&&(this.value=\"\")}).blur(function(){\"\"===this.value&&(this.value=t)})}return e}function g(e){if(\"http://duoshuo.com\"===e.origin)switch(e.data.type){case\"login\":h.href=e.data.redirectUrl}}function b(t,s){var a={weibo:[760,600],renren:[420,322],qq:[504,445],weixin:[450,550],google:[600,440]}[t]||[550,400];return e.open(s+(-1==s.indexOf(\"?\")?\"?\":\"&\")+o.param({origin:h.origin||\"http://\"+h.host}),\"_blank\",\"width=\"+a[0]+\",height=\"+a[1]+\",toolbar=no,menubar=no,location=yes\")}function y(e){var t=Z[r()?\"loginUrl\":\"bindUrl\"](e);P.authInWin&&b(e,t)||(h.href=t)}function w(){var e=E(et[\"dialog-ask-for-auth\"]({})).el.find(\".ds-dialog\").css(\"width\",\"300px\");e.find(\"a.ds-service-link\").click(l)}function x(e,t,s,a){function i(){function e(e){if(s&&a){var t=s.options,i=M(s.postList.el,e.response[a],t);\"asc\"==t.order==(\"top\"==t.formPosition)&&S.scrollTo(i);var r=s.el.find(\".ds-comments-tab-\"+a+\" span.ds-highlight\");r.html(parseInt(r.html())+1)}}return a||l.find(\"[type=checkbox]:checked\")[0]?(R.post(\"posts/repost\",S.toJSON(l),e),o.close(),!1):(alert(\"还没有选发布到哪儿呢\"),!1)}function r(){var e=this.value;return this.checked&&!nt.data.social_uid[\"qqt\"==e?\"qq\":e]?void y(e):void 0}var o=E(et[\"dialog-reposts\"]({post:e.toJSON(),repostMessage:t,service:a})),l=o.el.find(\"form\");return l.submit(i),l.find(\".ds-actions [type=checkbox]\").change(r),f(l.find(\"textarea\")).keyup(n).keyup(d).focus(),!1}function T(e){var t={\"unread-comments\":{title:\"新留言及回复\",apiUrl:\"users/unreadComments\",tmpl:function(e){return e.thread?''+H.map(e.authors,et.userAnchor).join(\"、\")+' 在 '+_(e.thread.title||\"无标题\")+' 中回复了你 知道了':\"\"},read:function(e){var t=e.attr(\"data-thread-id\");R.post(\"threads/read\",{thread_id:t}),ot.data.comments--}},\"unread-notifications\":{title:\"系统消息\",apiUrl:\"users/unreadNotifications\",tmpl:function(e){return''+e.content+' 知道了'},read:function(e){var t=e.attr(\"data-notification-id\");R.post(\"notifications/read\",{notification_id:t}),ot.data.notifications--}}}[e],s=E(\"\"+t.title+'');s.on(\"close\",S.resetNotify);var a=s.el.find(\".ds-unread-list\").delegate(\".ds-delete\",\"click\",function(){return H(this).parent().remove(),0===a.children().length&&s.close(),!1}).delegate(\".ds-read\",\"click\",function(){t.read(H(this).parent())});H(\"#ds-notify\").hide(),R.get(t.apiUrl,{},function(e){s.el.find(\".ds-unread-list\").html(H.map(e.response,t.tmpl).join(\"\\n\"))})}function N(){bubbleOutTimer&&(clearTimeout(bubbleOutTimer),bubbleOutTimer=0)}function I(){bubbleOutTimer=setTimeout(function(){bubbleOutTimer=0,X.detach()},400)}function M(e,t,s){return e.find(\".ds-post[data-post-id=\"+t.data.post_id+\"]\")[0]?void 0:(e.find(\".ds-post-placeholder\").remove(),H(et.post({post:t.toJSON(),options:s})).hide()[\"asc\"==s.order?\"appendTo\":\"prependTo\"](e).slideDown(function(){}))}function U(e,t){function s(){if(r())return w(),!1;var e=H(this).parent(),t=e.hasClass(\"ds-post-liked\"),s=H(this).html().match(/\\((\\d+)\\)/),a=(s?parseInt(s[1]):0)+(t?-1:1);return R.post(\"posts/vote\",{post_id:e.closest(\".ds-ctx-entry, .ds-post-self\").attr(\"data-post-id\"),vote:t?0:1}),H(this).html(H(this).html().replace(/\\(\\d+\\)/,\"\")+(a?\"(\"+a+\")\":\"\")),e[t?\"removeClass\":\"addClass\"](\"ds-post-liked\"),!1}function a(){var e=H(this).closest(\".ds-post-self\"),t=lt[e.attr(\"data-post-id\")];return x(t,\"\"),!1}function i(){if(!confirm(\"确定要删除这条评论吗？\"))return!1;var t=H(this).closest(\".ds-post-self\");return R.post(\"posts/remove\",{post_id:t.attr(\"data-post-id\")}),t.parent().fadeOut(200,function(){e.data.comments--,e.updateCounter(\"duoshuo\"),H(this).remove()}),!1}function n(){if(!confirm(\"确定要举报这条评论吗？\"))return!1;var e=H(this).closest(\".ds-post-self\");return R.post(\"posts/report\",{post_id:e.attr(\"data-post-id\")}),alert(\"感谢您的反馈！\"),!1}function o(){var s=H(this),a=s.closest(\".ds-comment-actions\");if(a.hasClass(\"ds-reply-active\"))h.el.fadeOut(200,function(){H(this).detach()}),a.removeClass(\"ds-reply-active\");else{var i=s.closest(\".ds-ctx-entry, .ds-post-self\");h?h.actionsBar.removeClass(\"ds-reply-active\"):(h=new st.Replybox(e),h.render(!0).el.addClass(\"ds-inline-replybox\").detach()),h.el.find(\"[name=parent_id]\").val(i.attr(\"data-post-id\")),h.el.show().appendTo(s.closest(\".ds-ctx-body, .ds-comment-body\")).find(\"textarea\").focus(),h.actionsBar=a.addClass(\"ds-reply-active\"),t.max_depth35?35:n);try{if(a.hasClass(\"ds-comment-context\"))K.attr(\"id\",\"ds-ctx-bubble\").attr(\"data-post-id\",a.attr(\"data-post-id\")).html(''+et.ctxPost({post:lt[a.attr(\"data-parent-id\")].toJSON()})+'查看对话');else if(a.hasClass(\"ds-avatar\")||a.hasClass(\"ds-user-name\")){var l={},c=l.user_id=a.attr(\"data-user-id\");if(!c)throw\"no info\";K.attr(\"id\",\"ds-user-card\").attr(\"data-user-id\",c).empty(),ct[c]?K.html(et.userInfo(ct[c].data)):R.get(\"users/profile\",B(l),t)}X.css({bottom:o,left:d}).appendTo(e.innerEl)}catch(u){X.detach()}}var s=this;if(bubbleOutTimer&&X.owner==s)return clearTimeout(bubbleOutTimer),void(bubbleOutTimer=0);var a=H(s);tt=setTimeout(t,200)}function p(){tt?(clearTimeout(tt),tt=0):bubbleOutTimer||I()}var h;this.delegate(\"a.ds-post-likes\",\"click\",s).delegate(\"a.ds-post-repost\",\"click\",a).delegate(\"a.ds-post-delete\",\"click\",i).delegate(\"a.ds-post-report\",\"click\",n).delegate(\"a.ds-post-reply\",\"click\",o).delegate(\"a.ds-weibo-comments\",\"click\",d).delegate(\"a.ds-weibo-reposts\",\"click\",l).delegate(\"a.ds-expand\",\"click\",c),P.touch||this.delegate(\"a.ds-comment-context, .ds-avatar, .ds-user-name\",\"mouseenter\",u).delegate(\"a.ds-comment-context, .ds-avatar, .ds-user-name\",\"mouseleave\",p)}function B(e){var s={require:\"site,visitor,nonce,lang\"+(it++?\"\":\",unread,log,extraCss\"),site_ims:D.get(\"ds_site_\"+c.short_name+\":timestamp\"),lang_ims:D.get(\"ds_lang_\"+c.short_name+\":timestamp\"),referer:t.referrer};c.stylePatch&&(s.style_patch=c.stylePatch);for(var a in s)s[a]&&(!P.ie6||encodeURIComponent(s[a]).lengthV.scrollTop()+V.height())&&H(\"html, body\").animate({scrollTop:t-40},200,\"swing\")},S.toJSON=function(e){var t=/\\r?\\n/g,s=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,a=/^(?:select|textarea)/i,i=e.map(function(){return this.elements?H.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||a.test(this.nodeName)||s.test(this.type))}).map(function(e,s){var a=H(this).val();return null==a?null:H.isArray(a)?H.map(a,function(e){return{name:s.name,value:e.replace(t,\"\\r\\n\")}}):{name:s.name,value:a.replace(t,\"\\r\\n\")}}).toArray(),r={};return H.each(i,function(){r[this.name]=this.value}),r},S.resetNotify=function(){var e=H(\"#ds-notify\"),s=ot.data;e[0]||(e=H('').css({hidden:{display:\"none\"},\"top-right\":{top:\"24px\",right:\"24px\"},\"bottom-right\":{bottom:\"24px\",right:\"24px\"}}[rt.data.notify_position]).delegate(\".ds-notify-unread a\",\"click\",function(){return T(H(this).data(\"type\")),!1}).appendTo(t.body)),e.html(et.notify(s))[!s.comments&&!s.notifications||\"hidden\"===rt.data.notify_position||H(\".ds-dialog\")[0]?\"hide\":\"show\"]()},ot.on(\"reset\",S.resetNotify),st.Replybox=function(e){this.embedThread=e},st.Replybox.prototype={render:function(e){function s(e){e.data(\"submitting\",!0),e.find(\".ds-post-button\").addClass(\"ds-waiting\").html(z.posting)[0].disabled=!0}function a(e){e.data(\"submitting\",!1),e.find(\".ds-post-button\").removeClass(\"ds-waiting\").html(z.post)[0].disabled=!1}var i=this,o=i.embedThread,c=o.options,p=function(){S.require(\"smilies\",function(){})},h={thread:o,options:c,inline:e,params:{thread_id:o.threadId,parent_id:\"\",nonce:S.nonce},repostArray:[],checked:0};for(var v in nt.data.repostOptions)nt.data.repostOptions[v]&&(h.repostArray.push(v),h.checked=1);var g=i.el=H(et.replybox(h)).click(p),b=g.find(\"form\"),y=b.find(\"input[type=checkbox]\")[0],_=b.find(\"a.ds-service-icon, a.ds-service-icon-grey\"),k=f(b.find(\"textarea\")).focus(p).keyup(n).keyup(d).bind(\"focus mousedown mouseup keyup\",u),w=g.find(\".ds-add-emote\").click(function(e){var s=S.smiliesTooltip;return w.toggleClass(\"ds-expanded\").hasClass(\"ds-expanded\")?(s||(s=S.smiliesTooltip=new st.SmiliesTooltip,s.render(),S.require(\"smilies\",function(){s.reset(\"微博-默认\")})),s.replybox=i,s.el.appendTo(t.body).css({top:i.el.offset().top+i.el.outerHeight()+4+\"px\",left:i.el.find(\".ds-textarea-wrapper\").offset().left+\"px\"}),H(t.body).click(x)):x(e),!1}),x=(g.find(\".ds-add-image\").click(function(e){var s=k[0],a=s.value,i=\"请输入图片地址\",r='';if(t.selection){s.value=a.substring(0,k.data(\"ds-range-start\"))+r+a.substring(k.data(\"ds-range-end\"),a.length),s.value=s.value.replace(\"说点什么吧 ...\",\"\"),s.focus();var n=t.selection.createRange();n.collapse(),n.findText(i),n.select()}else{s.value=a.substring(0,s.selectionStart)+r+a.substring(s.selectionEnd);var o=s.value.search(i);s.setSelectionRange(o,o+i.length),s.focus()}e.preventDefault()}),i.hideSmilies=function(){w.removeClass(\"ds-expanded\"),S.smiliesTooltip.el.detach(),H(t.body).unbind(\"click\",x)}),T=function(e,t){var s=E(et[\"dialog-anonymous\"]({services:[\"weixin\",\"weibo\",\"qq\",\"renren\",\"kaixin\",\"douban\"],options:c})),a=s.el.find(\".ds-dialog\").css(\"width\",\"320px\");if(a.find(\".ds-icons-32 a\").click(l),!c.deny_anonymous){var i=s.el.find(\"form\");i.submit(function(){var e=i.find(\"input[name=author_email]\").val();return!e&&!c.require_guest_email||e.match(/^(([^()[\\]\\\\.,;:\\s@\\\"]+(\\.[^()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)?(t(S.toJSON(i)),s.close(),!1):(alert(\"请输入一个有效的email地址.\"),!1)}),i.find(\"input[name=author_name]\")[0].focus()}};c.deny_anonymous&&k.focus(function(){if(r()){T(b,q);var e=function(t){t.stopPropagation(),k.unbind(\"click\",e)};k.click(e)}return!1});var q=function(e){s(b),R.post(\"posts/create\",H.extend(S.toJSON(b),e),function(e){var t=lt[e.response.post_id]=new F(e.response),s=M(i.postList,t,c);if(\"asc\"==c.order==(\"top\"==c.formPosition)&&S.scrollTo(s),o.data.comments++,o.updateCounter(\"duoshuo\"),k.val(\"\").trigger(\"keyup\"),a(b),g.hasClass(\"ds-inline-replybox\")&&(g.detach(),i.actionsBar.removeClass(\"ds-reply-active\")),m)try{m.removeItem(\"ds_draft_\"+o.threadId)}catch(r){}},function(e){a(b),alert(e.errorMessage)})};b.submit(function(){if(b.data(\"submitting\"))return!1;var e=H.trim(b[0].message.value);return\"\"==e||!P.placeholder&&e==k.attr(\"placeholder\")?(alert(\"您还没写内容呢\"),!1):(r()?T(b,q):q(),!1)});var C=function(e){return H(e).hasClass(\"ds-service-icon-grey\")?null:H(e).attr(\"data-service\")};if(_.click(function(){return H(this).toggleClass(\"ds-service-icon-grey\").toggleClass(\"ds-service-icon\"),y.value=H.map(_,C).join(\",\"),y.checked=\"\"!=y.value,!1}),H(y).change(function(){var e=this.checked;_[e?\"removeClass\":\"addClass\"](\"ds-service-icon-grey\")[e?\"addClass\":\"removeClass\"](\"ds-service-icon\"),this.value=H.map(_,C).join(\",\")}),!e&&m){var j=\"ds_draft_\"+o.threadId;k.bind(\"focus blur keyup\",function(e){var t=H(e.currentTarget).val();try{m[j]=t}catch(e){}}),m[j]&&k.val(m[j])}return this}},st.Dialog=J.extend({init:function(e,t){(this.el=H(\"#ds-wrapper\"))[0]||(this.el=p(H(''))),this.options=H.extend({width:600},t),e!==s&&H(e).attr(\"id\",\"ds-reset\").appendTo(this.el)},open:function(){function e(e){return 27==e.which?(a.close(),!1):void 0}function s(){return a.close(),!1}var a=this;return a.el.hide().appendTo(t.body).fadeIn(200),P.ie6&&a.el.css(\"top\",V.scrollTop()+100),a.el.show().find(\".ds-dialog\").delegate(\"a.ds-dialog-close\",\"click\",function(){return a.close(),!1}).click(i),Y.keydown(e),H(t.body).click(s),a.close=function(){Y.unbind(\"keydown\",e),H(t.body).unbind(\"click\",s),a.el.fadeOut(200,function(){H(this).remove()}),a.trigger(\"close\")},a}}),et.likePanel=function(e){return e.likes?''+e.likes+\" 人喜欢\":\"\"},st.Meta=function(e){this.embedThread=e},st.Meta.prototype={render:function(){function a(a){function r(e){o.set(e),n.resetLikePanel()}function c(){n.tooltip.detach(),H(t.body).unbind(\"click\",c)}function u(t){switch(this.className){case\"ds-like-tooltip-close\":c(t);break;default:if(!e.open(this.href,\"_blank\",\"height=500,width=600,top=0,left=0,toolbar=no,menubar=no,resizable=yes,location=yes,status=no\"))return}return!1}var p=l.hasClass(\"ds-thread-liked\");if(R.post(\"threads/vote\",{thread_id:n.embedThread.threadId,vote:p?0:1},r),l.toggleClass(\"ds-thread-liked\"),l.find(\".ds-thread-like-text\").text(p?\"喜欢\":\"已喜欢\"),p)return n.tooltip&&c(a),!1;if(n.tooltip===s){var h=et.likeTooltip({services:{qzone:\"QQ空间\",weibo:\"新浪微博\",qqt:\"腾讯微博\",renren:\"人人网\",kaixin:\"开心网\",douban:\"豆瓣网\",baidu:\"百度搜藏\"},thread_id:o.data.thread_id});n.tooltip=H(h).click(i).delegate(\"a\",\"click\",u)}var f={};return f.left=0,f.top=d.position().top+d.outerHeight()-4+\"px\",n.tooltip.appendTo(n.embedThread.innerEl).css(f),H(t.body).click(c),!1}var n=this,o=n.embedThread.model,d=n.el=H(et.meta(o.toJSON())),l=d.find(\".ds-like-thread-button\");return l.click(a),n.resetLikePanel(),r()&&d.hide(),n},resetLikePanel:function(){this.el.find(\".ds-like-panel\").html(et.likePanel(this.embedThread.model.toJSON()))}},st.PostListHead=function(e){this.embedThread=e},st.PostListHead.prototype={render:function(){function e(e){r.find(\"a.ds-current\").removeClass(\"ds-current\"),a.params.page=1;var t=e.currentTarget;switch(t.className){case\"ds-comments-tab-duoshuo\":a.params.source=\"duoshuo\",s.replybox.el.show();break;case\"ds-comments-tab-repost\":a.params.source=\"repost\",s.replybox.el.hide();break;case\"ds-comments-tab-weibo\":a.params.source=\"weibo\",s.replybox.el.hide();break;case\"ds-comments-tab-qqt\":a.params.source=\"qqt\",s.replybox.el.hide()}return H(t).addClass(\"ds-current\"),a.refetch(),!1}function t(){return n.find(\"a.ds-current\").removeClass(\"ds-current\"),a.params.order=s.options.order=this.className.replace(\"ds-order-\",\"\"),a.params.page=1,a.refetch(),H(this).addClass(\"ds-current\"),!1}var s=this.embedThread,a=s.postList,i=this.el=H(et.postListHead({thread:s.model.toJSON(),options:s.options})),r=i.find(\"ul.ds-comments-tabs\");r.delegate(\".ds-tab a\",\"click\",e);var n=i.find(\".ds-sort\");return n.delegate(\"a\",\"click\",t),n.find(\".ds-order-\"+a.params.order).addClass(\"ds-current\"),this}},st.Paginator=function(e){function t(){return i.params.page=parseInt(this.innerHTML),i.refetch(),a.find(\".ds-current\").removeClass(\"ds-current\"),H(this).addClass(\"ds-current\"),!1}e=e||{};var s=this,a=s.el=e.el||H(''),i=s.collection=e.collection;a.delegate(\"a\",\"click\",t)},st.Paginator.prototype={reset:function(e){function t(e){i.push(''+e+\"\")}var s,a=this.collection.params.page||1,i=[];if(a>1)for(t(1),s=a>4?a-2:2,s>2&&i.push('...');a>s;s++)t(s);if(i.push(''+a+\"\"),a=s&&s1?\"show\":\"hide\"]()}},S.addSmilies=function(e,t){var s=S.smiliesTooltip;s&&s.el.find(\"ul.ds-smilies-tabs\").append(\"\"+e+\"\"),S.smilies[e]=t},st.SmiliesTooltip=function(){},st.SmiliesTooltip.prototype={render:function(){function e(){var e=s.replybox,a=e.el.find(\"textarea\"),i=a[0],r=i.value;if(t.selection){i.value=r.substring(0,a.data(\"ds-range-start\"))+this.title+r.substring(a.data(\"ds-range-end\"),r.length),i.value=i.value.replace(z.leave_a_message,\"\"),i.focus();var n=t.selection.createRange();n.moveStart(\"character\",a.data(\"ds-range-start\")+this.title.length),n.collapse(),n.select()}else{var o=i.selectionStart+this.title.length;i.value=r.substring(0,i.selectionStart)+this.title+r.substring(i.selectionEnd),i.setSelectionRange(o,o)}e.hideSmilies(),i.focus()}var s=this,a=s.el=H(et.smiliesTooltip(L));return a.click(i).find(\"ul.ds-smilies-tabs\").delegate(\"a\",\"click\",function(){s.reset(this.innerHTML)}),a.find(\".ds-smilies-container\").delegate(\"img\",\"click\",e),this},reset:function(e){function t(t,s){var i=0===e.indexOf(\"微博\")?\"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/\"+s.replace(\"_org\",\"_thumb\"):S.STATIC_URL+\"/images/smilies/\"+s;\"WordPress\"===e&&(t=\" \"+t+\" \"),a+=''}var s=this.el.find(\"ul.ds-smilies-tabs\");s.find(\"a.ds-current\").removeClass(\"ds-current\"),s.find(\"a\").filter(function(){return this.innerHTML==e}).addClass(\"ds-current\");var a=\"\";return H.each(L[e],t),a+=\"\",this.el.find(\".ds-smilies-container\").html(a),this}},et.postPlaceholder=function(){return['',z.no_comments_yet,\"\"].join(\"\")};var X=H(''),K=X.find(\".ds-bubble-content\").delegate(\"a.ds-ctx-open\",\"click\",function(){function e(e){function t(e,t){return et.ctxPost({post:e,index:t})}C.log(H.map(e.response,t).join(\"\\n\"));s.el.find(\"ol\");s.el.find(\"ol\").html(H.map(e.response,t).join(\"\\n\"))}var t={};t.post_id=K.attr(\"data-post-id\"),R.get(\"posts/conversation\",t,e);var s=E('查看对话');return s.el.find(\".ds-dialog\").css(\"width\",\"600px\"),s.el.find(\".ds-dialog-body\").css({\"max-height\":\"350px\",_height:\"350px\",\"overflow-y\":\"auto\",\"padding-top\":\"10px\"}),!1}),tt=bubbleOutTimer=0;X.mouseenter(N).mouseleave(I),st.PostList=function(e){e&&(e.params&&(this.params=e.params),e.embedThread&&(this.embedThread=e.embedThread)),this.el=H('')},st.PostList.prototype={url:\"threads/listPosts\",render:function(){return U.call(this.el,this.embedThread,this.embedThread.options),this},reset:function(e){var t=this.embedThread.options;this.el.html(e[0]?H.map(lt.getJSON(e),function(e){return et.post({post:e,options:t})}).join(\"\"):et.postPlaceholder())},refetch:function(){function e(e){lt.set(e.parentPosts||e.relatedPosts),ct.set(e.users),s.reset(e.response),s.embedThread.paginator.reset(e.cursor),s.el.fadeTo(200,1),S.scrollTo(s.el),a.remove()}var s=this,a=H(et.indicator()).appendTo(t.body).fadeIn(200);s.el.fadeTo(200,.5),R.get(s.url,s.params,e)}},st.RelatedRead=function(){this._init()},st.RelatedRead.prototype={_init:function(){this.el=H('')},load:function(s){e.__duoshuo_id__=s,e.readsByToutiao=[],e.readsByToutiao.push({id:\"ds-related-reads\",num:3});var a=\"//s0.pstatp.com/site/reads-sdk/5bf3702b38076207bee1.js\",i=t.createElement(\"script\");i.src=a,i.charset=\"utf-8\",i.crossOrigin=\"anonymous\",t.head.appendChild(i)},mount:function(e){this.el.insertBefore(e)}},st.EmbedThread=Q.extend({uri:\"threads/listPosts\",params:\"thread-id local-thread-id source-thread-id thread-key category channel-key author-key author-id url limit order max-depth form-position container-url\"+(v.match(/MSIE 6\\.0/)?\"\":\" title image thumbnail\"),render:function(){var e=this.el;if(\"请将此处替换成文章在你的站点中的ID\"===e.data(\"thread-key\"))return alert(\"请设置正确的 data-thread-key 属性\"),!1;e.attr(\"id\",\"ds-thread\").append(et.waitingImg());var t=e.width(),s=e.data(\"url\")||!e.attr(\"data-thread-id\")&&H(\"link[rel=canonical]\").attr(\"href\");s?e.data(\"url\",k(s)):e.data(\"container-url\",h.href),t&&400>=t&&e.addClass(\"ds-narrow\").data(\"max-depth\",1)},updateCounter:function(e){function t(e){return e.substr(e.indexOf(\"}\")+1)}var s={duoshuo:[\"comments\",t(z.comments_multiple)||\"评论\"],repost:[\"reposts\",t(z.reposts_multiple)||\"转载\"],weibo:[\"weibo_reposts\",t(z.weibo_reposts_multiple)||\"新浪微博\"],qqt:[\"qqt_reposts\",t(z.qqt_reposts_multiple)||\"腾讯微博\"]};for(var a in s)if(!e||e==a){var i=this.data[s[a][0]];this.el.find(\".ds-comments-tab-\"+a).html(this.el.hasClass(\"ds-narrow\")?''+i:(i?''+i+\"\":\"0\")+s[a][1])}},onError:function(e){this.el.html(\"评论框出错啦(\"+e.code+\"): \"+e.errorMessage)},onload:function(t){var a=this,i=a.threadId=t.thread.thread_id,n=t.cursor,o=a.options=t.options,d=a.innerEl=p(H('').appendTo(a.el));a.model=new G(a.data=t.thread),lt.set(t.parentPosts||t.relatedPosts),ct.set(t.users),a.el.find(\"#ds-waiting\").remove(),t.options&&t.options.show_recommend&&(a.relatedRead=new st.RelatedRead,a.relatedRead.load(t.thread.site_id),a.relatedRead.mount(d)),o.like_thread_enabled&&(a.meta=new st.Meta(a),d.append(a.meta.render().el)),o.hot_posts&&t.hotPosts&&t.hotPosts.length&&(a.hotPosts=new st.HotPosts(H(''),{max_depth:1,show_context:o.show_context}),a.hotPosts.thread=a,d.append(a.hotPosts.el),a.hotPosts.onload({list:lt.getJSON(t.hotPosts)})),a.postListHead=new st.PostListHead(a),a.postList=new st.PostList({embedThread:a,params:{source:\"duoshuo\",thread_id:i,max_depth:o.max_depth,order:o.order,limit:o.limit}}),a.postList.render().reset(t.response),a.paginator=new st.Paginator({collection:a.postList}),a.paginator.reset(n);var c=a.replybox=new st.Replybox(a);c.postList=a.postList.el,r()?a.loginButtons=H(et.loginButtons()).delegate(\"a.ds-more-services\",\"click\",function(){return a.loginButtons.find(\".ds-additional-services\").toggle(),!1}).delegate(\"a.ds-service-link\",\"click\",l):a.toolbar=H(et.toolbar()).delegate(\".ds-account-control\",\"mouseenter\",function(){H(this).addClass(\"ds-active\")}).delegate(\".ds-account-control\",\"mouseleave\",function(){H(this).removeClass(\"ds-active\")}).delegate(\"a.ds-bind-more\",\"click\",function(){var e=E(et[\"dialog-bind-more\"]()).el.find(\".ds-dialog\").addClass(\"ds-dialog-bind-more\").css(\"width\",\"300px\");return e.find(\"a.ds-service-link\").click(l),!1}).delegate(\"a.ds-unread-comments-count\",\"click\",function(){return T(\"unread-comments\"),!1});var u=['',a.toolbar||a.loginButtons,c.render().el];\"top\"==o.formPosition&&H.fn.append.apply(d,u),d.append(a.postListHead.render().el,a.postList.el,a.paginator.el),\"bottom\"==o.formPosition&&H.fn.append.apply(d,u),d.append(et.poweredBy(o.poweredby_text)),a.updateCounter(),t.alerts&&H.each(t.alerts,function(e,t){H(''+t+\"\").insertBefore(a.toolbar||loginButtons)}),o.message&&c.el.find(\"textarea\").val(o.message).focus(),ot.on(\"reset\",function(){var e=ot.data.comments||0;d.find(\"a.ds-unread-comments-count\").html(e).attr(\"title\",e?\"你有\"+e+\"条新回复\":\"你没有新回复\").css(\"display\",e?\"inline\":\"none\")}),o.mzadx_id&&(S.require(\"mzadxN\",function(){}),H('').appendTo(d),__mz_rpq=e.__mz_rpq||[],__mz_rpq.push({l:[o.mzadx_id],r:\"1\",_srv:\"MZADX\",_callback:function(){}})),S.thread=a,ot.data!==s&&ot.trigger(\"reset\"),r()||A.send({visit_thread_id:a.threadId})},onMessage:function(e){M(this.postList.el,new F(e),this.options)}}),st.HotPosts=Q.extend({tmpl:\"hotPosts\",params:\"show-quote\",render:function(){return this.el.attr(\"id\",\"ds-hot-posts\"),this},onload:function(e){e.options=H.extend(this.options,e.options),Q.prototype.onload.call(this,e),U.call(this.el.find(\"ul\"),this.thread,this.options)}}),st.RecentComments=Q.extend({tmpl:\"commentList\",uri:\"sites/listRecentPosts\",params:\"show-avatars show-time show-title avatar-size show-admin excerpt-length num-items channel-key\",render:function(){this.el.attr(\"id\",\"ds-recent-comments\")},prepare:function(e){return{list:H.map(e.response,function(e){return new F(e).toJSON()})}}}),st.RecentVisitors=Q.extend({tmpl:\"recentVisitors\",uri:\"sites/listVisitors\",params:\"show-time avatar-size num-items channel-key\",render:function(){this.el.children().detach(),this.el.attr(\"id\",\"ds-recent-visitors\").append(this.waitingEl=H(et.waitingImg()))}}),st.TopThreads=Q.extend({tmpl:\"topThreads\",uri:\"sites/listTopThreads\",params:\"range num-items channel-key\",render:function(){this.el.children().detach(),this.el.attr(\"id\",\"ds-top-threads\").append(this.waitingEl=H(et.waitingImg()))}}),st.LoginWidget=Q.extend({tmpl:\"loginWidget\",render:function(){var e=this.el;e.attr(\"id\",\"ds-login\").html(et.loginWidget([\"weixin\",\"weibo\",\"qq\",\"renren\",\"kaixin\",\"douban\"])),e.find(\"a\").click(l),e.find(\"a.ds-logout\").attr(\"href\",Z.logoutUrl())}}),st.ThreadCount=Q.extend({onload:function(e){var t=this.el,s=t.data(\"count-type\")||\"comments\",a=e.data[s];t[t.data(\"replace\")?\"replaceWith\":\"html\"](z[s+\"_\"+(a?a>1?\"multiple\":\"one\":\"zero\")].replace(\"{num}\",a))}}),st.ShareWidget=Q.extend({tmpl:\"shareWidget\",render:function(){var e={copyright:\"多说分享插件\",services:[\"weibo\",\"qzone\",\"sohu\",\"renren\",\"netease\",\"qqt\",\"kaixin\",\"douban\",\"qq\",\"meilishuo\",\"mogujie\",\"baidu\",\"taobao\",\"google\",\"wechat\",\"diandian\",\"huaban\",\"duitang\",\"youdao\",\"pengyou\",\"facebook\",\"twitter\",\"linkedin\",\"msn\"]};this.el.attr(\"id\",\"ds-share\"),this.el.children().attr(\"id\",\"ds-reset\"),this.el.find(\".ds-share-aside-inner\").html(et.shareWidget(e)),this.el.find(\".ds-share-icons-more\").html(et.shareWidget(e)),this.el.find(\".ds-share-icons-more\").hide(),this.el.hasClass(\"flat\")&&this.el.find(\"a\").each(function(){H(this).addClass(\"flat\")}),p(this.el),this.delegateEvents()},delegateEvents:function(){var s=this,i=s.el;if(i.children().hasClass(\"ds-share-inline\")){var r=\".ds-share-icons-more\",n=i.find(r),d=\"[data-toggle=ds-share-icons-more]\";i.delegate(d,\"mouseover\",function(){n.show()}),i.delegate(d,\"mouseout\",function(){n.hide()}),i.delegate(r,\"mouseover\",function(){n.show()}),i.delegate(r,\"mouseout\",function(){n.hide()})}else{var l=i.children().hasClass(\"ds-share-aside-left\")?\"slide-to-right\":\"slide-to-left\",c=i.children();if(!o.cssProperty(\"transition\")){var u=i.children().hasClass(\"ds-share-aside-left\")?\"left\":\"right\";i.delegate(\".ds-share-aside-toggle\",\"mouseover\",function(){var e={},s=P.ie6&&\"right\"===u;s?e.left=(t.documentElement.scrollLeft+t.documentElement.clientWidth-this.offsetWidth-(parseInt(this.currentStyle.marginLeft,10)||0)-parseInt(this.currentStyle.marginRight,10)||0)-195:e[u]=0,c.animate(e,200)}),i.delegate(\".ds-share-aside-inner\",\"mouseleave\",function(){var e={},s=P.ie6&&\"right\"===u;s?e.left=(t.documentElement.scrollLeft+t.documentElement.clientWidth-this.offsetWidth-(parseInt(this.currentStyle.marginLeft,10)||0)-parseInt(this.currentStyle.marginRight,10)||0)+230:e[u]=-229,c.animate(e,200)})}i.delegate(\".ds-share-aside-toggle,.ds-share-aside-inner\",\"mouseover\",function(){c.addClass(l)}),i.delegate(\".ds-share-aside-toggle,.ds-share-aside-inner\",\"mouseleave\",function(){c.removeClass(l)})}i.delegate(\"a\",\"click\",function(t){var s=H(this).data(\"service\");if(!i.data(\"url\"))return void alert(\"请设置data-url\");if(\"wechat\"===s){var r=a()+\"/api/qrcode/getImage.png\",n=\"?size=240&text=\"+i.data(\"url\"),d=E(et[\"dialog-qrcode\"]({qrcode_url:r+n,url:i.data(\"url\")}));d.el.find(\".ds-dialog\").css(\"width\",\"320px\")}else{var l=a()+\"/share-proxy/?\"+o.param({service:H(this).data(\"service\"),thread_key:i.data(\"threadKey\"),title:i.data(\"title\"),images:i.data(\"images\"),content:i.data(\"content\"),url:i.data(\"url\")});e.open(l,\"_blank\")}t.preventDefault(),t.stopPropagation()})}});var it=0;S.initSelector=function(e,t){function s(e){W(e),o.extend(z,e.options),dt.set(e.response)}var a=[];!q()||!H.isReady&&j||H(e).each(function(e,s){var i=H(s);if(!i.data(\"initialized\")){i.data(\"initialized\",!0);var r=new st[t.type](i,t);if(at.push(r),\"ThreadCount\"===t.type){var n=i.attr(\"data-thread-key\");i.attr(\"data-channel-key\")&&(n=i.attr(\"data-channel-key\")+\":\"+n),a.push(n),dt[n]||(dt[n]=new G({})),dt[n].on(\"reset\",function(){r.onload(this)})}else if(r.uri){var o={};H.each(r.params.split(\" \"),function(e,t){o[t.replace(/-/g,\"_\")]=i.attr(\"data-\"+t)||i.data(t)}),R.get(r.uri,B(o),function(e){r.load(e)})}}}),a.length&&R.get(\"threads/counts\",B({threads:a.join(\",\")}),s)},(S.initView=function(){H.each(O,S.initSelector)})(),H(function(){if(!c){if(!q())return C.error(\"缺少 duoshuoQuery 的定义\");C.warn(\"请在加载多说 embed.js 之前定义 duoshuoQuery\")}setInterval(function(){H(\".ds-time\").each(function(){var e=H(this).attr(\"datetime\");e&&(this.innerHTML=S.elapsedTime(e))})},2e4),c.ondomready&&c.ondomready(),S.initView(),!it&&c.short_name&&R.get(\"analytics/ping\",B({}),W)})})}}(window,document);"},{"title":"","date":"2017-06-01T13:05:41.858Z","updated":"2017-06-01T13:05:41.858Z","comments":true,"path":"embed.js","permalink":"http://www.qssq666.cn/embed.js","excerpt":"","text":"! function(e, t, s) { function a() { return c.short_name ? g + \"//\" + c.short_name + \".\" + S.DOMAIN: S.REMOTE } function i() { function t() { for (var t; t = y.shift();) { var a = t.url, i = new s(t.title, { dir: \"auto\", icon: t.iconUrl, body: t.body }); try { i.onclick = function() { e.focus(), h.href = a, i.close() } } catch(r) {} setTimeout(function() { i.close && i.close() }, 8e3) } } var s = e.Notification; \"Notification\" in e && \"denied\" !== s.permission && (\"granted\" === s.permission && t(), s.requestPermission(function(e) { \"granted\" === e && t() })) } function r() { return 0 == nt.data.user_id } function n(e) { S.theme = e, \"none\" != e && o.injectStylesheet(S.STATIC_URL + \"/styles/embed\" + (e ? \".\" + e + \".css?\" + M[e] : \".\" + short_name) + \".css\") } var o = {}, d = t.getElementsByTagName(\"head\")[0] || t.getElementsByTagName(\"body\")[0]; if (o.extend = function(e, t) { for (var s in t) e[s] = t[s]; return e }, o.injectScript = function(a, i) { var r = t.createElement(\"script\"), n = t.head || t.getElementsByTagName(\"head\")[0] || t.documentElement; r.type = \"text/javascript\", r.src = a, r.async = \"async\", r.charset = \"utf-8\", i && (r.onload = r.onreadystatechange = function(t, a) { var o = a || !r.readyState || /loaded|complete/.test(r.readyState); o && (r.onload = r.onreadystatechange = null, n && r.parentNode && n.removeChild(r), r = s, a || i.call(e)) }), n.insertBefore(r, n.firstChild) }, o.injectStylesheet = function(e) { var s = t.createElement(\"link\"); s.type = \"text/css\", s.rel = \"stylesheet\", s.href = e, d.appendChild(s) }, o.injectStyle = function(e) { var s = t.createElement(\"style\"); return s.type = \"text/css\", d.appendChild(s), e = e.replace(/\\}/g, \"}\\n\"), s.styleSheet ? s.styleSheet.cssText = e: s.appendChild(t.createTextNode(e)), s }, o.getCookie = function(e) { for (var a, i, r, n = \" \" + e + \"=\", o = t.cookie.split(\";\"), d = 0; d < o.length; d++) if (a = \" \" + o[d], i = a.indexOf(n), i >= 0 && i + n.length == (r = a.indexOf(\"=\") + 1)) return decodeURIComponent(a.substring(r, a.length).replace(/\\+/g, \"\")); return s }, o.param = function(e) { var t = []; for (var a in e) e[a] != s && t.push(a + \"=\" + encodeURIComponent(e[a])); return t.join(\"&\") }, o.cssProperty = function(e, s) { var a = (t.body || t.documentElement).style; if (\"undefined\" == typeof a) return ! 1; if (\"string\" == typeof a[e]) return s ? e: !0; for (var i = [\"Moz\", \"Webkit\", \"ms\"], e = e.charAt(0).toUpperCase() + e.substr(1), r = 0; r < i.length; r++) if (\"string\" == typeof a[i[r] + e]) return s ? i[r] + e: !0 }, !e.DUOSHUO) { for (var l in Object.prototype) return alert(\"Object.prototype 不为空，请不要给 Object.prototype 设置方法\"); var c, u, p = e.JSON, h = e.location, f = e.XMLHttpRequest, m = p && p.stringify && e.localStorage, v = e.navigator.userAgent, g = \"https:\" == t.location.protocol ? \"https:\": \"http:\", b = 0, y = [], _ = u = function() { function e(e) { return t[e] || \"&amp;\" } var t = { \"\": \"&gt;\", '\"': \"&quot;\", \"'\": \"&#x27;\", \"`\": \"&#x60;\" }, s = /&(?!\\w+;)|[\"'`]/g, a = /[&\"'`]/; return function(t) { return null == t || t === !1 ? \"\": a.test(t) ? t.replace(s, e) : t } } (), k = function(e) { if (e.match(/^(http|https):/)) return e; var s = t.createElement(\"a\"); return s.href = e, P.hrefNormalized ? s.href: s.getAttribute(\"href\", 4) }, w = function(e) { return function() { return e } }, x = function() { for (var e = {}, t = 0; t < arguments.length; t++) arguments[t] && o.extend(e, arguments[t]); var s = o.param(e); return s ? \"?\" + s: \"\" }, T = function() { var e = o.getCookie(\"duoshuo_token\"); return e ? { jwt: e }: c.remote_auth ? { short_name: c.short_name, remote_auth: c.remote_auth }: s }, q = function() { if (!c && (c = e.duoshuoQuery)) { if (!c.short_name || \"your_duoshuo_short_name\" === c.short_name) return c = s, void alert(\"你还没有设置多说域名(duoshuoQuery.short_name)，填入已有域名或创建新站点：http://duoshuo.com/create-site/\"); it.trigger(\"queryDefined\") } return c }, C = function(e) { return e && e.error && e.warn ? e: { error: function() {}, log: function() {}, warn: function() {} } } (e.console), S = e.DUOSHUO = { sourceName: { weibo: \"新浪微博\", qq: \"QQ\", qzone: \"QQ空间\", qqt: \"腾讯微博\", renren: \"人人网\", douban: \"豆瓣网\", kaixin: \"开心网\", sohu: \"搜狐微博\", baidu: \"百度\", google: \"谷歌\", wechat: \"微信\", weixin: \"微信\", facebook: \"Facebook\", twitter: \"Twitter\", linkedin: \"Linkedin\" }, serviceNames: { weibo: \"微博\", qq: \"QQ\", douban: \"豆瓣\", renren: \"人人\", kaixin: \"开心\", baidu: \"百度\", google: \"谷歌\", wechat: \"微信\", weixin: \"微信\", facebook: \"Facebook\", twitter: \"Twitter\", linkedin: \"Linkedin\" }, parseDate: function(e) { return e.parse(\"2011-10-28T00:00:00+08:00\") && function(t) { return new e(t) } || e.parse(\"2011/10/28T00:00:00+0800\") && function(t) { return new e(t.replace(/-/g, \"/\").replace(/:(\\d\\d)$/, \"$1\")) } || e.parse(\"2011/10/28 00:00:00+0800\") && function(t) { return new e(t.replace(/-/g, \"/\").replace(/:(\\d\\d)$/, \"$1\").replace(\"T\", \" \")) } || function(t) { return new e(t) } } (Date), fullTime: function(e) { var t = S.parseDate(e); return t.getFullYear() + \"年\" + (t.getMonth() + 1) + \"月\" + t.getDate() + \"日 \" + t.toLocaleTimeString() }, elapsedTime: function(e) { var t = S.parseDate(e), s = new Date, a = (s - b - t) / 1e3; return 10 > a ? \"刚刚\": 60 > a ? Math.round(a) + \"秒前\": 3600 > a ? Math.round(a / 60) + \"分钟前\": 86400 > a ? Math.round(a / 3600) + \"小时前\": (s.getFullYear() == t.getFullYear() ? \"\": t.getFullYear() + \"年\") + (t.getMonth() + 1) + \"月\" + t.getDate() + \"日\" }, compileStyle: function(e) { var t = \"\", s = {}; if (s.textbox = \"#ds-thread #ds-reset .ds-replybox .ds-textarea-wrapper\", !e) return t; for (var a in e) t += s[a] + \"{\" + e[a] + \"}\\n\"; return t }, init: function(e, t) { e && !O[e] && (O[e] = t || { type: \"EmbedThread\" }), S.initView && S.initView() } }, j = t.all, P = S.support = function() { var s = t.createElement(\"div\"); s.innerHTML = 'a'; var a = s.getElementsByTagName(\"a\")[0], i = s.getElementsByTagName(\"input\")[0], r = { placeholder: \"placeholder\" in i, touch: \"ontouchstart\" in e || \"onmsgesturechange\" in e, opacity: /^0.55$/.test(a.style.opacity), hrefNormalized: \"/a\" === a.getAttribute(\"href\"), iOS: v.match(/ \\((iPad|iPhone|iPod);( U;)? CPU( iPhone)? OS /), android: v.match(/ \\(Linux; U; Android /) }; return r.ie6 = !f && \"undefined\" == typeof s.style.maxHeight, r.authInWin = e.postMessage && e.screen.width > 800 && !r.iOS && !r.android && h.origin, r } (), O = S.selectors = { \".ds-thread\": { type: \"EmbedThread\" }, \".ds-recent-comments\": { type: \"RecentComments\" }, \".ds-recent-visitors\": { type: \"RecentVisitors\" }, \".ds-top-users\": { type: \"TopUsers\" }, \".ds-top-threads\": { type: \"TopThreads\" }, \".ds-login\": { type: \"LoginWidget\" }, \".ds-thread-count\": { type: \"ThreadCount\" }, \".ds-share\": { type: \"ShareWidget\" } }, E = S.openDialog = function(e) { return S.dialog !== s && S.dialog.el.remove(), S.dialog = new st.Dialog(et.dialog(e)).open() }, L = S.smilies = {}; S.require = function() { function t(e) { var t = U[e] ? \"?\" + U[e] + \".js\": \"\"; return S.STATIC_URL + \"/libs/\" + e + \".js\" + t } var s = { mzadxN: \"undefined\" != typeof mzadxN }; return \"undefined\" != typeof jQuery && jQuery.fn.jquery >= \"1.5\" && (s[\"embed.compat\"] = !0, S.jQuery = e.jQuery), function(e, a) { if (\"string\" == typeof e) s[e] ? a() : o.injectScript(t(e), function() { s[e] = !0, a() }); else if (\"object\" == typeof e) { var i, r = !0; for (i = 0; i < e.length; i++)(function(n) { s[e[i]] || (r = !1, o.injectScript(t(n), function() { s[n] = !0; for (var t = 0; t < e.length; t++) if (!s[e[t]]) return; a() })) })(e[i]); r && a() } } } (); for (var N = 0, I = [\"EmbedThread\", \"RecentComments\", \"RecentVisitors\", \"TopUsers\", \"TopThreads\", \"LoginWidget\", \"ThreadCount\"]; N < I.length; N++) S[I[N]] = function(e) { return function(t, s) { s = s || {}, s.type = e, t && !O[t] && (O[t] = s), S.initSelector && S.initSelector(t, s) } } (I[N]), S[\"create\" + I[N]] = function(e) { return function(s, a) { var i = t.createElement(s); for (var r in a) i.setAttribute(\"data-\" + r, a[r]); return S[e](i), i } } (I[N]); S.RecentCommentsWidget = S.RecentComments; var R = S.API = { ajax: function(e, t, i, r, n) { function d(e) { var t = e.getResponseHeader(\"Date\"); t && (b = new Date - new Date(t)) } function l(e, t, s) { var a, i, o, l = t; if (e >= 200 && 300 > e || 304 === e) if (304 === e) l = \"notmodified\", o = !0; else try { a = p.parse(s), l = \"success\", o = !0 } catch(c) { l = \"parsererror\", i = c } else { i = l, (!l || e) && (l = \"error\", 0 > e && (e = 0)); try { a = p.parse(s) } catch(c) { l = \"parsererror\", i = c } } o ? r && r(a) : \"parseerror\" === l ? C.error(\"解析错误: \" + s) : (C.error(\"出错啦(\" + a.code + \"): \" + a.errorMessage), n && n(a), a.errorTrace && C.error(a.errorTrace)), d(m) } var u = o.getCookie(\"duoshuo_token\"); i = i || {}, i.v = S.version, u ? i.jwt = u: c.remote_auth && (i.remote_auth = c.remote_auth); var h = f && p && p.parse; if (h) { var m = new f, v = !!m && \"withCredentials\" in m; if (v) { var g; return m.open(e, a() + \"/api/\" + t + \".json\" + (\"GET\" == e ? \"?\" + o.param(i) : \"\"), !0), m.withCredentials = !0, m.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded; charset=UTF-8\"), m.send(\"GET\" == e ? null: o.param(i)), g = function(e, t) { var a, i, r, n; try { if (g && (t || 4 === m.readyState)) if (g = s, t) 4 !== m.readyState && m.abort(); else { a = m.status, r = m.getAllResponseHeaders(); try { n = m.responseText } catch(e) {} try { i = m.statusText } catch(o) { i = \"\" } } } catch(d) { t || l( - 1, d) } n && l(a, i, n, r) }, void(4 === m.readyState ? g() : m.onreadystatechange = g) } } \"GET\" != e && (i._method = \"POST\"); var y = \"cb_\" + Math.round(1e6 * Math.random()); R[y] = function(e) { switch (e.code) { case 0: r && r(e); break; default: n && n(e), C.error(\"出错啦(\" + e.code + \"): \" + e.errorMessage), e.errorTrace && C.error(e.errorTrace) } }, i.callback = \"DUOSHUO.API['\" + y + \"']\", o.injectScript(a() + \"/api/\" + t + \".jsonp?\" + o.param(i)) }, get: function(e, t, s, a) { return this.ajax(\"GET\", e, t, s, a) }, post: function(e, t, s, a) { return this.ajax(\"POST\", e, t, s, a) } }, A = S.ws = { messages: [], send: function(s) { if (! (\"WebSocket\" in e && p)) return ! 1; var a = this; if (a.messages.push(p.stringify(s)), !a.webSocket) { var r = \"https:\" === t.location.protocol ? \"wss://ws.duoshuo.com:8202/\": \"ws://ws.duoshuo.com:8201/\", n = a.webSocket = new WebSocket(r); n.onopen = function() { var e, t = 1 === n.readyState; if (t) for (; e = a.messages.shift();) n.send(e) }, n.onmessage = function(e) { try { var t = p.parse(e.data) } catch(s) { return } switch (t.type) { case \"post\": for (var a, r = 0; r < S.pagelets.length; r++) a = S.pagelets[r], a.threadId == t.thread_id && a.onMessage(t); break; case \"notification\": y.push(t), i() } }, e.addEventListener(\"beforeunload\", function() { n.close() }) } a.webSocket.onopen() } }; S.DOMAIN = \"duoshuo.com\", S.STATIC_URL = g + \"//static.duoshuo.com\", S.REMOTE = g + \"//duoshuo.com\", S.version = \"16.6.16\"; var M = { \"default\": \"9b2a46a0\", dark: \"33f3a5ac\", bluebox: \"39a75d50\", newhua: \"706ba4eb\", justflat: \"9d72ec5a\" }, U = { \"embed.compat\": \"24f8ca3f\", smilies: \"921e8eda\" }, z = { post: \"发布\", posting: \"正在发布\", settings: \"设置\", reply: \"回复\", like: \"顶\", repost: \"转发\", report: \"举报\", \"delete\": \"删除\", reply_to: \"回复 \", reposts: \"转发\", comments: \"评论\", floor: \"楼\", latest: \"最新\", earliest: \"最早\", hottest: \"最热\", share_to: \"分享到:\", leave_a_message: \"说点什么吧…\", no_comments_yet: \"还没有评论，沙发等你来抢\", repost_reason: \"请输入转发理由\", hot_posts_title: \"被顶起来的评论\", comments_zero: \"暂无评论\", comments_one: \"1条评论\", comments_multiple: \"{num}条评论\", reposts_zero: \"暂无转发\", reposts_one: \"1条转发\", reposts_multiple: \"{num}条转发\", weibo_reposts_zero: \"暂无新浪微博\", weibo_reposts_one: \"1条新浪微博\", weibo_reposts_multiple: \"{num}条新浪微博\", qqt_reposts_zero: \"暂无腾讯微博\", qqt_reposts_one: \"1条腾讯微博\", qqt_reposts_multiple: \"{num}条腾讯微博\" }, D = { get: function(e) { return m ? m[e] : void 0 }, save: function(e, t) { if (m) try { m.removeItem(e), m[e] = p.stringify(t), m.removeItem(e + \":timestamp\"), m[e + \":timestamp\"] = Math.floor((new Date - b) / 1e3) } catch(s) {} } }, W = S.loadRequire = function(t) { if (t.visitor && (!nt.data && t.visitor.user_id && e.Notification && A.send({ logged_user_id: t.visitor.user_id }), nt.reset(t.visitor)), t.site && (rt.reset(t.site), D.save(\"ds_site_\" + c.short_name, t.site)), !S.theme && rt.data.theme && n(rt.data.theme), t.lang && (o.extend(z, t.lang), D.save(\"ds_lang_\" + c.short_name, t.lang)), t.stylesheets) for (var s = 0; s < t.stylesheets.length; s++) o.injectStylesheet(t.stylesheets[s]); if (t.nonce && (S.nonce = t.nonce), t.style && o.injectStyle((t.style || \"\") + S.compileStyle(c.component_style)), t.unread && ot.reset(t.unread), t.warnings) for (var s = 0; s < t.warnings.length; s++) C.warn(t.warnings[s]) }, B = 0, H = S.Class = function() {}; H.extend = function(e) { function t() { ! B && this.init && this.init.apply(this, arguments) } B = 1; var s = new this; B = 0; for (var a in e) s[a] = e[a]; return t.prototype = s, t.prototype.constructor = t, t.extend = arguments.callee, t }; var J = S.Event = H.extend({ on: function(e, t) { var a = this.handlers || (this.handlers = {}); return a[e] === s && (a[e] = []), a[e].push(t), this }, trigger: function(e, t) { var s = (this.handlers || (this.handlers = {}))[e]; if (s) for (var a = 0; a < s.length && s[a].call(this, t) !== !1; a++); return this } }), Q = S.Widget = J.extend({ init: function(e, t) { this.el = e, this.options = t || {}, this.render() }, render: function() {}, reset: function() {}, load: function(e) { switch (e.code) { case 0: W(e); var t = this.prepare(e); t.options = o.extend(this.options, e.options), this.onload(t); break; default: this.onError(e) } }, onload: function(e) { this.el.html(et[this.tmpl](e)) }, prepare: function(e) { return e }, onMessage: function() {}, onError: function(e) { C.error(\"出错啦(\" + e.code + \"): \" + e.errorMessage), e.errorTrace && C.error(e.errorTrace) } }), V = S.Model = J.extend({ init: function(e) { this.data = e }, reset: function(e) { this.data = e, this.trigger(\"reset\") }, remove: function(e) { this.data.splice(e, 1), this.trigger(\"reset\") }, set: function(e, t) { if (t === s) for (var a in e) this.data[a] = e[a]; else this.data[e] = t; return this.trigger(\"reset\"), this }, toJSON: function() { return o.extend({}, this.data) } }), $ = V.extend({ toJSON: function() { return o.extend({}, this.data) } }), F = V.extend({ toJSON: function() { var e = o.extend({}, this.data); return e.theAuthor = ct[this.data.author_id] && ct[this.data.author_id].data || this.data.author, e.parents = this.data.parents || [], e } }), G = V.extend({ toJSON: function() { return o.extend({}, this.data) } }), Y = function(e) { this.model = e }; Y.prototype.set = function(e) { for (var t in e) e[t] && (this[t] ? this[t].set(e[t]) : this[t] = new this.model(e[t])) }, Y.prototype.get = function(e) { for (var t = 0, s = []; t < e.length; t++) s[t] = this[e[t]]; return s }, Y.prototype.getJSON = function(e) { for (var t = 0, s = []; t < e.length; t++) this[e[t]] && s.push(this[e[t]].toJSON()); return s }; var Z = { userUrl: function(e) { return e.url }, avatarUrl: function(e) { return e.avatar_url || rt.data.default_avatar_url }, loginUrl: function(e, t) { return t || (t = {}), c.sso && c.sso.login && (t.sso = 1, t.redirect_uri = c.sso.login), a() + \"/login/\" + e + \"/\" + x(t) }, bindUrl: function(e) { return a() + \"/bind/\" + e + \"/\" + x(c.sso && c.sso.login ? { sso: 1, redirect_uri: c.sso.login }: null, T()) }, logoutUrl: function() { return a() + \"/logout/\" + x(c.sso && c.sso.logout ? { sso: 1, redirect_uri: c.sso.logout }: null) } }, X = [\"weixin\", \"weibo\", \"qq\", \"renren\"], K = [\"douban\", \"kaixin\", \"baidu\", \"google\"], et = S.templates = { userAnchor: function(e) { return e.url ? '' + _(e.name) + \"\": _(e.name) }, avatarImg: function(e, t) { return '' + et.avatar(e.post.theAuthor || e.post.author) + '' + et.userAnchor(e.post.theAuthor || e.post.author) + et.timeAnchor(e.post.created_at, e.post.url), e.index >= 0 && (t += '' + (e.index + 1) + z.floor + \"\"), t += '' + e.post.message, e.index >= 0 && (t += ' i;) a = s[i += 1], t += '' + S.sourceName[a] + \"\"; return t += \"\", e.options.deny_anonymous || (t += '作为游客留言名字(必填)', e.options.require_guest_email && (t += '邮箱(必填)'), e.options.require_guest_url && (t += '网址(可选)'), t += '发布'), t }, et[\"dialog-ask-for-auth\"] = function() { var e = '社交帐号登录' + et.serviceList(X) + '' + et.serviceList(K) + \"\"; return e }, et[\"dialog-bind-more\"] = function() { var e = '绑定更多帐号' + et.serviceBindList(X) + '' + et.serviceBindList(K) + ''; return e }, et[\"dialog-qrcode\"] = function(e) { var t = '微信扫一扫，分享到朋友圈'; return t }, et[\"dialog-reposts\"] = function(e) { var t = '转发到微博@' + u(e.post.theAuthor.name) + \": \" + e.post.message + \"\" + tt({ post_id: e.post.post_id }) + '' + u(e.repostMessage) + ''; return t += '', e.service ? t += tt({ \"service[]\": e.service }) : (t += '\" }, et.post = function(e) { var t = \"\", s = e.post, i = e.options, r = s.author; if (t += '\" z.share_to=\"\" \"\"; for (var s in nt.data.repostOptions) t += et.serviceIcon(s, !nt.data.repostOptions[s]) } return t += \"\", t += \"\", t += '' + u(z.post) + '', e.options.use_smilies && (t += ''), e.options.use_images && e.options.parse_html_enabled && (t += ''), t += \"\", t += \"\" }, et.serviceBindList = function(e) { var t = \"\", s = e; if (s) for (var a, i = -1, r = s.length - 1; r > i;) a = s[i += 1], t += '' + S.serviceNames[a], nt.data.social_uid[a] && (t += ' '), t += \"\"; return t }, et.serviceList = function(e) { var t = \"\", s = e; if (s) for (var a, i = -1, r = s.length - 1; r > i;) a = s[i += 1], t += '' + S.serviceNames[a] + \"\"; return t }, et.shareWidget = function(e) { var t = ' ', s = e.services; if (s) for (var a, i = -1, r = s.length - 1; r > i;) a = s[i += 1], t += ' ' + S.sourceName[a] + \" \"; return t += ' ' + e.copyright + \"\" }, et.smiliesTooltip = function(e) { var t = ''; for (var s in e) t += \"\" + s + \"\"; return t += '' }, et.toolbar = function() { var e = ' 帐号管理绑定更多' + u(z.settings) + '登出'; return e += nt.data.url ? '' + u(nt.data.name) + \"\": '' + u(nt.data.name) + \"\", e += '' }, et.topThreads = function(e) { var t = \"\", s = e.response; if (s) for (var a, i = -1, r = s.length - 1; r > i;) a = s[i += 1], t += '' + u(a.title) + \"\"; return t }, et.topUsers = function(e) { var t = \"\", s = e.response; if (s) for (var a, i = -1, r = s.length - 1; r > i;) a = s[i += 1], t += '' + et.avatar(a, e.options.avatar_size) + \"\" + u(a.name) + \"\"; return t }, et.userInfo = function(e) { var t = '' + et.avatarImg(e) + '' + u(e.name) + \"\"; for (var s in e.social_uid) t += '' + e.comments + \"条评论\", e.description && (t += '' + u(e.description) + \"\"), t }; var st = S.Views = {}, at = (S.Callbacks = {}, S.pagelets = []), it = S.events = new J, rt = S.site = new V, nt = S.visitor = new $, ot = S.unread = new V, dt = S.threadPool = new Y(G), lt = S.postPool = new Y(F), ct = S.userPool = new Y($); it.on(\"queryDefined\", function() { var e = c.short_name; if (c.theme && n(c.theme), m) { var t = m[\"ds_site_\" + e], s = m[\"ds_lang_\" + e]; t && rt.reset(p.parse(t)), s && o.extend(z, p.parse(s)) } }), q(), S.require(\"embed.compat\", function() { function i(e) { e.stopPropagation() } function n(e) { (e.ctrlKey && 13 == e.which || 10 == e.which) && H(this.form).trigger(\"submit\") } function d() { var e = H(this); e.height(Math.max(54, e.next(\".ds-hidden-text\").text(this.value).height() + 27)) } function l() { if (P.authInWin) { var e = this.href.match(/\\/(login|bind)\\/(\\w+)\\//i); if (e && S.serviceNames[e[2]]) return ! b(e[2], this.href) } } function u() { var e, s, a, i, r, n = this, o = 0, d = 0; t.selection && (s = t.selection.createRange(), s && s.parentElement() == n && (i = n.value.length, e = n.value.replace(/\\r\\n/g, \"\\n\"), a = n.createTextRange(), a.moveToBookmark(s.getBookmark()), r = n.createTextRange(), r.collapse(!1), a.compareEndPoints(\"StartToEnd\", r) > -1 ? o = d = i: (o = -a.moveStart(\"character\", -i), o += e.slice(0, o).split(\"\\n\").length - 1, a.compareEndPoints(\"EndToEnd\", r) > -1 ? d = i: (d = -a.moveEnd(\"character\", -i), d += e.slice(0, d).split(\"\\n\").length - 1)))), H(n).data(\"ds-range-start\", o).data(\"ds-range-end\", d) } function p(e) { return P.touch && e.addClass(\"ds-touch\"), o.cssProperty(\"transition\") || e.addClass(\"ds-no-transition\"), P.ie6 && e.addClass(\"ds-ie6\"), P.opacity || e.addClass(\"ds-no-opacity\"), e } function f(e) { if (!P.placeholder) { var t = e.attr(\"placeholder\"); e.val(t).focus(function() { this.value === t && (this.value = \"\") }).blur(function() { \"\" === this.value && (this.value = t) }) } return e } function g(e) { if (\"http://duoshuo.com\" === e.origin) switch (e.data.type) { case \"login\": h.href = e.data.redirectUrl } } function b(t, s) { var a = { weibo: [760, 600], renren: [420, 322], qq: [504, 445], weixin: [450, 550], google: [600, 440] } [t] || [550, 400]; return e.open(s + ( - 1 == s.indexOf(\"?\") ? \"?\": \"&\") + o.param({ origin: h.origin || \"http://\" + h.host }), \"_blank\", \"width=\" + a[0] + \",height=\" + a[1] + \",toolbar=no,menubar=no,location=yes\") } function y(e) { var t = Z[r() ? \"loginUrl\": \"bindUrl\"](e); P.authInWin && b(e, t) || (h.href = t) } function w() { var e = E(et[\"dialog-ask-for-auth\"]({})).el.find(\".ds-dialog\").css(\"width\", \"300px\"); e.find(\"a.ds-service-link\").click(l) } function x(e, t, s, a) { function i() { function e(e) { if (s && a) { var t = s.options, i = M(s.postList.el, e.response[a], t); \"asc\" == t.order == (\"top\" == t.formPosition) && S.scrollTo(i); var r = s.el.find(\".ds-comments-tab-\" + a + \" span.ds-highlight\"); r.html(parseInt(r.html()) + 1) } } return a || l.find(\"[type=checkbox]:checked\")[0] ? (R.post(\"posts/repost\", S.toJSON(l), e), o.close(), !1) : (alert(\"还没有选发布到哪儿呢\"), !1) } function r() { var e = this.value; return this.checked && !nt.data.social_uid[\"qqt\" == e ? \"qq\": e] ? void y(e) : void 0 } var o = E(et[\"dialog-reposts\"]({ post: e.toJSON(), repostMessage: t, service: a })), l = o.el.find(\"form\"); return l.submit(i), l.find(\".ds-actions [type=checkbox]\").change(r), f(l.find(\"textarea\")).keyup(n).keyup(d).focus(), !1 } function T(e) { var t = { \"unread-comments\": { title: \"新留言及回复\", apiUrl: \"users/unreadComments\", tmpl: function(e) { return e.thread ? '' + H.map(e.authors, et.userAnchor).join(\"、\") + ' 在 ' + _(e.thread.title || \"无标题\") + ' 中回复了你 知道了': \"\" }, read: function(e) { var t = e.attr(\"data-thread-id\"); R.post(\"threads/read\", { thread_id: t }), ot.data.comments-- } }, \"unread-notifications\": { title: \"系统消息\", apiUrl: \"users/unreadNotifications\", tmpl: function(e) { return '' + e.content + ' 知道了' }, read: function(e) { var t = e.attr(\"data-notification-id\"); R.post(\"notifications/read\", { notification_id: t }), ot.data.notifications-- } } } [e], s = E(\"\" + t.title + ''); s.on(\"close\", S.resetNotify); var a = s.el.find(\".ds-unread-list\").delegate(\".ds-delete\", \"click\", function() { return H(this).parent().remove(), 0 === a.children().length && s.close(), !1 }).delegate(\".ds-read\", \"click\", function() { t.read(H(this).parent()) }); H(\"#ds-notify\").hide(), R.get(t.apiUrl, {}, function(e) { s.el.find(\".ds-unread-list\").html(H.map(e.response, t.tmpl).join(\"\\n\")) }) } function N() { bubbleOutTimer && (clearTimeout(bubbleOutTimer), bubbleOutTimer = 0) } function I() { bubbleOutTimer = setTimeout(function() { bubbleOutTimer = 0, X.detach() }, 400) } function M(e, t, s) { return e.find(\".ds-post[data-post-id=\" + t.data.post_id + \"]\")[0] ? void 0 : (e.find(\".ds-post-placeholder\").remove(), H(et.post({ post: t.toJSON(), options: s })).hide()[\"asc\" == s.order ? \"appendTo\": \"prependTo\"](e).slideDown(function() {})) } function U(e, t) { function s() { if (r()) return w(), !1; var e = H(this).parent(), t = e.hasClass(\"ds-post-liked\"), s = H(this).html().match(/\\((\\d+)\\)/), a = (s ? parseInt(s[1]) : 0) + (t ? -1 : 1); return R.post(\"posts/vote\", { post_id: e.closest(\".ds-ctx-entry, .ds-post-self\").attr(\"data-post-id\"), vote: t ? 0 : 1 }), H(this).html(H(this).html().replace(/\\(\\d+\\)/, \"\") + (a ? \"(\" + a + \")\": \"\")), e[t ? \"removeClass\": \"addClass\"](\"ds-post-liked\"), !1 } function a() { var e = H(this).closest(\".ds-post-self\"), t = lt[e.attr(\"data-post-id\")]; return x(t, \"\"), !1 } function i() { if (!confirm(\"确定要删除这条评论吗？\")) return ! 1; var t = H(this).closest(\".ds-post-self\"); return R.post(\"posts/remove\", { post_id: t.attr(\"data-post-id\") }), t.parent().fadeOut(200, function() { e.data.comments--, e.updateCounter(\"duoshuo\"), H(this).remove() }), !1 } function n() { if (!confirm(\"确定要举报这条评论吗？\")) return ! 1; var e = H(this).closest(\".ds-post-self\"); return R.post(\"posts/report\", { post_id: e.attr(\"data-post-id\") }), alert(\"感谢您的反馈！\"), !1 } function o() { var s = H(this), a = s.closest(\".ds-comment-actions\"); if (a.hasClass(\"ds-reply-active\")) h.el.fadeOut(200, function() { H(this).detach() }), a.removeClass(\"ds-reply-active\"); else { var i = s.closest(\".ds-ctx-entry, .ds-post-self\"); h ? h.actionsBar.removeClass(\"ds-reply-active\") : (h = new st.Replybox(e), h.render(!0).el.addClass(\"ds-inline-replybox\").detach()), h.el.find(\"[name=parent_id]\").val(i.attr(\"data-post-id\")), h.el.show().appendTo(s.closest(\".ds-ctx-body, .ds-comment-body\")).find(\"textarea\").focus(), h.actionsBar = a.addClass(\"ds-reply-active\"), t.max_depth ').insertAfter(i))) } return ! 1 } function d() { function e(e) { W(e), i.append(H.map(e.response, function(e) { return et.post({ post: e, options: t }) }).join(\"\")) } { var s = H(this).closest(\".ds-post-self\"), a = s.attr(\"data-post-id\"); s.data(\"source\") } if (0 != s.attr(\"data-root-id\")) return ! 1; var i = s.siblings(\".ds-children\"); return i[0] ? (i.remove(), !1) : (i = H('').insertAfter(s), R.get(\"posts/listComments\", B({ post_id: a }), e), !1) } function l() { var t = H(this).closest(\".ds-post-self\"), s = lt[t.attr(\"data-post-id\")], a = s.data.source; if (!nt.data.social_uid[\"qqt\" == a ? \"qq\": a]) return void y(a); var i = s.data.root_id, r = \"0\" != i ? lt[i] : s, n = \"\"; if (\"0\" != i) { var o = prepatePost(s.data).theAuthor; n = (\"weibo\" == a ? \"//@\" + o.name: \"|| @\" + o.qqt_account) + \":\" + s.data.message } return x(r, n, e, a), !1 } function c() { var e = H(this).parent(); return e.siblings().show(), e.remove(), !1 } function u() { function t() { function t(e) { var t = e.response; ct[c] ? ct[c].set(t) : ct[c] = new $(t), X.owner == s && K.html(et.userInfo(t)) } tt = 0, X.owner = s, N(); var i = a.offset(), r = e.el.offset(), n = a.innerWidth() / 2, o = e.el.innerHeight() - (i.top - r.top) + 6, d = i.left - r.left - 35 + (n > 35 ? 35 : n); try { if (a.hasClass(\"ds-comment-context\")) K.attr(\"id\", \"ds-ctx-bubble\").attr(\"data-post-id\", a.attr(\"data-post-id\")).html('' + et.ctxPost({ post: lt[a.attr(\"data-parent-id\")].toJSON() }) + '查看对话'); else if (a.hasClass(\"ds-avatar\") || a.hasClass(\"ds-user-name\")) { var l = {}, c = l.user_id = a.attr(\"data-user-id\"); if (!c) throw \"no info\"; K.attr(\"id\", \"ds-user-card\").attr(\"data-user-id\", c).empty(), ct[c] ? K.html(et.userInfo(ct[c].data)) : R.get(\"users/profile\", B(l), t) } X.css({ bottom: o, left: d }).appendTo(e.innerEl) } catch(u) { X.detach() } } var s = this; if (bubbleOutTimer && X.owner == s) return clearTimeout(bubbleOutTimer), void(bubbleOutTimer = 0); var a = H(s); tt = setTimeout(t, 200) } function p() { tt ? (clearTimeout(tt), tt = 0) : bubbleOutTimer || I() } var h; this.delegate(\"a.ds-post-likes\", \"click\", s).delegate(\"a.ds-post-repost\", \"click\", a).delegate(\"a.ds-post-delete\", \"click\", i).delegate(\"a.ds-post-report\", \"click\", n).delegate(\"a.ds-post-reply\", \"click\", o).delegate(\"a.ds-weibo-comments\", \"click\", d).delegate(\"a.ds-weibo-reposts\", \"click\", l).delegate(\"a.ds-expand\", \"click\", c), P.touch || this.delegate(\"a.ds-comment-context, .ds-avatar, .ds-user-name\", \"mouseenter\", u).delegate(\"a.ds-comment-context, .ds-avatar, .ds-user-name\", \"mouseleave\", p) } function B(e) { var s = { require: \"site,visitor,nonce,lang\" + (it++?\"\": \",unread,log,extraCss\"), site_ims: D.get(\"ds_site_\" + c.short_name + \":timestamp\"), lang_ims: D.get(\"ds_lang_\" + c.short_name + \":timestamp\"), referer: t.referrer }; c.stylePatch && (s.style_patch = c.stylePatch); for (var a in s) s[a] && (!P.ie6 || encodeURIComponent(s[a]).length < 200) && (e[a] = s[a]); return e } var H = S.jQuery, V = H(e), Y = H(t); e.postMessage && (e.addEventListener ? e.addEventListener(\"message\", g, !1) : e.attachEvent && e.attachEvent(\"onmessage\", g)), S.scrollTo = function(e) { var t = e.offset().top; (t < V.scrollTop() || t > V.scrollTop() + V.height()) && H(\"html, body\").animate({ scrollTop: t - 40 }, 200, \"swing\") }, S.toJSON = function(e) { var t = /\\r?\\n/g, s = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i, a = /^(?:select|textarea)/i, i = e.map(function() { return this.elements ? H.makeArray(this.elements) : this }).filter(function() { return this.name && !this.disabled && (this.checked || a.test(this.nodeName) || s.test(this.type)) }).map(function(e, s) { var a = H(this).val(); return null == a ? null: H.isArray(a) ? H.map(a, function(e) { return { name: s.name, value: e.replace(t, \"\\r\\n\") } }) : { name: s.name, value: a.replace(t, \"\\r\\n\") } }).toArray(), r = {}; return H.each(i, function() { r[this.name] = this.value }), r }, S.resetNotify = function() { var e = H(\"#ds-notify\"), s = ot.data; e[0] || (e = H('').css({ hidden: { display: \"none\" }, \"top-right\": { top: \"24px\", right: \"24px\" }, \"bottom-right\": { bottom: \"24px\", right: \"24px\" } } [rt.data.notify_position]).delegate(\".ds-notify-unread a\", \"click\", function() { return T(H(this).data(\"type\")), !1 }).appendTo(t.body)), e.html(et.notify(s))[!s.comments && !s.notifications || \"hidden\" === rt.data.notify_position || H(\".ds-dialog\")[0] ? \"hide\": \"show\"]() }, ot.on(\"reset\", S.resetNotify), st.Replybox = function(e) { this.embedThread = e }, st.Replybox.prototype = { render: function(e) { function s(e) { e.data(\"submitting\", !0), e.find(\".ds-post-button\").addClass(\"ds-waiting\").html(z.posting)[0].disabled = !0 } function a(e) { e.data(\"submitting\", !1), e.find(\".ds-post-button\").removeClass(\"ds-waiting\").html(z.post)[0].disabled = !1 } var i = this, o = i.embedThread, c = o.options, p = function() { S.require(\"smilies\", function() {}) }, h = { thread: o, options: c, inline: e, params: { thread_id: o.threadId, parent_id: \"\", nonce: S.nonce }, repostArray: [], checked: 0 }; for (var v in nt.data.repostOptions) nt.data.repostOptions[v] && (h.repostArray.push(v), h.checked = 1); var g = i.el = H(et.replybox(h)).click(p), b = g.find(\"form\"), y = b.find(\"input[type=checkbox]\")[0], _ = b.find(\"a.ds-service-icon, a.ds-service-icon-grey\"), k = f(b.find(\"textarea\")).focus(p).keyup(n).keyup(d).bind(\"focus mousedown mouseup keyup\", u), w = g.find(\".ds-add-emote\").click(function(e) { var s = S.smiliesTooltip; return w.toggleClass(\"ds-expanded\").hasClass(\"ds-expanded\") ? (s || (s = S.smiliesTooltip = new st.SmiliesTooltip, s.render(), S.require(\"smilies\", function() { s.reset(\"微博-默认\") })), s.replybox = i, s.el.appendTo(t.body).css({ top: i.el.offset().top + i.el.outerHeight() + 4 + \"px\", left: i.el.find(\".ds-textarea-wrapper\").offset().left + \"px\" }), H(t.body).click(x)) : x(e), !1 }), x = (g.find(\".ds-add-image\").click(function(e) { var s = k[0], a = s.value, i = \"请输入图片地址\", r = ''; if (t.selection) { s.value = a.substring(0, k.data(\"ds-range-start\")) + r + a.substring(k.data(\"ds-range-end\"), a.length), s.value = s.value.replace(\"说点什么吧 ...\", \"\"), s.focus(); var n = t.selection.createRange(); n.collapse(), n.findText(i), n.select() } else { s.value = a.substring(0, s.selectionStart) + r + a.substring(s.selectionEnd); var o = s.value.search(i); s.setSelectionRange(o, o + i.length), s.focus() } e.preventDefault() }), i.hideSmilies = function() { w.removeClass(\"ds-expanded\"), S.smiliesTooltip.el.detach(), H(t.body).unbind(\"click\", x) }), T = function(e, t) { var s = E(et[\"dialog-anonymous\"]({ services: [\"weixin\", \"weibo\", \"qq\", \"renren\", \"kaixin\", \"douban\"], options: c })), a = s.el.find(\".ds-dialog\").css(\"width\", \"320px\"); if (a.find(\".ds-icons-32 a\").click(l), !c.deny_anonymous) { var i = s.el.find(\"form\"); i.submit(function() { var e = i.find(\"input[name=author_email]\").val(); return ! e && !c.require_guest_email || e.match(/^(([^()[\\]\\\\.,;:\\s@\\\"]+(\\.[^()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/) ? (t(S.toJSON(i)), s.close(), !1) : (alert(\"请输入一个有效的email地址.\"), !1) }), i.find(\"input[name=author_name]\")[0].focus() } }; c.deny_anonymous && k.focus(function() { if (r()) { T(b, q); var e = function(t) { t.stopPropagation(), k.unbind(\"click\", e) }; k.click(e) } return ! 1 }); var q = function(e) { s(b), R.post(\"posts/create\", H.extend(S.toJSON(b), e), function(e) { var t = lt[e.response.post_id] = new F(e.response), s = M(i.postList, t, c); if (\"asc\" == c.order == (\"top\" == c.formPosition) && S.scrollTo(s), o.data.comments++, o.updateCounter(\"duoshuo\"), k.val(\"\").trigger(\"keyup\"), a(b), g.hasClass(\"ds-inline-replybox\") && (g.detach(), i.actionsBar.removeClass(\"ds-reply-active\")), m) try { m.removeItem(\"ds_draft_\" + o.threadId) } catch(r) {} }, function(e) { a(b), alert(e.errorMessage) }) }; b.submit(function() { if (b.data(\"submitting\")) return ! 1; var e = H.trim(b[0].message.value); return \"\" == e || !P.placeholder && e == k.attr(\"placeholder\") ? (alert(\"您还没写内容呢\"), !1) : (r() ? T(b, q) : q(), !1) }); var C = function(e) { return H(e).hasClass(\"ds-service-icon-grey\") ? null: H(e).attr(\"data-service\") }; if (_.click(function() { return H(this).toggleClass(\"ds-service-icon-grey\").toggleClass(\"ds-service-icon\"), y.value = H.map(_, C).join(\",\"), y.checked = \"\" != y.value, !1 }), H(y).change(function() { var e = this.checked; _[e ? \"removeClass\": \"addClass\"](\"ds-service-icon-grey\")[e ? \"addClass\": \"removeClass\"](\"ds-service-icon\"), this.value = H.map(_, C).join(\",\") }), !e && m) { var j = \"ds_draft_\" + o.threadId; k.bind(\"focus blur keyup\", function(e) { var t = H(e.currentTarget).val(); try { m[j] = t } catch(e) {} }), m[j] && k.val(m[j]) } return this } }, st.Dialog = J.extend({ init: function(e, t) { (this.el = H(\"#ds-wrapper\"))[0] || (this.el = p(H(''))), this.options = H.extend({ width: 600 }, t), e !== s && H(e).attr(\"id\", \"ds-reset\").appendTo(this.el) }, open: function() { function e(e) { return 27 == e.which ? (a.close(), !1) : void 0 } function s() { return a.close(), !1 } var a = this; return a.el.hide().appendTo(t.body).fadeIn(200), P.ie6 && a.el.css(\"top\", V.scrollTop() + 100), a.el.show().find(\".ds-dialog\").delegate(\"a.ds-dialog-close\", \"click\", function() { return a.close(), !1 }).click(i), Y.keydown(e), H(t.body).click(s), a.close = function() { Y.unbind(\"keydown\", e), H(t.body).unbind(\"click\", s), a.el.fadeOut(200, function() { H(this).remove() }), a.trigger(\"close\") }, a } }), et.likePanel = function(e) { return e.likes ? '' + e.likes + \" 人喜欢\": \"\" }, st.Meta = function(e) { this.embedThread = e }, st.Meta.prototype = { render: function() { function a(a) { function r(e) { o.set(e), n.resetLikePanel() } function c() { n.tooltip.detach(), H(t.body).unbind(\"click\", c) } function u(t) { switch (this.className) { case \"ds-like-tooltip-close\": c(t); break; default: if (!e.open(this.href, \"_blank\", \"height=500,width=600,top=0,left=0,toolbar=no,menubar=no,resizable=yes,location=yes,status=no\")) return } return ! 1 } var p = l.hasClass(\"ds-thread-liked\"); if (R.post(\"threads/vote\", { thread_id: n.embedThread.threadId, vote: p ? 0 : 1 }, r), l.toggleClass(\"ds-thread-liked\"), l.find(\".ds-thread-like-text\").text(p ? \"喜欢\": \"已喜欢\"), p) return n.tooltip && c(a), !1; if (n.tooltip === s) { var h = et.likeTooltip({ services: { qzone: \"QQ空间\", weibo: \"新浪微博\", qqt: \"腾讯微博\", renren: \"人人网\", kaixin: \"开心网\", douban: \"豆瓣网\", baidu: \"百度搜藏\" }, thread_id: o.data.thread_id }); n.tooltip = H(h).click(i).delegate(\"a\", \"click\", u) } var f = {}; return f.left = 0, f.top = d.position().top + d.outerHeight() - 4 + \"px\", n.tooltip.appendTo(n.embedThread.innerEl).css(f), H(t.body).click(c), !1 } var n = this, o = n.embedThread.model, d = n.el = H(et.meta(o.toJSON())), l = d.find(\".ds-like-thread-button\"); return l.click(a), n.resetLikePanel(), r() && d.hide(), n }, resetLikePanel: function() { this.el.find(\".ds-like-panel\").html(et.likePanel(this.embedThread.model.toJSON())) } }, st.PostListHead = function(e) { this.embedThread = e }, st.PostListHead.prototype = { render: function() { function e(e) { r.find(\"a.ds-current\").removeClass(\"ds-current\"), a.params.page = 1; var t = e.currentTarget; switch (t.className) { case \"ds-comments-tab-duoshuo\": a.params.source = \"duoshuo\", s.replybox.el.show(); break; case \"ds-comments-tab-repost\": a.params.source = \"repost\", s.replybox.el.hide(); break; case \"ds-comments-tab-weibo\": a.params.source = \"weibo\", s.replybox.el.hide(); break; case \"ds-comments-tab-qqt\": a.params.source = \"qqt\", s.replybox.el.hide() } return H(t).addClass(\"ds-current\"), a.refetch(), !1 } function t() { return n.find(\"a.ds-current\").removeClass(\"ds-current\"), a.params.order = s.options.order = this.className.replace(\"ds-order-\", \"\"), a.params.page = 1, a.refetch(), H(this).addClass(\"ds-current\"), !1 } var s = this.embedThread, a = s.postList, i = this.el = H(et.postListHead({ thread: s.model.toJSON(), options: s.options })), r = i.find(\"ul.ds-comments-tabs\"); r.delegate(\".ds-tab a\", \"click\", e); var n = i.find(\".ds-sort\"); return n.delegate(\"a\", \"click\", t), n.find(\".ds-order-\" + a.params.order).addClass(\"ds-current\"), this } }, st.Paginator = function(e) { function t() { return i.params.page = parseInt(this.innerHTML), i.refetch(), a.find(\".ds-current\").removeClass(\"ds-current\"), H(this).addClass(\"ds-current\"), !1 } e = e || {}; var s = this, a = s.el = e.el || H(''), i = s.collection = e.collection; a.delegate(\"a\", \"click\", t) }, st.Paginator.prototype = { reset: function(e) { function t(e) { i.push('' + e + \"\") } var s, a = this.collection.params.page || 1, i = []; if (a > 1) for (t(1), s = a > 4 ? a - 2 : 2, s > 2 && i.push('...'); a > s; s++) t(s); if (i.push('' + a + \"\"), a < e.pages) { for (s = a + 1; a + 4 >= s && s < e.pages; s++) t(s); s < e.pages && i.push('...'), t(e.pages) } this.el.html('' + i.join(\" \"))[e.pages > 1 ? \"show\": \"hide\"]() } }, S.addSmilies = function(e, t) { var s = S.smiliesTooltip; s && s.el.find(\"ul.ds-smilies-tabs\").append(\"\" + e + \"\"), S.smilies[e] = t }, st.SmiliesTooltip = function() {}, st.SmiliesTooltip.prototype = { render: function() { function e() { var e = s.replybox, a = e.el.find(\"textarea\"), i = a[0], r = i.value; if (t.selection) { i.value = r.substring(0, a.data(\"ds-range-start\")) + this.title + r.substring(a.data(\"ds-range-end\"), r.length), i.value = i.value.replace(z.leave_a_message, \"\"), i.focus(); var n = t.selection.createRange(); n.moveStart(\"character\", a.data(\"ds-range-start\") + this.title.length), n.collapse(), n.select() } else { var o = i.selectionStart + this.title.length; i.value = r.substring(0, i.selectionStart) + this.title + r.substring(i.selectionEnd), i.setSelectionRange(o, o) } e.hideSmilies(), i.focus() } var s = this, a = s.el = H(et.smiliesTooltip(L)); return a.click(i).find(\"ul.ds-smilies-tabs\").delegate(\"a\", \"click\", function() { s.reset(this.innerHTML) }), a.find(\".ds-smilies-container\").delegate(\"img\", \"click\", e), this }, reset: function(e) { function t(t, s) { var i = 0 === e.indexOf(\"微博\") ? \"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/\" + s.replace(\"_org\", \"_thumb\") : S.STATIC_URL + \"/images/smilies/\" + s; \"WordPress\" === e && (t = \" \" + t + \" \"), a += '' } var s = this.el.find(\"ul.ds-smilies-tabs\"); s.find(\"a.ds-current\").removeClass(\"ds-current\"), s.find(\"a\").filter(function() { return this.innerHTML == e }).addClass(\"ds-current\"); var a = \"\"; return H.each(L[e], t), a += \"\", this.el.find(\".ds-smilies-container\").html(a), this } }, et.postPlaceholder = function() { return ['', z.no_comments_yet, \"\"].join(\"\") }; var X = H(''), K = X.find(\".ds-bubble-content\").delegate(\"a.ds-ctx-open\", \"click\", function() { function e(e) { function t(e, t) { return et.ctxPost({ post: e, index: t }) } C.log(H.map(e.response, t).join(\"\\n\")); s.el.find(\"ol\"); s.el.find(\"ol\").html(H.map(e.response, t).join(\"\\n\")) } var t = {}; t.post_id = K.attr(\"data-post-id\"), R.get(\"posts/conversation\", t, e); var s = E('查看对话'); return s.el.find(\".ds-dialog\").css(\"width\", \"600px\"), s.el.find(\".ds-dialog-body\").css({ \"max-height\": \"350px\", _height: \"350px\", \"overflow-y\": \"auto\", \"padding-top\": \"10px\" }), !1 }), tt = bubbleOutTimer = 0; X.mouseenter(N).mouseleave(I), st.PostList = function(e) { e && (e.params && (this.params = e.params), e.embedThread && (this.embedThread = e.embedThread)), this.el = H('') }, st.PostList.prototype = { url: \"threads/listPosts\", render: function() { return U.call(this.el, this.embedThread, this.embedThread.options), this }, reset: function(e) { var t = this.embedThread.options; this.el.html(e[0] ? H.map(lt.getJSON(e), function(e) { return et.post({ post: e, options: t }) }).join(\"\") : et.postPlaceholder()) }, refetch: function() { function e(e) { lt.set(e.parentPosts || e.relatedPosts), ct.set(e.users), s.reset(e.response), s.embedThread.paginator.reset(e.cursor), s.el.fadeTo(200, 1), S.scrollTo(s.el), a.remove() } var s = this, a = H(et.indicator()).appendTo(t.body).fadeIn(200); s.el.fadeTo(200, .5), R.get(s.url, s.params, e) } }, st.RelatedRead = function() { this._init() }, st.RelatedRead.prototype = { _init: function() { this.el = H('') }, load: function(s) { e.__duoshuo_id__ = s, e.readsByToutiao = [], e.readsByToutiao.push({ id: \"ds-related-reads\", num: 3 }); var a = \"//s0.pstatp.com/site/reads-sdk/5bf3702b38076207bee1.js\", i = t.createElement(\"script\"); i.src = a, i.charset = \"utf-8\", i.crossOrigin = \"anonymous\", t.head.appendChild(i) }, mount: function(e) { this.el.insertBefore(e) } }, st.EmbedThread = Q.extend({ uri: \"threads/listPosts\", params: \"thread-id local-thread-id source-thread-id thread-key category channel-key author-key author-id url limit order max-depth form-position container-url\" + (v.match(/MSIE 6\\.0/) ? \"\": \" title image thumbnail\"), render: function() { var e = this.el; if (\"请将此处替换成文章在你的站点中的ID\" === e.data(\"thread-key\")) return alert(\"请设置正确的 data-thread-key 属性\"), !1; e.attr(\"id\", \"ds-thread\").append(et.waitingImg()); var t = e.width(), s = e.data(\"url\") || !e.attr(\"data-thread-id\") && H(\"link[rel=canonical]\").attr(\"href\"); s ? e.data(\"url\", k(s)) : e.data(\"container-url\", h.href), t && 400 >= t && e.addClass(\"ds-narrow\").data(\"max-depth\", 1) }, updateCounter: function(e) { function t(e) { return e.substr(e.indexOf(\"}\") + 1) } var s = { duoshuo: [\"comments\", t(z.comments_multiple) || \"评论\"], repost: [\"reposts\", t(z.reposts_multiple) || \"转载\"], weibo: [\"weibo_reposts\", t(z.weibo_reposts_multiple) || \"新浪微博\"], qqt: [\"qqt_reposts\", t(z.qqt_reposts_multiple) || \"腾讯微博\"] }; for (var a in s) if (!e || e == a) { var i = this.data[s[a][0]]; this.el.find(\".ds-comments-tab-\" + a).html(this.el.hasClass(\"ds-narrow\") ? '' + i: (i ? '' + i + \"\": \"0\") + s[a][1]) } }, onError: function(e) { this.el.html(\"评论框出错啦(\" + e.code + \"): \" + e.errorMessage) }, onload: function(t) { var a = this, i = a.threadId = t.thread.thread_id, n = t.cursor, o = a.options = t.options, d = a.innerEl = p(H('').appendTo(a.el)); a.model = new G(a.data = t.thread), lt.set(t.parentPosts || t.relatedPosts), ct.set(t.users), a.el.find(\"#ds-waiting\").remove(), t.options && t.options.show_recommend && (a.relatedRead = new st.RelatedRead, a.relatedRead.load(t.thread.site_id), a.relatedRead.mount(d)), o.like_thread_enabled && (a.meta = new st.Meta(a), d.append(a.meta.render().el)), o.hot_posts && t.hotPosts && t.hotPosts.length && (a.hotPosts = new st.HotPosts(H(''), { max_depth: 1, show_context: o.show_context }), a.hotPosts.thread = a, d.append(a.hotPosts.el), a.hotPosts.onload({ list: lt.getJSON(t.hotPosts) })), a.postListHead = new st.PostListHead(a), a.postList = new st.PostList({ embedThread: a, params: { source: \"duoshuo\", thread_id: i, max_depth: o.max_depth, order: o.order, limit: o.limit } }), a.postList.render().reset(t.response), a.paginator = new st.Paginator({ collection: a.postList }), a.paginator.reset(n); var c = a.replybox = new st.Replybox(a); c.postList = a.postList.el, r() ? a.loginButtons = H(et.loginButtons()).delegate(\"a.ds-more-services\", \"click\", function() { return a.loginButtons.find(\".ds-additional-services\").toggle(), !1 }).delegate(\"a.ds-service-link\", \"click\", l) : a.toolbar = H(et.toolbar()).delegate(\".ds-account-control\", \"mouseenter\", function() { H(this).addClass(\"ds-active\") }).delegate(\".ds-account-control\", \"mouseleave\", function() { H(this).removeClass(\"ds-active\") }).delegate(\"a.ds-bind-more\", \"click\", function() { var e = E(et[\"dialog-bind-more\"]()).el.find(\".ds-dialog\").addClass(\"ds-dialog-bind-more\").css(\"width\", \"300px\"); return e.find(\"a.ds-service-link\").click(l), !1 }).delegate(\"a.ds-unread-comments-count\", \"click\", function() { return T(\"unread-comments\"), !1 }); var u = ['', a.toolbar || a.loginButtons, c.render().el]; \"top\" == o.formPosition && H.fn.append.apply(d, u), d.append(a.postListHead.render().el, a.postList.el, a.paginator.el), \"bottom\" == o.formPosition && H.fn.append.apply(d, u), d.append(et.poweredBy(o.poweredby_text)), a.updateCounter(), t.alerts && H.each(t.alerts, function(e, t) { H('' + t + \"\").insertBefore(a.toolbar || loginButtons) }), o.message && c.el.find(\"textarea\").val(o.message).focus(), ot.on(\"reset\", function() { var e = ot.data.comments || 0; d.find(\"a.ds-unread-comments-count\").html(e).attr(\"title\", e ? \"你有\" + e + \"条新回复\": \"你没有新回复\").css(\"display\", e ? \"inline\": \"none\") }), o.mzadx_id && (S.require(\"mzadxN\", function() {}), H('').appendTo(d), __mz_rpq = e.__mz_rpq || [], __mz_rpq.push({ l: [o.mzadx_id], r: \"1\", _srv: \"MZADX\", _callback: function() {} })), S.thread = a, ot.data !== s && ot.trigger(\"reset\"), r() || A.send({ visit_thread_id: a.threadId }) }, onMessage: function(e) { M(this.postList.el, new F(e), this.options) } }), st.HotPosts = Q.extend({ tmpl: \"hotPosts\", params: \"show-quote\", render: function() { return this.el.attr(\"id\", \"ds-hot-posts\"), this }, onload: function(e) { e.options = H.extend(this.options, e.options), Q.prototype.onload.call(this, e), U.call(this.el.find(\"ul\"), this.thread, this.options) } }), st.RecentComments = Q.extend({ tmpl: \"commentList\", uri: \"sites/listRecentPosts\", params: \"show-avatars show-time show-title avatar-size show-admin excerpt-length num-items channel-key\", render: function() { this.el.attr(\"id\", \"ds-recent-comments\") }, prepare: function(e) { return { list: H.map(e.response, function(e) { return new F(e).toJSON() }) } } }), st.RecentVisitors = Q.extend({ tmpl: \"recentVisitors\", uri: \"sites/listVisitors\", params: \"show-time avatar-size num-items channel-key\", render: function() { this.el.children().detach(), this.el.attr(\"id\", \"ds-recent-visitors\").append(this.waitingEl = H(et.waitingImg())) } }), st.TopThreads = Q.extend({ tmpl: \"topThreads\", uri: \"sites/listTopThreads\", params: \"range num-items channel-key\", render: function() { this.el.children().detach(), this.el.attr(\"id\", \"ds-top-threads\").append(this.waitingEl = H(et.waitingImg())) } }), st.LoginWidget = Q.extend({ tmpl: \"loginWidget\", render: function() { var e = this.el; e.attr(\"id\", \"ds-login\").html(et.loginWidget([\"weixin\", \"weibo\", \"qq\", \"renren\", \"kaixin\", \"douban\"])), e.find(\"a\").click(l), e.find(\"a.ds-logout\").attr(\"href\", Z.logoutUrl()) } }), st.ThreadCount = Q.extend({ onload: function(e) { var t = this.el, s = t.data(\"count-type\") || \"comments\", a = e.data[s]; t[t.data(\"replace\") ? \"replaceWith\": \"html\"](z[s + \"_\" + (a ? a > 1 ? \"multiple\": \"one\": \"zero\")].replace(\"{num}\", a)) } }), st.ShareWidget = Q.extend({ tmpl: \"shareWidget\", render: function() { var e = { copyright: \"多说分享插件\", services: [\"weibo\", \"qzone\", \"sohu\", \"renren\", \"netease\", \"qqt\", \"kaixin\", \"douban\", \"qq\", \"meilishuo\", \"mogujie\", \"baidu\", \"taobao\", \"google\", \"wechat\", \"diandian\", \"huaban\", \"duitang\", \"youdao\", \"pengyou\", \"facebook\", \"twitter\", \"linkedin\", \"msn\"] }; this.el.attr(\"id\", \"ds-share\"), this.el.children().attr(\"id\", \"ds-reset\"), this.el.find(\".ds-share-aside-inner\").html(et.shareWidget(e)), this.el.find(\".ds-share-icons-more\").html(et.shareWidget(e)), this.el.find(\".ds-share-icons-more\").hide(), this.el.hasClass(\"flat\") && this.el.find(\"a\").each(function() { H(this).addClass(\"flat\") }), p(this.el), this.delegateEvents() }, delegateEvents: function() { var s = this, i = s.el; if (i.children().hasClass(\"ds-share-inline\")) { var r = \".ds-share-icons-more\", n = i.find(r), d = \"[data-toggle=ds-share-icons-more]\"; i.delegate(d, \"mouseover\", function() { n.show() }), i.delegate(d, \"mouseout\", function() { n.hide() }), i.delegate(r, \"mouseover\", function() { n.show() }), i.delegate(r, \"mouseout\", function() { n.hide() }) } else { var l = i.children().hasClass(\"ds-share-aside-left\") ? \"slide-to-right\": \"slide-to-left\", c = i.children(); if (!o.cssProperty(\"transition\")) { var u = i.children().hasClass(\"ds-share-aside-left\") ? \"left\": \"right\"; i.delegate(\".ds-share-aside-toggle\", \"mouseover\", function() { var e = {}, s = P.ie6 && \"right\" === u; s ? e.left = (t.documentElement.scrollLeft + t.documentElement.clientWidth - this.offsetWidth - (parseInt(this.currentStyle.marginLeft, 10) || 0) - parseInt(this.currentStyle.marginRight, 10) || 0) - 195 : e[u] = 0, c.animate(e, 200) }), i.delegate(\".ds-share-aside-inner\", \"mouseleave\", function() { var e = {}, s = P.ie6 && \"right\" === u; s ? e.left = (t.documentElement.scrollLeft + t.documentElement.clientWidth - this.offsetWidth - (parseInt(this.currentStyle.marginLeft, 10) || 0) - parseInt(this.currentStyle.marginRight, 10) || 0) + 230 : e[u] = -229, c.animate(e, 200) }) } i.delegate(\".ds-share-aside-toggle,.ds-share-aside-inner\", \"mouseover\", function() { c.addClass(l) }), i.delegate(\".ds-share-aside-toggle,.ds-share-aside-inner\", \"mouseleave\", function() { c.removeClass(l) }) } i.delegate(\"a\", \"click\", function(t) { var s = H(this).data(\"service\"); if (!i.data(\"url\")) return void alert(\"请设置data-url\"); if (\"wechat\" === s) { var r = a() + \"/api/qrcode/getImage.png\", n = \"?size=240&text=\" + i.data(\"url\"), d = E(et[\"dialog-qrcode\"]({ qrcode_url: r + n, url: i.data(\"url\") })); d.el.find(\".ds-dialog\").css(\"width\", \"320px\") } else { var l = a() + \"/share-proxy/?\" + o.param({ service: H(this).data(\"service\"), thread_key: i.data(\"threadKey\"), title: i.data(\"title\"), images: i.data(\"images\"), content: i.data(\"content\"), url: i.data(\"url\") }); e.open(l, \"_blank\") } t.preventDefault(), t.stopPropagation() }) } }); var it = 0; S.initSelector = function(e, t) { function s(e) { W(e), o.extend(z, e.options), dt.set(e.response) } var a = []; ! q() || !H.isReady && j || H(e).each(function(e, s) { var i = H(s); if (!i.data(\"initialized\")) { i.data(\"initialized\", !0); var r = new st[t.type](i, t); if (at.push(r), \"ThreadCount\" === t.type) { var n = i.attr(\"data-thread-key\"); i.attr(\"data-channel-key\") && (n = i.attr(\"data-channel-key\") + \":\" + n), a.push(n), dt[n] || (dt[n] = new G({})), dt[n].on(\"reset\", function() { r.onload(this) }) } else if (r.uri) { var o = {}; H.each(r.params.split(\" \"), function(e, t) { o[t.replace(/-/g, \"_\")] = i.attr(\"data-\" + t) || i.data(t) }), R.get(r.uri, B(o), function(e) { r.load(e) }) } } }), a.length && R.get(\"threads/counts\", B({ threads: a.join(\",\") }), s) }, (S.initView = function() { H.each(O, S.initSelector) })(), H(function() { if (!c) { if (!q()) return C.error(\"缺少 duoshuoQuery 的定义\"); C.warn(\"请在加载多说 embed.js 之前定义 duoshuoQuery\") } setInterval(function() { H(\".ds-time\").each(function() { var e = H(this).attr(\"datetime\"); e && (this.innerHTML = S.elapsedTime(e)) }) }, 2e4), c.ondomready && c.ondomready(), S.initView(), !it && c.short_name && R.get(\"analytics/ping\", B({}), W) }) }) } } (window, document);"},{"title":"","date":"2017-06-01T13:05:41.863Z","updated":"2017-06-01T13:05:41.863Z","comments":true,"path":"embed2.js","permalink":"http://www.qssq666.cn/embed2.js","excerpt":"","text":"! function(e, t, s) { function a() { return c.short_name ? g + \"//\" + c.short_name + \".\" + S.DOMAIN: S.REMOTE } function i() { function t() { for (var t; t = y.shift();) { var a = t.url, i = new s(t.title, { dir: \"auto\", icon: t.iconUrl, body: t.body }); try { i.onclick = function() { e.focus(), h.href = a, i.close() } } catch(r) {} setTimeout(function() { i.close && i.close() }, 8e3) } } var s = e.Notification; \"Notification\" in e && \"denied\" !== s.permission && (\"granted\" === s.permission && t(), s.requestPermission(function(e) { \"granted\" === e && t() })) } function r() { return 0 == nt.data.user_id } function n(e) { S.theme = e, \"none\" != e && o.injectStylesheet(S.STATIC_URL + \"/styles/embed\" + (e ? \".\" + e + \".css?\" + M[e] : \".\" + short_name) + \".css\") } var o = {}, d = t.getElementsByTagName(\"head\")[0] || t.getElementsByTagName(\"body\")[0]; if (o.extend = function(e, t) { for (var s in t) e[s] = t[s]; return e }, o.injectScript = function(a, i) { var r = t.createElement(\"script\"), n = t.head || t.getElementsByTagName(\"head\")[0] || t.documentElement; r.type = \"text/javascript\", r.src = a, r.async = \"async\", r.charset = \"utf-8\", i && (r.onload = r.onreadystatechange = function(t, a) { var o = a || !r.readyState || /loaded|complete/.test(r.readyState); o && (r.onload = r.onreadystatechange = null, n && r.parentNode && n.removeChild(r), r = s, a || i.call(e)) }), n.insertBefore(r, n.firstChild) }, o.injectStylesheet = function(e) { var s = t.createElement(\"link\"); s.type = \"text/css\", s.rel = \"stylesheet\", s.href = e, d.appendChild(s) }, o.injectStyle = function(e) { var s = t.createElement(\"style\"); return s.type = \"text/css\", d.appendChild(s), e = e.replace(/\\}/g, \"}\\n\"), s.styleSheet ? s.styleSheet.cssText = e: s.appendChild(t.createTextNode(e)), s }, o.getCookie = function(e) { for (var a, i, r, n = \" \" + e + \"=\", o = t.cookie.split(\";\"), d = 0; d < o.length; d++) if (a = \" \" + o[d], i = a.indexOf(n), i >= 0 && i + n.length == (r = a.indexOf(\"=\") + 1)) return decodeURIComponent(a.substring(r, a.length).replace(/\\+/g, \"\")); return s }, o.param = function(e) { var t = []; for (var a in e) e[a] != s && t.push(a + \"=\" + encodeURIComponent(e[a])); return t.join(\"&\") }, o.cssProperty = function(e, s) { var a = (t.body || t.documentElement).style; if (\"undefined\" == typeof a) return ! 1; if (\"string\" == typeof a[e]) return s ? e: !0; for (var i = [\"Moz\", \"Webkit\", \"ms\"], e = e.charAt(0).toUpperCase() + e.substr(1), r = 0; r < i.length; r++) if (\"string\" == typeof a[i[r] + e]) return s ? i[r] + e: !0 }, !e.DUOSHUO) { for (var l in Object.prototype) return alert(\"Object.prototype 不为空，请不要给 Object.prototype 设置方法\"); var c, u, p = e.JSON, h = e.location, f = e.XMLHttpRequest, m = p && p.stringify && e.localStorage, v = e.navigator.userAgent, g = \"https:\" == t.location.protocol ? \"https:\": \"http:\", b = 0, y = [], _ = u = function() { function e(e) { return t[e] || \"&amp;\" } var t = { \"\": \"&gt;\", '\"': \"&quot;\", \"'\": \"&#x27;\", \"`\": \"&#x60;\" }, s = /&(?!\\w+;)|[\"'`]/g, a = /[&\"'`]/; return function(t) { return null == t || t === !1 ? \"\": a.test(t) ? t.replace(s, e) : t } } (), k = function(e) { if (e.match(/^(http|https):/)) return e; var s = t.createElement(\"a\"); return s.href = e, P.hrefNormalized ? s.href: s.getAttribute(\"href\", 4) }, w = function(e) { return function() { return e } }, x = function() { for (var e = {}, t = 0; t < arguments.length; t++) arguments[t] && o.extend(e, arguments[t]); var s = o.param(e); return s ? \"?\" + s: \"\" }, T = function() { var e = o.getCookie(\"duoshuo_token\"); return e ? { jwt: e }: c.remote_auth ? { short_name: c.short_name, remote_auth: c.remote_auth }: s }, q = function() { if (!c && (c = e.duoshuoQuery)) { if (!c.short_name || \"your_duoshuo_short_name\" === c.short_name) return c = s, void alert(\"你还没有设置多说域名(duoshuoQuery.short_name)，填入已有域名或创建新站点：http://duoshuo.com/create-site/\"); it.trigger(\"queryDefined\") } return c }, C = function(e) { return e && e.error && e.warn ? e: { error: function() {}, log: function() {}, warn: function() {} } } (e.console), S = e.DUOSHUO = { sourceName: { weibo: \"新浪微博\", qq: \"QQ\", qzone: \"QQ空间\", qqt: \"腾讯微博\", renren: \"人人网\", douban: \"豆瓣网\", kaixin: \"开心网\", sohu: \"搜狐微博\", baidu: \"百度\", google: \"谷歌\", wechat: \"微信\", weixin: \"微信\", facebook: \"Facebook\", twitter: \"Twitter\", linkedin: \"Linkedin\" }, serviceNames: { weibo: \"微博\", qq: \"QQ\", douban: \"豆瓣\", renren: \"人人\", kaixin: \"开心\", baidu: \"百度\", google: \"谷歌\", wechat: \"微信\", weixin: \"微信\", facebook: \"Facebook\", twitter: \"Twitter\", linkedin: \"Linkedin\" }, parseDate: function(e) { return e.parse(\"2011-10-28T00:00:00+08:00\") && function(t) { return new e(t) } || e.parse(\"2011/10/28T00:00:00+0800\") && function(t) { return new e(t.replace(/-/g, \"/\").replace(/:(\\d\\d)$/, \"$1\")) } || e.parse(\"2011/10/28 00:00:00+0800\") && function(t) { return new e(t.replace(/-/g, \"/\").replace(/:(\\d\\d)$/, \"$1\").replace(\"T\", \" \")) } || function(t) { return new e(t) } } (Date), fullTime: function(e) { var t = S.parseDate(e); return t.getFullYear() + \"年\" + (t.getMonth() + 1) + \"月\" + t.getDate() + \"日 \" + t.toLocaleTimeString() }, elapsedTime: function(e) { var t = S.parseDate(e), s = new Date, a = (s - b - t) / 1e3; return 10 > a ? \"刚刚\": 60 > a ? Math.round(a) + \"秒前\": 3600 > a ? Math.round(a / 60) + \"分钟前\": 86400 > a ? Math.round(a / 3600) + \"小时前\": (s.getFullYear() == t.getFullYear() ? \"\": t.getFullYear() + \"年\") + (t.getMonth() + 1) + \"月\" + t.getDate() + \"日\" }, compileStyle: function(e) { var t = \"\", s = {}; if (s.textbox = \"#ds-thread #ds-reset .ds-replybox .ds-textarea-wrapper\", !e) return t; for (var a in e) t += s[a] + \"{\" + e[a] + \"}\\n\"; return t }, init: function(e, t) { e && !O[e] && (O[e] = t || { type: \"EmbedThread\" }), S.initView && S.initView() } }, j = t.all, P = S.support = function() { var s = t.createElement(\"div\"); s.innerHTML = 'a'; var a = s.getElementsByTagName(\"a\")[0], i = s.getElementsByTagName(\"input\")[0], r = { placeholder: \"placeholder\" in i, touch: \"ontouchstart\" in e || \"onmsgesturechange\" in e, opacity: /^0.55$/.test(a.style.opacity), hrefNormalized: \"/a\" === a.getAttribute(\"href\"), iOS: v.match(/ \\((iPad|iPhone|iPod);( U;)? CPU( iPhone)? OS /), android: v.match(/ \\(Linux; U; Android /) }; return r.ie6 = !f && \"undefined\" == typeof s.style.maxHeight, r.authInWin = e.postMessage && e.screen.width > 800 && !r.iOS && !r.android && h.origin, r } (), O = S.selectors = { \".ds-thread\": { type: \"EmbedThread\" }, \".ds-recent-comments\": { type: \"RecentComments\" }, \".ds-recent-visitors\": { type: \"RecentVisitors\" }, \".ds-top-users\": { type: \"TopUsers\" }, \".ds-top-threads\": { type: \"TopThreads\" }, \".ds-login\": { type: \"LoginWidget\" }, \".ds-thread-count\": { type: \"ThreadCount\" }, \".ds-share\": { type: \"ShareWidget\" } }, E = S.openDialog = function(e) { return S.dialog !== s && S.dialog.el.remove(), S.dialog = new st.Dialog(et.dialog(e)).open() }, L = S.smilies = {}; S.require = function() { function t(e) { var t = U[e] ? \"?\" + U[e] + \".js\": \"\"; return S.STATIC_URL + \"/libs/\" + e + \".js\" + t } var s = { mzadxN: \"undefined\" != typeof mzadxN }; return \"undefined\" != typeof jQuery && jQuery.fn.jquery >= \"1.5\" && (s[\"embed.compat\"] = !0, S.jQuery = e.jQuery), function(e, a) { if (\"string\" == typeof e) s[e] ? a() : o.injectScript(t(e), function() { s[e] = !0, a() }); else if (\"object\" == typeof e) { var i, r = !0; for (i = 0; i < e.length; i++)(function(n) { s[e[i]] || (r = !1, o.injectScript(t(n), function() { s[n] = !0; for (var t = 0; t < e.length; t++) if (!s[e[t]]) return; a() })) })(e[i]); r && a() } } } (); for (var N = 0, I = [\"EmbedThread\", \"RecentComments\", \"RecentVisitors\", \"TopUsers\", \"TopThreads\", \"LoginWidget\", \"ThreadCount\"]; N < I.length; N++) S[I[N]] = function(e) { return function(t, s) { s = s || {}, s.type = e, t && !O[t] && (O[t] = s), S.initSelector && S.initSelector(t, s) } } (I[N]), S[\"create\" + I[N]] = function(e) { return function(s, a) { var i = t.createElement(s); for (var r in a) i.setAttribute(\"data-\" + r, a[r]); return S[e](i), i } } (I[N]); S.RecentCommentsWidget = S.RecentComments; var R = S.API = { ajax: function(e, t, i, r, n) { function d(e) { var t = e.getResponseHeader(\"Date\"); t && (b = new Date - new Date(t)) } function l(e, t, s) { var a, i, o, l = t; if (e >= 200 && 300 > e || 304 === e) if (304 === e) l = \"notmodified\", o = !0; else try { a = p.parse(s), l = \"success\", o = !0 } catch(c) { l = \"parsererror\", i = c } else { i = l, (!l || e) && (l = \"error\", 0 > e && (e = 0)); try { a = p.parse(s) } catch(c) { l = \"parsererror\", i = c } } o ? r && r(a) : \"parseerror\" === l ? C.error(\"解析错误: \" + s) : (C.error(\"出错啦(\" + a.code + \"): \" + a.errorMessage), n && n(a), a.errorTrace && C.error(a.errorTrace)), d(m) } var u = o.getCookie(\"duoshuo_token\"); i = i || {}, i.v = S.version, u ? i.jwt = u: c.remote_auth && (i.remote_auth = c.remote_auth); var h = f && p && p.parse; if (h) { var m = new f, v = !!m && \"withCredentials\" in m; if (v) { var g; return m.open(e, a() + \"/api/\" + t + \".json\" + (\"GET\" == e ? \"?\" + o.param(i) : \"\"), !0), m.withCredentials = !0, m.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded; charset=UTF-8\"), m.send(\"GET\" == e ? null: o.param(i)), g = function(e, t) { var a, i, r, n; try { if (g && (t || 4 === m.readyState)) if (g = s, t) 4 !== m.readyState && m.abort(); else { a = m.status, r = m.getAllResponseHeaders(); try { n = m.responseText } catch(e) {} try { i = m.statusText } catch(o) { i = \"\" } } } catch(d) { t || l( - 1, d) } n && l(a, i, n, r) }, void(4 === m.readyState ? g() : m.onreadystatechange = g) } } \"GET\" != e && (i._method = \"POST\"); var y = \"cb_\" + Math.round(1e6 * Math.random()); R[y] = function(e) { switch (e.code) { case 0: r && r(e); break; default: n && n(e), C.error(\"出错啦(\" + e.code + \"): \" + e.errorMessage), e.errorTrace && C.error(e.errorTrace) } }, i.callback = \"DUOSHUO.API['\" + y + \"']\", o.injectScript(a() + \"/api/\" + t + \".jsonp?\" + o.param(i)) }, get: function(e, t, s, a) { return this.ajax(\"GET\", e, t, s, a) }, post: function(e, t, s, a) { return this.ajax(\"POST\", e, t, s, a) } }, A = S.ws = { messages: [], send: function(s) { if (! (\"WebSocket\" in e && p)) return ! 1; var a = this; if (a.messages.push(p.stringify(s)), !a.webSocket) { var r = \"https:\" === t.location.protocol ? \"wss://ws.duoshuo.com:8202/\": \"ws://ws.duoshuo.com:8201/\", n = a.webSocket = new WebSocket(r); n.onopen = function() { var e, t = 1 === n.readyState; if (t) for (; e = a.messages.shift();) n.send(e) }, n.onmessage = function(e) { try { var t = p.parse(e.data) } catch(s) { return } switch (t.type) { case \"post\": for (var a, r = 0; r < S.pagelets.length; r++) a = S.pagelets[r], a.threadId == t.thread_id && a.onMessage(t); break; case \"notification\": y.push(t), i() } }, e.addEventListener(\"beforeunload\", function() { n.close() }) } a.webSocket.onopen() } }; S.DOMAIN = \"duoshuo.com\", S.STATIC_URL = g + \"//static.duoshuo.com\", S.REMOTE = g + \"//duoshuo.com\", S.version = \"16.6.16\"; var M = { \"default\": \"9b2a46a0\", dark: \"33f3a5ac\", bluebox: \"39a75d50\", newhua: \"706ba4eb\", justflat: \"9d72ec5a\" }, U = { \"embed.compat\": \"24f8ca3f\", smilies: \"921e8eda\" }, z = { post: \"发布\", posting: \"正在发布\", settings: \"设置\", reply: \"回复\", like: \"顶\", repost: \"转发\", report: \"举报\", \"delete\": \"删除\", reply_to: \"回复 \", reposts: \"转发\", comments: \"评论\", floor: \"楼\", latest: \"最新\", earliest: \"最早\", hottest: \"最热\", share_to: \"分享到:\", leave_a_message: \"说点什么吧…\", no_comments_yet: \"还没有评论，沙发等你来抢\", repost_reason: \"请输入转发理由\", hot_posts_title: \"被顶起来的评论\", comments_zero: \"暂无评论\", comments_one: \"1条评论\", comments_multiple: \"{num}条评论\", reposts_zero: \"暂无转发\", reposts_one: \"1条转发\", reposts_multiple: \"{num}条转发\", weibo_reposts_zero: \"暂无新浪微博\", weibo_reposts_one: \"1条新浪微博\", weibo_reposts_multiple: \"{num}条新浪微博\", qqt_reposts_zero: \"暂无腾讯微博\", qqt_reposts_one: \"1条腾讯微博\", qqt_reposts_multiple: \"{num}条腾讯微博\" }, D = { get: function(e) { return m ? m[e] : void 0 }, save: function(e, t) { if (m) try { m.removeItem(e), m[e] = p.stringify(t), m.removeItem(e + \":timestamp\"), m[e + \":timestamp\"] = Math.floor((new Date - b) / 1e3) } catch(s) {} } }, W = S.loadRequire = function(t) { if (t.visitor && (!nt.data && t.visitor.user_id && e.Notification && A.send({ logged_user_id: t.visitor.user_id }), nt.reset(t.visitor)), t.site && (rt.reset(t.site), D.save(\"ds_site_\" + c.short_name, t.site)), !S.theme && rt.data.theme && n(rt.data.theme), t.lang && (o.extend(z, t.lang), D.save(\"ds_lang_\" + c.short_name, t.lang)), t.stylesheets) for (var s = 0; s < t.stylesheets.length; s++) o.injectStylesheet(t.stylesheets[s]); if (t.nonce && (S.nonce = t.nonce), t.style && o.injectStyle((t.style || \"\") + S.compileStyle(c.component_style)), t.unread && ot.reset(t.unread), t.warnings) for (var s = 0; s < t.warnings.length; s++) C.warn(t.warnings[s]) }, B = 0, H = S.Class = function() {}; H.extend = function(e) { function t() { ! B && this.init && this.init.apply(this, arguments) } B = 1; var s = new this; B = 0; for (var a in e) s[a] = e[a]; return t.prototype = s, t.prototype.constructor = t, t.extend = arguments.callee, t }; var J = S.Event = H.extend({ on: function(e, t) { var a = this.handlers || (this.handlers = {}); return a[e] === s && (a[e] = []), a[e].push(t), this }, trigger: function(e, t) { var s = (this.handlers || (this.handlers = {}))[e]; if (s) for (var a = 0; a < s.length && s[a].call(this, t) !== !1; a++); return this } }), Q = S.Widget = J.extend({ init: function(e, t) { this.el = e, this.options = t || {}, this.render() }, render: function() {}, reset: function() {}, load: function(e) { switch (e.code) { case 0: W(e); var t = this.prepare(e); t.options = o.extend(this.options, e.options), this.onload(t); break; default: this.onError(e) } }, onload: function(e) { this.el.html(et[this.tmpl](e)) }, prepare: function(e) { return e }, onMessage: function() {}, onError: function(e) { C.error(\"出错啦(\" + e.code + \"): \" + e.errorMessage), e.errorTrace && C.error(e.errorTrace) } }), V = S.Model = J.extend({ init: function(e) { this.data = e }, reset: function(e) { this.data = e, this.trigger(\"reset\") }, remove: function(e) { this.data.splice(e, 1), this.trigger(\"reset\") }, set: function(e, t) { if (t === s) for (var a in e) this.data[a] = e[a]; else this.data[e] = t; return this.trigger(\"reset\"), this }, toJSON: function() { return o.extend({}, this.data) } }), $ = V.extend({ toJSON: function() { return o.extend({}, this.data) } }), F = V.extend({ toJSON: function() { var e = o.extend({}, this.data); return e.theAuthor = ct[this.data.author_id] && ct[this.data.author_id].data || this.data.author, e.parents = this.data.parents || [], e } }), G = V.extend({ toJSON: function() { return o.extend({}, this.data) } }), Y = function(e) { this.model = e }; Y.prototype.set = function(e) { for (var t in e) e[t] && (this[t] ? this[t].set(e[t]) : this[t] = new this.model(e[t])) }, Y.prototype.get = function(e) { for (var t = 0, s = []; t < e.length; t++) s[t] = this[e[t]]; return s }, Y.prototype.getJSON = function(e) { for (var t = 0, s = []; t < e.length; t++) this[e[t]] && s.push(this[e[t]].toJSON()); return s }; var Z = { userUrl: function(e) { return e.url }, avatarUrl: function(e) { return e.avatar_url || rt.data.default_avatar_url }, loginUrl: function(e, t) { return t || (t = {}), c.sso && c.sso.login && (t.sso = 1, t.redirect_uri = c.sso.login), a() + \"/login/\" + e + \"/\" + x(t) }, bindUrl: function(e) { return a() + \"/bind/\" + e + \"/\" + x(c.sso && c.sso.login ? { sso: 1, redirect_uri: c.sso.login }: null, T()) }, logoutUrl: function() { return a() + \"/logout/\" + x(c.sso && c.sso.logout ? { sso: 1, redirect_uri: c.sso.logout }: null) } }, X = [\"weixin\", \"weibo\", \"qq\", \"renren\"], K = [\"douban\", \"kaixin\", \"baidu\", \"google\"], et = S.templates = { userAnchor: function(e) { return e.url ? '' + _(e.name) + \"\": _(e.name) }, avatarImg: function(e, t) { return '' + et.avatar(e.post.theAuthor || e.post.author) + '' + et.userAnchor(e.post.theAuthor || e.post.author) + et.timeAnchor(e.post.created_at, e.post.url), e.index >= 0 && (t += '' + (e.index + 1) + z.floor + \"\"), t += '' + e.post.message, e.index >= 0 && (t += ' i;) a = s[i += 1], t += '' + S.sourceName[a] + \"\"; return t += \"\", e.options.deny_anonymous || (t += '作为游客留言名字(必填)', e.options.require_guest_email && (t += '邮箱(必填)'), e.options.require_guest_url && (t += '网址(可选)'), t += '发布'), t }, et[\"dialog-ask-for-auth\"] = function() { var e = '社交帐号登录' + et.serviceList(X) + '' + et.serviceList(K) + \"\"; return e }, et[\"dialog-bind-more\"] = function() { var e = '绑定更多帐号' + et.serviceBindList(X) + '' + et.serviceBindList(K) + ''; return e }, et[\"dialog-qrcode\"] = function(e) { var t = '微信扫一扫，分享到朋友圈'; return t }, et[\"dialog-reposts\"] = function(e) { var t = '转发到微博@' + u(e.post.theAuthor.name) + \": \" + e.post.message + \"\" + tt({ post_id: e.post.post_id }) + '' + u(e.repostMessage) + ''; return t += '', e.service ? t += tt({ \"service[]\": e.service }) : (t += '\" }, et.post = function(e) { var t = \"\", s = e.post, i = e.options, r = s.author; if (t += '\" z.share_to=\"\" \"\"; for (var s in nt.data.repostOptions) t += et.serviceIcon(s, !nt.data.repostOptions[s]) } return t += \"\", t += \"\", t += '' + u(z.post) + '', e.options.use_smilies && (t += ''), e.options.use_images && e.options.parse_html_enabled && (t += ''), t += \"\", t += \"\" }, et.serviceBindList = function(e) { var t = \"\", s = e; if (s) for (var a, i = -1, r = s.length - 1; r > i;) a = s[i += 1], t += '' + S.serviceNames[a], nt.data.social_uid[a] && (t += ' '), t += \"\"; return t }, et.serviceList = function(e) { var t = \"\", s = e; if (s) for (var a, i = -1, r = s.length - 1; r > i;) a = s[i += 1], t += '' + S.serviceNames[a] + \"\"; return t }, et.shareWidget = function(e) { var t = ' ', s = e.services; if (s) for (var a, i = -1, r = s.length - 1; r > i;) a = s[i += 1], t += ' ' + S.sourceName[a] + \" \"; return t += ' ' + e.copyright + \"\" }, et.smiliesTooltip = function(e) { var t = ''; for (var s in e) t += \"\" + s + \"\"; return t += '' }, et.toolbar = function() { var e = ' 帐号管理绑定更多' + u(z.settings) + '登出'; return e += nt.data.url ? '' + u(nt.data.name) + \"\": '' + u(nt.data.name) + \"\", e += '' }, et.topThreads = function(e) { var t = \"\", s = e.response; if (s) for (var a, i = -1, r = s.length - 1; r > i;) a = s[i += 1], t += '' + u(a.title) + \"\"; return t }, et.topUsers = function(e) { var t = \"\", s = e.response; if (s) for (var a, i = -1, r = s.length - 1; r > i;) a = s[i += 1], t += '' + et.avatar(a, e.options.avatar_size) + \"\" + u(a.name) + \"\"; return t }, et.userInfo = function(e) { var t = '' + et.avatarImg(e) + '' + u(e.name) + \"\"; for (var s in e.social_uid) t += '' + e.comments + \"条评论\", e.description && (t += '' + u(e.description) + \"\"), t }; var st = S.Views = {}, at = (S.Callbacks = {}, S.pagelets = []), it = S.events = new J, rt = S.site = new V, nt = S.visitor = new $, ot = S.unread = new V, dt = S.threadPool = new Y(G), lt = S.postPool = new Y(F), ct = S.userPool = new Y($); it.on(\"queryDefined\", function() { var e = c.short_name; if (c.theme && n(c.theme), m) { var t = m[\"ds_site_\" + e], s = m[\"ds_lang_\" + e]; t && rt.reset(p.parse(t)), s && o.extend(z, p.parse(s)) } }), q(), S.require(\"embed.compat\", function() { function i(e) { e.stopPropagation() } function n(e) { (e.ctrlKey && 13 == e.which || 10 == e.which) && H(this.form).trigger(\"submit\") } function d() { var e = H(this); e.height(Math.max(54, e.next(\".ds-hidden-text\").text(this.value).height() + 27)) } function l() { if (P.authInWin) { var e = this.href.match(/\\/(login|bind)\\/(\\w+)\\//i); if (e && S.serviceNames[e[2]]) return ! b(e[2], this.href) } } function u() { var e, s, a, i, r, n = this, o = 0, d = 0; t.selection && (s = t.selection.createRange(), s && s.parentElement() == n && (i = n.value.length, e = n.value.replace(/\\r\\n/g, \"\\n\"), a = n.createTextRange(), a.moveToBookmark(s.getBookmark()), r = n.createTextRange(), r.collapse(!1), a.compareEndPoints(\"StartToEnd\", r) > -1 ? o = d = i: (o = -a.moveStart(\"character\", -i), o += e.slice(0, o).split(\"\\n\").length - 1, a.compareEndPoints(\"EndToEnd\", r) > -1 ? d = i: (d = -a.moveEnd(\"character\", -i), d += e.slice(0, d).split(\"\\n\").length - 1)))), H(n).data(\"ds-range-start\", o).data(\"ds-range-end\", d) } function p(e) { return P.touch && e.addClass(\"ds-touch\"), o.cssProperty(\"transition\") || e.addClass(\"ds-no-transition\"), P.ie6 && e.addClass(\"ds-ie6\"), P.opacity || e.addClass(\"ds-no-opacity\"), e } function f(e) { if (!P.placeholder) { var t = e.attr(\"placeholder\"); e.val(t).focus(function() { this.value === t && (this.value = \"\") }).blur(function() { \"\" === this.value && (this.value = t) }) } return e } function g(e) { if (\"http://duoshuo.com\" === e.origin) switch (e.data.type) { case \"login\": h.href = e.data.redirectUrl } } function b(t, s) { var a = { weibo: [760, 600], renren: [420, 322], qq: [504, 445], weixin: [450, 550], google: [600, 440] } [t] || [550, 400]; return e.open(s + ( - 1 == s.indexOf(\"?\") ? \"?\": \"&\") + o.param({ origin: h.origin || \"http://\" + h.host }), \"_blank\", \"width=\" + a[0] + \",height=\" + a[1] + \",toolbar=no,menubar=no,location=yes\") } function y(e) { var t = Z[r() ? \"loginUrl\": \"bindUrl\"](e); P.authInWin && b(e, t) || (h.href = t) } function w() { var e = E(et[\"dialog-ask-for-auth\"]({})).el.find(\".ds-dialog\").css(\"width\", \"300px\"); e.find(\"a.ds-service-link\").click(l) } function x(e, t, s, a) { function i() { function e(e) { if (s && a) { var t = s.options, i = M(s.postList.el, e.response[a], t); \"asc\" == t.order == (\"top\" == t.formPosition) && S.scrollTo(i); var r = s.el.find(\".ds-comments-tab-\" + a + \" span.ds-highlight\"); r.html(parseInt(r.html()) + 1) } } return a || l.find(\"[type=checkbox]:checked\")[0] ? (R.post(\"posts/repost\", S.toJSON(l), e), o.close(), !1) : (alert(\"还没有选发布到哪儿呢\"), !1) } function r() { var e = this.value; return this.checked && !nt.data.social_uid[\"qqt\" == e ? \"qq\": e] ? void y(e) : void 0 } var o = E(et[\"dialog-reposts\"]({ post: e.toJSON(), repostMessage: t, service: a })), l = o.el.find(\"form\"); return l.submit(i), l.find(\".ds-actions [type=checkbox]\").change(r), f(l.find(\"textarea\")).keyup(n).keyup(d).focus(), !1 } function T(e) { var t = { \"unread-comments\": { title: \"新留言及回复\", apiUrl: \"users/unreadComments\", tmpl: function(e) { return e.thread ? '' + H.map(e.authors, et.userAnchor).join(\"、\") + ' 在 ' + _(e.thread.title || \"无标题\") + ' 中回复了你 知道了': \"\" }, read: function(e) { var t = e.attr(\"data-thread-id\"); R.post(\"threads/read\", { thread_id: t }), ot.data.comments-- } }, \"unread-notifications\": { title: \"系统消息\", apiUrl: \"users/unreadNotifications\", tmpl: function(e) { return '' + e.content + ' 知道了' }, read: function(e) { var t = e.attr(\"data-notification-id\"); R.post(\"notifications/read\", { notification_id: t }), ot.data.notifications-- } } } [e], s = E(\"\" + t.title + ''); s.on(\"close\", S.resetNotify); var a = s.el.find(\".ds-unread-list\").delegate(\".ds-delete\", \"click\", function() { return H(this).parent().remove(), 0 === a.children().length && s.close(), !1 }).delegate(\".ds-read\", \"click\", function() { t.read(H(this).parent()) }); H(\"#ds-notify\").hide(), R.get(t.apiUrl, {}, function(e) { s.el.find(\".ds-unread-list\").html(H.map(e.response, t.tmpl).join(\"\\n\")) }) } function N() { bubbleOutTimer && (clearTimeout(bubbleOutTimer), bubbleOutTimer = 0) } function I() { bubbleOutTimer = setTimeout(function() { bubbleOutTimer = 0, X.detach() }, 400) } function M(e, t, s) { return e.find(\".ds-post[data-post-id=\" + t.data.post_id + \"]\")[0] ? void 0 : (e.find(\".ds-post-placeholder\").remove(), H(et.post({ post: t.toJSON(), options: s })).hide()[\"asc\" == s.order ? \"appendTo\": \"prependTo\"](e).slideDown(function() {})) } function U(e, t) { function s() { if (r()) return w(), !1; var e = H(this).parent(), t = e.hasClass(\"ds-post-liked\"), s = H(this).html().match(/\\((\\d+)\\)/), a = (s ? parseInt(s[1]) : 0) + (t ? -1 : 1); return R.post(\"posts/vote\", { post_id: e.closest(\".ds-ctx-entry, .ds-post-self\").attr(\"data-post-id\"), vote: t ? 0 : 1 }), H(this).html(H(this).html().replace(/\\(\\d+\\)/, \"\") + (a ? \"(\" + a + \")\": \"\")), e[t ? \"removeClass\": \"addClass\"](\"ds-post-liked\"), !1 } function a() { var e = H(this).closest(\".ds-post-self\"), t = lt[e.attr(\"data-post-id\")]; return x(t, \"\"), !1 } function i() { if (!confirm(\"确定要删除这条评论吗？\")) return ! 1; var t = H(this).closest(\".ds-post-self\"); return R.post(\"posts/remove\", { post_id: t.attr(\"data-post-id\") }), t.parent().fadeOut(200, function() { e.data.comments--, e.updateCounter(\"duoshuo\"), H(this).remove() }), !1 } function n() { if (!confirm(\"确定要举报这条评论吗？\")) return ! 1; var e = H(this).closest(\".ds-post-self\"); return R.post(\"posts/report\", { post_id: e.attr(\"data-post-id\") }), alert(\"感谢您的反馈！\"), !1 } function o() { var s = H(this), a = s.closest(\".ds-comment-actions\"); if (a.hasClass(\"ds-reply-active\")) h.el.fadeOut(200, function() { H(this).detach() }), a.removeClass(\"ds-reply-active\"); else { var i = s.closest(\".ds-ctx-entry, .ds-post-self\"); h ? h.actionsBar.removeClass(\"ds-reply-active\") : (h = new st.Replybox(e), h.render(!0).el.addClass(\"ds-inline-replybox\").detach()), h.el.find(\"[name=parent_id]\").val(i.attr(\"data-post-id\")), h.el.show().appendTo(s.closest(\".ds-ctx-body, .ds-comment-body\")).find(\"textarea\").focus(), h.actionsBar = a.addClass(\"ds-reply-active\"), t.max_depth ').insertAfter(i))) } return ! 1 } function d() { function e(e) { W(e), i.append(H.map(e.response, function(e) { return et.post({ post: e, options: t }) }).join(\"\")) } { var s = H(this).closest(\".ds-post-self\"), a = s.attr(\"data-post-id\"); s.data(\"source\") } if (0 != s.attr(\"data-root-id\")) return ! 1; var i = s.siblings(\".ds-children\"); return i[0] ? (i.remove(), !1) : (i = H('').insertAfter(s), R.get(\"posts/listComments\", B({ post_id: a }), e), !1) } function l() { var t = H(this).closest(\".ds-post-self\"), s = lt[t.attr(\"data-post-id\")], a = s.data.source; if (!nt.data.social_uid[\"qqt\" == a ? \"qq\": a]) return void y(a); var i = s.data.root_id, r = \"0\" != i ? lt[i] : s, n = \"\"; if (\"0\" != i) { var o = prepatePost(s.data).theAuthor; n = (\"weibo\" == a ? \"//@\" + o.name: \"|| @\" + o.qqt_account) + \":\" + s.data.message } return x(r, n, e, a), !1 } function c() { var e = H(this).parent(); return e.siblings().show(), e.remove(), !1 } function u() { function t() { function t(e) { var t = e.response; ct[c] ? ct[c].set(t) : ct[c] = new $(t), X.owner == s && K.html(et.userInfo(t)) } tt = 0, X.owner = s, N(); var i = a.offset(), r = e.el.offset(), n = a.innerWidth() / 2, o = e.el.innerHeight() - (i.top - r.top) + 6, d = i.left - r.left - 35 + (n > 35 ? 35 : n); try { if (a.hasClass(\"ds-comment-context\")) K.attr(\"id\", \"ds-ctx-bubble\").attr(\"data-post-id\", a.attr(\"data-post-id\")).html('' + et.ctxPost({ post: lt[a.attr(\"data-parent-id\")].toJSON() }) + '查看对话'); else if (a.hasClass(\"ds-avatar\") || a.hasClass(\"ds-user-name\")) { var l = {}, c = l.user_id = a.attr(\"data-user-id\"); if (!c) throw \"no info\"; K.attr(\"id\", \"ds-user-card\").attr(\"data-user-id\", c).empty(), ct[c] ? K.html(et.userInfo(ct[c].data)) : R.get(\"users/profile\", B(l), t) } X.css({ bottom: o, left: d }).appendTo(e.innerEl) } catch(u) { X.detach() } } var s = this; if (bubbleOutTimer && X.owner == s) return clearTimeout(bubbleOutTimer), void(bubbleOutTimer = 0); var a = H(s); tt = setTimeout(t, 200) } function p() { tt ? (clearTimeout(tt), tt = 0) : bubbleOutTimer || I() } var h; this.delegate(\"a.ds-post-likes\", \"click\", s).delegate(\"a.ds-post-repost\", \"click\", a).delegate(\"a.ds-post-delete\", \"click\", i).delegate(\"a.ds-post-report\", \"click\", n).delegate(\"a.ds-post-reply\", \"click\", o).delegate(\"a.ds-weibo-comments\", \"click\", d).delegate(\"a.ds-weibo-reposts\", \"click\", l).delegate(\"a.ds-expand\", \"click\", c), P.touch || this.delegate(\"a.ds-comment-context, .ds-avatar, .ds-user-name\", \"mouseenter\", u).delegate(\"a.ds-comment-context, .ds-avatar, .ds-user-name\", \"mouseleave\", p) } function B(e) { var s = { require: \"site,visitor,nonce,lang\" + (it++?\"\": \",unread,log,extraCss\"), site_ims: D.get(\"ds_site_\" + c.short_name + \":timestamp\"), lang_ims: D.get(\"ds_lang_\" + c.short_name + \":timestamp\"), referer: t.referrer }; c.stylePatch && (s.style_patch = c.stylePatch); for (var a in s) s[a] && (!P.ie6 || encodeURIComponent(s[a]).length < 200) && (e[a] = s[a]); return e } var H = S.jQuery, V = H(e), Y = H(t); e.postMessage && (e.addEventListener ? e.addEventListener(\"message\", g, !1) : e.attachEvent && e.attachEvent(\"onmessage\", g)), S.scrollTo = function(e) { var t = e.offset().top; (t < V.scrollTop() || t > V.scrollTop() + V.height()) && H(\"html, body\").animate({ scrollTop: t - 40 }, 200, \"swing\") }, S.toJSON = function(e) { var t = /\\r?\\n/g, s = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i, a = /^(?:select|textarea)/i, i = e.map(function() { return this.elements ? H.makeArray(this.elements) : this }).filter(function() { return this.name && !this.disabled && (this.checked || a.test(this.nodeName) || s.test(this.type)) }).map(function(e, s) { var a = H(this).val(); return null == a ? null: H.isArray(a) ? H.map(a, function(e) { return { name: s.name, value: e.replace(t, \"\\r\\n\") } }) : { name: s.name, value: a.replace(t, \"\\r\\n\") } }).toArray(), r = {}; return H.each(i, function() { r[this.name] = this.value }), r }, S.resetNotify = function() { var e = H(\"#ds-notify\"), s = ot.data; e[0] || (e = H('').css({ hidden: { display: \"none\" }, \"top-right\": { top: \"24px\", right: \"24px\" }, \"bottom-right\": { bottom: \"24px\", right: \"24px\" } } [rt.data.notify_position]).delegate(\".ds-notify-unread a\", \"click\", function() { return T(H(this).data(\"type\")), !1 }).appendTo(t.body)), e.html(et.notify(s))[!s.comments && !s.notifications || \"hidden\" === rt.data.notify_position || H(\".ds-dialog\")[0] ? \"hide\": \"show\"]() }, ot.on(\"reset\", S.resetNotify), st.Replybox = function(e) { this.embedThread = e }, st.Replybox.prototype = { render: function(e) { function s(e) { e.data(\"submitting\", !0), e.find(\".ds-post-button\").addClass(\"ds-waiting\").html(z.posting)[0].disabled = !0 } function a(e) { e.data(\"submitting\", !1), e.find(\".ds-post-button\").removeClass(\"ds-waiting\").html(z.post)[0].disabled = !1 } var i = this, o = i.embedThread, c = o.options, p = function() { S.require(\"smilies\", function() {}) }, h = { thread: o, options: c, inline: e, params: { thread_id: o.threadId, parent_id: \"\", nonce: S.nonce }, repostArray: [], checked: 0 }; for (var v in nt.data.repostOptions) nt.data.repostOptions[v] && (h.repostArray.push(v), h.checked = 1); var g = i.el = H(et.replybox(h)).click(p), b = g.find(\"form\"), y = b.find(\"input[type=checkbox]\")[0], _ = b.find(\"a.ds-service-icon, a.ds-service-icon-grey\"), k = f(b.find(\"textarea\")).focus(p).keyup(n).keyup(d).bind(\"focus mousedown mouseup keyup\", u), w = g.find(\".ds-add-emote\").click(function(e) { var s = S.smiliesTooltip; return w.toggleClass(\"ds-expanded\").hasClass(\"ds-expanded\") ? (s || (s = S.smiliesTooltip = new st.SmiliesTooltip, s.render(), S.require(\"smilies\", function() { s.reset(\"微博-默认\") })), s.replybox = i, s.el.appendTo(t.body).css({ top: i.el.offset().top + i.el.outerHeight() + 4 + \"px\", left: i.el.find(\".ds-textarea-wrapper\").offset().left + \"px\" }), H(t.body).click(x)) : x(e), !1 }), x = (g.find(\".ds-add-image\").click(function(e) { var s = k[0], a = s.value, i = \"请输入图片地址\", r = ''; if (t.selection) { s.value = a.substring(0, k.data(\"ds-range-start\")) + r + a.substring(k.data(\"ds-range-end\"), a.length), s.value = s.value.replace(\"说点什么吧 ...\", \"\"), s.focus(); var n = t.selection.createRange(); n.collapse(), n.findText(i), n.select() } else { s.value = a.substring(0, s.selectionStart) + r + a.substring(s.selectionEnd); var o = s.value.search(i); s.setSelectionRange(o, o + i.length), s.focus() } e.preventDefault() }), i.hideSmilies = function() { w.removeClass(\"ds-expanded\"), S.smiliesTooltip.el.detach(), H(t.body).unbind(\"click\", x) }), T = function(e, t) { var s = E(et[\"dialog-anonymous\"]({ services: [\"weixin\", \"weibo\", \"qq\", \"renren\", \"kaixin\", \"douban\"], options: c })), a = s.el.find(\".ds-dialog\").css(\"width\", \"320px\"); if (a.find(\".ds-icons-32 a\").click(l), !c.deny_anonymous) { var i = s.el.find(\"form\"); i.submit(function() { var e = i.find(\"input[name=author_email]\").val(); return ! e && !c.require_guest_email || e.match(/^(([^()[\\]\\\\.,;:\\s@\\\"]+(\\.[^()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/) ? (t(S.toJSON(i)), s.close(), !1) : (alert(\"请输入一个有效的email地址.\"), !1) }), i.find(\"input[name=author_name]\")[0].focus() } }; c.deny_anonymous && k.focus(function() { if (r()) { T(b, q); var e = function(t) { t.stopPropagation(), k.unbind(\"click\", e) }; k.click(e) } return ! 1 }); var q = function(e) { s(b), R.post(\"posts/create\", H.extend(S.toJSON(b), e), function(e) { var t = lt[e.response.post_id] = new F(e.response), s = M(i.postList, t, c); if (\"asc\" == c.order == (\"top\" == c.formPosition) && S.scrollTo(s), o.data.comments++, o.updateCounter(\"duoshuo\"), k.val(\"\").trigger(\"keyup\"), a(b), g.hasClass(\"ds-inline-replybox\") && (g.detach(), i.actionsBar.removeClass(\"ds-reply-active\")), m) try { m.removeItem(\"ds_draft_\" + o.threadId) } catch(r) {} }, function(e) { a(b), alert(e.errorMessage) }) }; b.submit(function() { if (b.data(\"submitting\")) return ! 1; var e = H.trim(b[0].message.value); return \"\" == e || !P.placeholder && e == k.attr(\"placeholder\") ? (alert(\"您还没写内容呢\"), !1) : (r() ? T(b, q) : q(), !1) }); var C = function(e) { return H(e).hasClass(\"ds-service-icon-grey\") ? null: H(e).attr(\"data-service\") }; if (_.click(function() { return H(this).toggleClass(\"ds-service-icon-grey\").toggleClass(\"ds-service-icon\"), y.value = H.map(_, C).join(\",\"), y.checked = \"\" != y.value, !1 }), H(y).change(function() { var e = this.checked; _[e ? \"removeClass\": \"addClass\"](\"ds-service-icon-grey\")[e ? \"addClass\": \"removeClass\"](\"ds-service-icon\"), this.value = H.map(_, C).join(\",\") }), !e && m) { var j = \"ds_draft_\" + o.threadId; k.bind(\"focus blur keyup\", function(e) { var t = H(e.currentTarget).val(); try { m[j] = t } catch(e) {} }), m[j] && k.val(m[j]) } return this } }, st.Dialog = J.extend({ init: function(e, t) { (this.el = H(\"#ds-wrapper\"))[0] || (this.el = p(H(''))), this.options = H.extend({ width: 600 }, t), e !== s && H(e).attr(\"id\", \"ds-reset\").appendTo(this.el) }, open: function() { function e(e) { return 27 == e.which ? (a.close(), !1) : void 0 } function s() { return a.close(), !1 } var a = this; return a.el.hide().appendTo(t.body).fadeIn(200), P.ie6 && a.el.css(\"top\", V.scrollTop() + 100), a.el.show().find(\".ds-dialog\").delegate(\"a.ds-dialog-close\", \"click\", function() { return a.close(), !1 }).click(i), Y.keydown(e), H(t.body).click(s), a.close = function() { Y.unbind(\"keydown\", e), H(t.body).unbind(\"click\", s), a.el.fadeOut(200, function() { H(this).remove() }), a.trigger(\"close\") }, a } }), et.likePanel = function(e) { return e.likes ? '' + e.likes + \" 人喜欢\": \"\" }, st.Meta = function(e) { this.embedThread = e }, st.Meta.prototype = { render: function() { function a(a) { function r(e) { o.set(e), n.resetLikePanel() } function c() { n.tooltip.detach(), H(t.body).unbind(\"click\", c) } function u(t) { switch (this.className) { case \"ds-like-tooltip-close\": c(t); break; default: if (!e.open(this.href, \"_blank\", \"height=500,width=600,top=0,left=0,toolbar=no,menubar=no,resizable=yes,location=yes,status=no\")) return } return ! 1 } var p = l.hasClass(\"ds-thread-liked\"); if (R.post(\"threads/vote\", { thread_id: n.embedThread.threadId, vote: p ? 0 : 1 }, r), l.toggleClass(\"ds-thread-liked\"), l.find(\".ds-thread-like-text\").text(p ? \"喜欢\": \"已喜欢\"), p) return n.tooltip && c(a), !1; if (n.tooltip === s) { var h = et.likeTooltip({ services: { qzone: \"QQ空间\", weibo: \"新浪微博\", qqt: \"腾讯微博\", renren: \"人人网\", kaixin: \"开心网\", douban: \"豆瓣网\", baidu: \"百度搜藏\" }, thread_id: o.data.thread_id }); n.tooltip = H(h).click(i).delegate(\"a\", \"click\", u) } var f = {}; return f.left = 0, f.top = d.position().top + d.outerHeight() - 4 + \"px\", n.tooltip.appendTo(n.embedThread.innerEl).css(f), H(t.body).click(c), !1 } var n = this, o = n.embedThread.model, d = n.el = H(et.meta(o.toJSON())), l = d.find(\".ds-like-thread-button\"); return l.click(a), n.resetLikePanel(), r() && d.hide(), n }, resetLikePanel: function() { this.el.find(\".ds-like-panel\").html(et.likePanel(this.embedThread.model.toJSON())) } }, st.PostListHead = function(e) { this.embedThread = e }, st.PostListHead.prototype = { render: function() { function e(e) { r.find(\"a.ds-current\").removeClass(\"ds-current\"), a.params.page = 1; var t = e.currentTarget; switch (t.className) { case \"ds-comments-tab-duoshuo\": a.params.source = \"duoshuo\", s.replybox.el.show(); break; case \"ds-comments-tab-repost\": a.params.source = \"repost\", s.replybox.el.hide(); break; case \"ds-comments-tab-weibo\": a.params.source = \"weibo\", s.replybox.el.hide(); break; case \"ds-comments-tab-qqt\": a.params.source = \"qqt\", s.replybox.el.hide() } return H(t).addClass(\"ds-current\"), a.refetch(), !1 } function t() { return n.find(\"a.ds-current\").removeClass(\"ds-current\"), a.params.order = s.options.order = this.className.replace(\"ds-order-\", \"\"), a.params.page = 1, a.refetch(), H(this).addClass(\"ds-current\"), !1 } var s = this.embedThread, a = s.postList, i = this.el = H(et.postListHead({ thread: s.model.toJSON(), options: s.options })), r = i.find(\"ul.ds-comments-tabs\"); r.delegate(\".ds-tab a\", \"click\", e); var n = i.find(\".ds-sort\"); return n.delegate(\"a\", \"click\", t), n.find(\".ds-order-\" + a.params.order).addClass(\"ds-current\"), this } }, st.Paginator = function(e) { function t() { return i.params.page = parseInt(this.innerHTML), i.refetch(), a.find(\".ds-current\").removeClass(\"ds-current\"), H(this).addClass(\"ds-current\"), !1 } e = e || {}; var s = this, a = s.el = e.el || H(''), i = s.collection = e.collection; a.delegate(\"a\", \"click\", t) }, st.Paginator.prototype = { reset: function(e) { function t(e) { i.push('' + e + \"\") } var s, a = this.collection.params.page || 1, i = []; if (a > 1) for (t(1), s = a > 4 ? a - 2 : 2, s > 2 && i.push('...'); a > s; s++) t(s); if (i.push('' + a + \"\"), a < e.pages) { for (s = a + 1; a + 4 >= s && s < e.pages; s++) t(s); s < e.pages && i.push('...'), t(e.pages) } this.el.html('' + i.join(\" \"))[e.pages > 1 ? \"show\": \"hide\"]() } }, S.addSmilies = function(e, t) { var s = S.smiliesTooltip; s && s.el.find(\"ul.ds-smilies-tabs\").append(\"\" + e + \"\"), S.smilies[e] = t }, st.SmiliesTooltip = function() {}, st.SmiliesTooltip.prototype = { render: function() { function e() { var e = s.replybox, a = e.el.find(\"textarea\"), i = a[0], r = i.value; if (t.selection) { i.value = r.substring(0, a.data(\"ds-range-start\")) + this.title + r.substring(a.data(\"ds-range-end\"), r.length), i.value = i.value.replace(z.leave_a_message, \"\"), i.focus(); var n = t.selection.createRange(); n.moveStart(\"character\", a.data(\"ds-range-start\") + this.title.length), n.collapse(), n.select() } else { var o = i.selectionStart + this.title.length; i.value = r.substring(0, i.selectionStart) + this.title + r.substring(i.selectionEnd), i.setSelectionRange(o, o) } e.hideSmilies(), i.focus() } var s = this, a = s.el = H(et.smiliesTooltip(L)); return a.click(i).find(\"ul.ds-smilies-tabs\").delegate(\"a\", \"click\", function() { s.reset(this.innerHTML) }), a.find(\".ds-smilies-container\").delegate(\"img\", \"click\", e), this }, reset: function(e) { function t(t, s) { var i = 0 === e.indexOf(\"微博\") ? \"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/\" + s.replace(\"_org\", \"_thumb\") : S.STATIC_URL + \"/images/smilies/\" + s; \"WordPress\" === e && (t = \" \" + t + \" \"), a += '' } var s = this.el.find(\"ul.ds-smilies-tabs\"); s.find(\"a.ds-current\").removeClass(\"ds-current\"), s.find(\"a\").filter(function() { return this.innerHTML == e }).addClass(\"ds-current\"); var a = \"\"; return H.each(L[e], t), a += \"\", this.el.find(\".ds-smilies-container\").html(a), this } }, et.postPlaceholder = function() { return ['', z.no_comments_yet, \"\"].join(\"\") }; var X = H(''), K = X.find(\".ds-bubble-content\").delegate(\"a.ds-ctx-open\", \"click\", function() { function e(e) { function t(e, t) { return et.ctxPost({ post: e, index: t }) } C.log(H.map(e.response, t).join(\"\\n\")); s.el.find(\"ol\"); s.el.find(\"ol\").html(H.map(e.response, t).join(\"\\n\")) } var t = {}; t.post_id = K.attr(\"data-post-id\"), R.get(\"posts/conversation\", t, e); var s = E('查看对话'); return s.el.find(\".ds-dialog\").css(\"width\", \"600px\"), s.el.find(\".ds-dialog-body\").css({ \"max-height\": \"350px\", _height: \"350px\", \"overflow-y\": \"auto\", \"padding-top\": \"10px\" }), !1 }), tt = bubbleOutTimer = 0; X.mouseenter(N).mouseleave(I), st.PostList = function(e) { e && (e.params && (this.params = e.params), e.embedThread && (this.embedThread = e.embedThread)), this.el = H('') }, st.PostList.prototype = { url: \"threads/listPosts\", render: function() { return U.call(this.el, this.embedThread, this.embedThread.options), this }, reset: function(e) { var t = this.embedThread.options; this.el.html(e[0] ? H.map(lt.getJSON(e), function(e) { return et.post({ post: e, options: t }) }).join(\"\") : et.postPlaceholder()) }, refetch: function() { function e(e) { lt.set(e.parentPosts || e.relatedPosts), ct.set(e.users), s.reset(e.response), s.embedThread.paginator.reset(e.cursor), s.el.fadeTo(200, 1), S.scrollTo(s.el), a.remove() } var s = this, a = H(et.indicator()).appendTo(t.body).fadeIn(200); s.el.fadeTo(200, .5), R.get(s.url, s.params, e) } }, st.RelatedRead = function() { this._init() }, st.RelatedRead.prototype = { _init: function() { this.el = H('') }, load: function(s) { e.__duoshuo_id__ = s, e.readsByToutiao = [], e.readsByToutiao.push({ id: \"ds-related-reads\", num: 3 }); var a = \"//s0.pstatp.com/site/reads-sdk/5bf3702b38076207bee1.js\", i = t.createElement(\"script\"); i.src = a, i.charset = \"utf-8\", i.crossOrigin = \"anonymous\", t.head.appendChild(i) }, mount: function(e) { this.el.insertBefore(e) } }, st.EmbedThread = Q.extend({ uri: \"threads/listPosts\", params: \"thread-id local-thread-id source-thread-id thread-key category channel-key author-key author-id url limit order max-depth form-position container-url\" + (v.match(/MSIE 6\\.0/) ? \"\": \" title image thumbnail\"), render: function() { var e = this.el; if (\"请将此处替换成文章在你的站点中的ID\" === e.data(\"thread-key\")) return alert(\"请设置正确的 data-thread-key 属性\"), !1; e.attr(\"id\", \"ds-thread\").append(et.waitingImg()); var t = e.width(), s = e.data(\"url\") || !e.attr(\"data-thread-id\") && H(\"link[rel=canonical]\").attr(\"href\"); s ? e.data(\"url\", k(s)) : e.data(\"container-url\", h.href), t && 400 >= t && e.addClass(\"ds-narrow\").data(\"max-depth\", 1) }, updateCounter: function(e) { function t(e) { return e.substr(e.indexOf(\"}\") + 1) } var s = { duoshuo: [\"comments\", t(z.comments_multiple) || \"评论\"], repost: [\"reposts\", t(z.reposts_multiple) || \"转载\"], weibo: [\"weibo_reposts\", t(z.weibo_reposts_multiple) || \"新浪微博\"], qqt: [\"qqt_reposts\", t(z.qqt_reposts_multiple) || \"腾讯微博\"] }; for (var a in s) if (!e || e == a) { var i = this.data[s[a][0]]; this.el.find(\".ds-comments-tab-\" + a).html(this.el.hasClass(\"ds-narrow\") ? '' + i: (i ? '' + i + \"\": \"0\") + s[a][1]) } }, onError: function(e) { this.el.html(\"评论框出错啦(\" + e.code + \"): \" + e.errorMessage) }, onload: function(t) { var a = this, i = a.threadId = t.thread.thread_id, n = t.cursor, o = a.options = t.options, d = a.innerEl = p(H('').appendTo(a.el)); a.model = new G(a.data = t.thread), lt.set(t.parentPosts || t.relatedPosts), ct.set(t.users), a.el.find(\"#ds-waiting\").remove(), t.options && t.options.show_recommend && (a.relatedRead = new st.RelatedRead, a.relatedRead.load(t.thread.site_id), a.relatedRead.mount(d)), o.like_thread_enabled && (a.meta = new st.Meta(a), d.append(a.meta.render().el)), o.hot_posts && t.hotPosts && t.hotPosts.length && (a.hotPosts = new st.HotPosts(H(''), { max_depth: 1, show_context: o.show_context }), a.hotPosts.thread = a, d.append(a.hotPosts.el), a.hotPosts.onload({ list: lt.getJSON(t.hotPosts) })), a.postListHead = new st.PostListHead(a), a.postList = new st.PostList({ embedThread: a, params: { source: \"duoshuo\", thread_id: i, max_depth: o.max_depth, order: o.order, limit: o.limit } }), a.postList.render().reset(t.response), a.paginator = new st.Paginator({ collection: a.postList }), a.paginator.reset(n); var c = a.replybox = new st.Replybox(a); c.postList = a.postList.el, r() ? a.loginButtons = H(et.loginButtons()).delegate(\"a.ds-more-services\", \"click\", function() { return a.loginButtons.find(\".ds-additional-services\").toggle(), !1 }).delegate(\"a.ds-service-link\", \"click\", l) : a.toolbar = H(et.toolbar()).delegate(\".ds-account-control\", \"mouseenter\", function() { H(this).addClass(\"ds-active\") }).delegate(\".ds-account-control\", \"mouseleave\", function() { H(this).removeClass(\"ds-active\") }).delegate(\"a.ds-bind-more\", \"click\", function() { var e = E(et[\"dialog-bind-more\"]()).el.find(\".ds-dialog\").addClass(\"ds-dialog-bind-more\").css(\"width\", \"300px\"); return e.find(\"a.ds-service-link\").click(l), !1 }).delegate(\"a.ds-unread-comments-count\", \"click\", function() { return T(\"unread-comments\"), !1 }); var u = ['', a.toolbar || a.loginButtons, c.render().el]; \"top\" == o.formPosition && H.fn.append.apply(d, u), d.append(a.postListHead.render().el, a.postList.el, a.paginator.el), \"bottom\" == o.formPosition && H.fn.append.apply(d, u), d.append(et.poweredBy(o.poweredby_text)), a.updateCounter(), t.alerts && H.each(t.alerts, function(e, t) { H('' + t + \"\").insertBefore(a.toolbar || loginButtons) }), o.message && c.el.find(\"textarea\").val(o.message).focus(), ot.on(\"reset\", function() { var e = ot.data.comments || 0; d.find(\"a.ds-unread-comments-count\").html(e).attr(\"title\", e ? \"你有\" + e + \"条新回复\": \"你没有新回复\").css(\"display\", e ? \"inline\": \"none\") }), o.mzadx_id && (S.require(\"mzadxN\", function() {}), H('').appendTo(d), __mz_rpq = e.__mz_rpq || [], __mz_rpq.push({ l: [o.mzadx_id], r: \"1\", _srv: \"MZADX\", _callback: function() {} })), S.thread = a, ot.data !== s && ot.trigger(\"reset\"), r() || A.send({ visit_thread_id: a.threadId }) }, onMessage: function(e) { M(this.postList.el, new F(e), this.options) } }), st.HotPosts = Q.extend({ tmpl: \"hotPosts\", params: \"show-quote\", render: function() { return this.el.attr(\"id\", \"ds-hot-posts\"), this }, onload: function(e) { e.options = H.extend(this.options, e.options), Q.prototype.onload.call(this, e), U.call(this.el.find(\"ul\"), this.thread, this.options) } }), st.RecentComments = Q.extend({ tmpl: \"commentList\", uri: \"sites/listRecentPosts\", params: \"show-avatars show-time show-title avatar-size show-admin excerpt-length num-items channel-key\", render: function() { this.el.attr(\"id\", \"ds-recent-comments\") }, prepare: function(e) { return { list: H.map(e.response, function(e) { return new F(e).toJSON() }) } } }), st.RecentVisitors = Q.extend({ tmpl: \"recentVisitors\", uri: \"sites/listVisitors\", params: \"show-time avatar-size num-items channel-key\", render: function() { this.el.children().detach(), this.el.attr(\"id\", \"ds-recent-visitors\").append(this.waitingEl = H(et.waitingImg())) } }), st.TopThreads = Q.extend({ tmpl: \"topThreads\", uri: \"sites/listTopThreads\", params: \"range num-items channel-key\", render: function() { this.el.children().detach(), this.el.attr(\"id\", \"ds-top-threads\").append(this.waitingEl = H(et.waitingImg())) } }), st.LoginWidget = Q.extend({ tmpl: \"loginWidget\", render: function() { var e = this.el; e.attr(\"id\", \"ds-login\").html(et.loginWidget([\"weixin\", \"weibo\", \"qq\", \"renren\", \"kaixin\", \"douban\"])), e.find(\"a\").click(l), e.find(\"a.ds-logout\").attr(\"href\", Z.logoutUrl()) } }), st.ThreadCount = Q.extend({ onload: function(e) { var t = this.el, s = t.data(\"count-type\") || \"comments\", a = e.data[s]; t[t.data(\"replace\") ? \"replaceWith\": \"html\"](z[s + \"_\" + (a ? a > 1 ? \"multiple\": \"one\": \"zero\")].replace(\"{num}\", a)) } }), st.ShareWidget = Q.extend({ tmpl: \"shareWidget\", render: function() { var e = { copyright: \"多说分享插件\", services: [\"weibo\", \"qzone\", \"sohu\", \"renren\", \"netease\", \"qqt\", \"kaixin\", \"douban\", \"qq\", \"meilishuo\", \"mogujie\", \"baidu\", \"taobao\", \"google\", \"wechat\", \"diandian\", \"huaban\", \"duitang\", \"youdao\", \"pengyou\", \"facebook\", \"twitter\", \"linkedin\", \"msn\"] }; this.el.attr(\"id\", \"ds-share\"), this.el.children().attr(\"id\", \"ds-reset\"), this.el.find(\".ds-share-aside-inner\").html(et.shareWidget(e)), this.el.find(\".ds-share-icons-more\").html(et.shareWidget(e)), this.el.find(\".ds-share-icons-more\").hide(), this.el.hasClass(\"flat\") && this.el.find(\"a\").each(function() { H(this).addClass(\"flat\") }), p(this.el), this.delegateEvents() }, delegateEvents: function() { var s = this, i = s.el; if (i.children().hasClass(\"ds-share-inline\")) { var r = \".ds-share-icons-more\", n = i.find(r), d = \"[data-toggle=ds-share-icons-more]\"; i.delegate(d, \"mouseover\", function() { n.show() }), i.delegate(d, \"mouseout\", function() { n.hide() }), i.delegate(r, \"mouseover\", function() { n.show() }), i.delegate(r, \"mouseout\", function() { n.hide() }) } else { var l = i.children().hasClass(\"ds-share-aside-left\") ? \"slide-to-right\": \"slide-to-left\", c = i.children(); if (!o.cssProperty(\"transition\")) { var u = i.children().hasClass(\"ds-share-aside-left\") ? \"left\": \"right\"; i.delegate(\".ds-share-aside-toggle\", \"mouseover\", function() { var e = {}, s = P.ie6 && \"right\" === u; s ? e.left = (t.documentElement.scrollLeft + t.documentElement.clientWidth - this.offsetWidth - (parseInt(this.currentStyle.marginLeft, 10) || 0) - parseInt(this.currentStyle.marginRight, 10) || 0) - 195 : e[u] = 0, c.animate(e, 200) }), i.delegate(\".ds-share-aside-inner\", \"mouseleave\", function() { var e = {}, s = P.ie6 && \"right\" === u; s ? e.left = (t.documentElement.scrollLeft + t.documentElement.clientWidth - this.offsetWidth - (parseInt(this.currentStyle.marginLeft, 10) || 0) - parseInt(this.currentStyle.marginRight, 10) || 0) + 230 : e[u] = -229, c.animate(e, 200) }) } i.delegate(\".ds-share-aside-toggle,.ds-share-aside-inner\", \"mouseover\", function() { c.addClass(l) }), i.delegate(\".ds-share-aside-toggle,.ds-share-aside-inner\", \"mouseleave\", function() { c.removeClass(l) }) } i.delegate(\"a\", \"click\", function(t) { var s = H(this).data(\"service\"); if (!i.data(\"url\")) return void alert(\"请设置data-url\"); if (\"wechat\" === s) { var r = a() + \"/api/qrcode/getImage.png\", n = \"?size=240&text=\" + i.data(\"url\"), d = E(et[\"dialog-qrcode\"]({ qrcode_url: r + n, url: i.data(\"url\") })); d.el.find(\".ds-dialog\").css(\"width\", \"320px\") } else { var l = a() + \"/share-proxy/?\" + o.param({ service: H(this).data(\"service\"), thread_key: i.data(\"threadKey\"), title: i.data(\"title\"), images: i.data(\"images\"), content: i.data(\"content\"), url: i.data(\"url\") }); e.open(l, \"_blank\") } t.preventDefault(), t.stopPropagation() }) } }); var it = 0; S.initSelector = function(e, t) { function s(e) { W(e), o.extend(z, e.options), dt.set(e.response) } var a = []; ! q() || !H.isReady && j || H(e).each(function(e, s) { var i = H(s); if (!i.data(\"initialized\")) { i.data(\"initialized\", !0); var r = new st[t.type](i, t); if (at.push(r), \"ThreadCount\" === t.type) { var n = i.attr(\"data-thread-key\"); i.attr(\"data-channel-key\") && (n = i.attr(\"data-channel-key\") + \":\" + n), a.push(n), dt[n] || (dt[n] = new G({})), dt[n].on(\"reset\", function() { r.onload(this) }) } else if (r.uri) { var o = {}; H.each(r.params.split(\" \"), function(e, t) { o[t.replace(/-/g, \"_\")] = i.attr(\"data-\" + t) || i.data(t) }), R.get(r.uri, B(o), function(e) { r.load(e) }) } } }), a.length && R.get(\"threads/counts\", B({ threads: a.join(\",\") }), s) }, (S.initView = function() { H.each(O, S.initSelector) })(), H(function() { if (!c) { if (!q()) return C.error(\"缺少 duoshuoQuery 的定义\"); C.warn(\"请在加载多说 embed.js 之前定义 duoshuoQuery\") } setInterval(function() { H(\".ds-time\").each(function() { var e = H(this).attr(\"datetime\"); e && (this.innerHTML = S.elapsedTime(e)) }) }, 2e4), c.ondomready && c.ondomready(), S.initView(), !it && c.short_name && R.get(\"analytics/ping\", B({}), W) }) }) } } (window, document);"},{"title":"关于","date":"2017-06-01T13:05:41.844Z","updated":"2017-06-01T13:05:41.844Z","comments":true,"path":"about/index.html","permalink":"http://www.qssq666.cn/about/index.html","excerpt":"","text":"联系我们 QQ:694886526 情迁产品交流群 1群:298081857 情迁产品交流群 2群:129103467 情迁产品交流群 3群:618725848 情迁产品交流群 4群:247020690 加我微信 加我支付宝 微信打赏 支付宝打赏"},{"title":"","date":"2017-06-01T13:05:41.851Z","updated":"2017-06-01T13:05:41.851Z","comments":true,"path":"black/black.json","permalink":"http://www.qssq666.cn/black/black.json","excerpt":"","text":"[\"2470399410\",\"3343005767\",\"1467445383\"]"},{"title":"categories","date":"2017-06-01T13:05:41.853Z","updated":"2017-06-01T13:05:41.853Z","comments":true,"path":"categories/index.html","permalink":"http://www.qssq666.cn/categories/index.html","excerpt":"","text":""},{"title":"","date":"2017-06-01T13:05:41.846Z","updated":"2017-06-01T13:05:41.846Z","comments":true,"path":"bgsearch/Baidu CSE Default.css","permalink":"http://www.qssq666.cn/bgsearch/Baidu CSE Default.css","excerpt":"","text":"/* * 嵌入式框样式自定义 */ .bdcs-container .bdcs-main, .bdcs-container .bdcs-main * { box-sizing:content-box; margin:0; padding:0; float:none; clear:none; overflow:hidden; white-space:nowrap; word-wrap:normal; border:0; background:none; width:auto; height:auto; max-width:none; min-width:none; max-height:none; min-height:none; border-radius:0; box-shadow:none; transition:none; text-align:left; } .bdcs-container .bdcs-clearfix:after { content: ''; display: block; clear: both; height: 0; } .bdcs-container .bdcs-clearfix { zoom: 1; } .bdcs-container .bdcs-main { overflow: visible; } .bdcs-container .bdcs-search { display: block; overflow: visible; position: relative; border-style: solid; } .bdcs-container .bdcs-search-form-input-wrap { display: inline-block; } /*输入框自定义样式*/ .bdcs-container .bdcs-search-form-input { border-width: 1px; border-style: solid; display: inline-block; vertical-align: top; text-indent: 5px; float: left; border-color:#a6a6a6; margin-right:10px; width:246px; height:26px; line-height:26px; font-family:Arial,SimSun,sans-serif; color:#000000; font-size:14px; border-radius:0px; background-color:#FFFFFF; } .bdcs-container .bdcs-search-form-input:focus { border-width: 1px; border-style: solid; outline: none; } .bdcs-container .bdcs-search-form-submit-wrap { display: inline-block; } /*按钮样式自定义*/ .bdcs-container .bdcs-search-form-submit { display: inline-block; cursor: pointer; border-width: 1px; border-style: solid; vertical-align: top; text-align: center; width: 50px; /*IE67 submit width fix*/ /*width: 1; *overflow: visible; /*fix IE6 submit height but width still bug*/ //_overflow: hidden; border-color:#a6a6a6; height:26px; background-color:#f5f5f5; color:#000000; font-family:Arial,SimSun,sans-serif; font-size:14px; border-radius:0px; *height:28px; *margin-top:1px; line-height:26px; } .bdcs-container .bdcs-search-form-submit-magnifier { width: 45px; padding: 0; text-indent: -999em; overflow: hidden; background: url('/static/customer-search/component/search/magnifier-icon.png') no-repeat center center; _background: url('/static/customer-search/component/search/magnifier-icon_ie6.png') no-repeat center center; } .bdcs-container .bdcs-search-form-input-wrap{} .bdcs-container .bdcs-search-form-input-notspan{ margin-left:0px; font-family:Arial,SimSun,sans-serif; color:#000000; font-size:14px; } .bdcs-container .bdcs-search-form-input .icon-nofocus{ left:; right:; top:; height:; width:; } .bdcs-container .bdcs-search{ width:310px; height:28px; overflow:visible; border-color:#ffffff; border-radius:0px; border-width:0px; box-shadow:none; background-color:none; } .bdcs-container .bdcs-search-form-input:focus{ border-color:#f79646; } .bdcs-container .bdcs-search-form-submit-wrap{ } .bdcs-container .bdcs-search-sug-list{ width:250px; } .bdcs-container .bdcs-search-sug-list-item{ height:30px; line-height:30px; font-family:Arial,SimSun,sans-serif; font-size:14px; } .bdcs-container .bdcs-search-sug-list-item-value{ color:#000000; } .bdcs-container .bdcs-hot{ width:300px; height:30px; line-height:30px; } .bdcs-container .bdcs-hot-item{ color:#632423; font-family:Arial,Microsoft YaHei,sans-serif; font-size:14px; } /*频道设置*/ div#default-searchbox .default-channel-meun{ position: relative; width: 75px; display: inline-block; vertical-align: middle; cursor: pointer; background: #fff; float: left; overflow: visible; } div#default-searchbox .default-channel-current{ border: 1px solid; position: relative; width: 100%; border-right: none; } div#default-searchbox .default-channel-current span{ margin-left: 8px; } div#default-searchbox .default-channel-current i{ overflow: hidden; width: 0; height: 0; border-width: 6px 6px 0; border-color: #9E9E9E #ffffff; border-style: solid; display: block; position: absolute; right: 10px; top: 11px; } div#default-searchbox .default-channel-list{ display: none; width: 99%; list-style: none; background: #fff; border: 1px solid #DDD; border-top: none; margin: 0; padding: 0; /*position: absolute;*/ z-index: 30000; } div#default-searchbox .default-channel-list li{ background: none; line-height: 24px; list-style: none; padding-left: 7px; } div#default-searchbox .default-channel-list li:hover{ background: #DDD; } /*热搜词自定义*/ .bdcs-container .bdcs-hot, .bdcs-container .bdcs-hot * { box-sizing:content-box; margin:0; padding:0; float:none; clear:none; overflow:hidden; white-space:nowrap; word-wrap:normal; border:0; background:none; width:auto; height:auto; max-width:none; min-width:none; max-height:none; min-height:none; border-radius:0; box-shadow:none; transition:none; text-align:left; } .bdcs-container .bdcs-hot { display: block; white-space: normal; } .bdcs-container .bdcs-hot-item { margin-right: 10px; } .bdcs-container .bdcs-hot{ width:300px; height:30px; line-height:30px; } .bdcs-container .bdcs-hot-item{ color:#632423; font-family:Arial,Microsoft YaHei,sans-serif; font-size:14px; } .bdcs-container{ /*width:px;*/ height:50px; } .bdcs-main{ overflow:visible; }"},{"title":"百度搜索","date":"2015-09-18T01:00:00.000Z","updated":"2017-06-01T13:05:41.848Z","comments":false,"path":"bgsearch/index.html","permalink":"http://www.qssq666.cn/bgsearch/index.html","excerpt":"","text":"var duoshuoQuery = {short_name:”qssq”}; (function() { var ds = document.createElement(‘script’); ds.type = ‘text/javascript’;ds.async = true; ds.src = (document.location.protocol == ‘https:’ ? ‘https:’ : ‘http:’) + ‘//static.duoshuo.com/embed.unstable.js’; ds.charset = ‘UTF-8’; (document.getElementsByTagName(‘head’)[0] || document.getElementsByTagName(‘body’)[0]).appendChild(ds); })(); (function(){document.write(unescape('%3Cdiv id=\"bdcsFrameBox\"%3E%3C/div%3E'));var bdcs = document.createElement(\"script\");bdcs.type = \"text/javascript\";bdcs.async = true;bdcs.src = \"http://znsv.baidu.com/customer_search/api/rs?sid=11600384295381185353\" + \"&plate_url=\" + encodeURIComponent(window.location.href) + \"&t=\" + Math.ceil(new Date()/3600000);var s = document.getElementsByTagName(\"script\")[0];s.parentNode.insertBefore(bdcs, s);})();"},{"title":"","date":"2017-06-01T13:05:41.865Z","updated":"2017-06-01T13:05:41.865Z","comments":true,"path":"live/chat_group.json","permalink":"http://www.qssq666.cn/live/chat_group.json","excerpt":"","text":"[{\"title\":\"工具箱交流群\",\"extra\":\"1\",\"type\":\"GROUP\"},{\"title\":\"情迁红包交流群\",\"extra\":\"2\",\"type\":\"GROUP\"},{\"title\":\"情迁QQ语音转发分享交流群\",\"extra\":\"2\",\"type\":\"GROUP\"},{\"title\":\"群4\",\"extra\":\"3\",\"type\":\"GROUP\"},{\"title\":\"群5\",\"extra\":\"3\",\"type\":\"GROUP\"}]"},{"title":"留言板","date":"2017-06-01T13:05:41.876Z","updated":"2017-06-01T13:05:41.876Z","comments":true,"path":"messagebroad/index.html","permalink":"http://www.qssq666.cn/messagebroad/index.html","excerpt":"","text":"┉┉┉┉┉┉┉┉┉┉ 情随事迁┉┉┉┉┉┉┉┉┉┉┉ 孤独是一种无奈的选择，孤独是因为没有找到合适的同行者，孤独是为了孤独背后的解脱。孤独的过程，就是一个寻求真爱的过程。 人与人的情感交流是个很复杂的过程，既会随着时间的延续而变化，也会随着事情的发生而变化。我是情随事迁 我为自己代言"},{"title":"","date":"2017-06-01T13:05:41.868Z","updated":"2017-06-01T13:05:41.868Z","comments":true,"path":"live/chat_service.json","permalink":"http://www.qssq666.cn/live/chat_service.json","excerpt":"","text":"[{\"title\":\"作者\",\"extra\":\"5830256f1ec2713e3b07feb7\",\"type\":\"PRIVATE\"},{\"title\":\"智能客服\",\"extra\":\"KEFU148135495977671\",\"type\":\"SERVICE\"},{\"title\":\"客服管理\",\"extra\":\"582ff7bbbe95f35d1ba9e1ae\",\"type\":\"PRIVATE\"},{\"title\":\"客服2\",\"extra\":\"583062ec1ec2713e3b080d59\",\"type\":\"PRIVATE\"},{\"title\":\"客服3\",\"extra\":\"5830636edc7a70ac0ec336ff\",\"type\":\"PRIVATE\"},{\"title\":\"测试\",\"extra\":\"58306014cf3f95dd7d816831\",\"type\":\"PRIVATE\"},{\"title\":\"招募客服\",\"extra\":\"58306014cf3f95dd7d816831\",\"type\":\"PRIVATE\"}]"},{"title":"","date":"2017-06-01T13:05:41.867Z","updated":"2017-06-01T13:05:41.867Z","comments":true,"path":"live/chat_room.json","permalink":"http://www.qssq666.cn/live/chat_room.json","excerpt":"","text":"[{\"title\":\"房间1\",\"extra\":\"1\",\"type\":\"ROOM\"},{\"title\":\"房间2\",\"extra\":\"2\",\"type\":\"ROOM\"}]"},{"title":"直播流交流与分享","date":"2017-06-01T13:05:41.872Z","updated":"2017-06-01T13:05:41.872Z","comments":true,"path":"live/share.html","permalink":"http://www.qssq666.cn/live/share.html","excerpt":"","text":"您可以分享一些直播源到这里,或者 也可以 在这里讨论交流"},{"title":"","date":"2017-06-01T13:05:41.878Z","updated":"2017-06-01T13:05:41.878Z","comments":true,"path":"other/history_qq.html","permalink":"http://www.qssq666.cn/other/history_qq.html","excerpt":"","text":"QQ 6.6.0 QQ 6.5.8 QQ 6.5.5 QQ 6.5.3 QQ 6.5.0 QQ 6.3.7 QQ 6.3.6 QQ 6.3.5 QQ 6.3.3 QQ 6.3.1 QQ 6.3.0 QQ 6.2.3 QQ 6.2.1 QQ 6.2.0 QQ 6.1.0 QQ 6.0.1 QQ 6.0.0 QQ 5.9.5 QQ 5.9.1 QQ 5.9.0 QQ 5.8.0 QQ 5.7.2 QQ 5.7.1 QQ 5.7.0 QQ 5.6.1 QQ 5.6.0 QQ 5.5.1 QQ 5.5.0 QQ 5.4.1 QQ 5.4.1 QQ 5.4.0 QQ 5.3.2 QQ 5.3.1 QQ 5.3.0 QQ 5.2.1 QQ 5.2.1 QQ 5.2.0 QQ 5.1.1 QQ 5.1.0 QQ 5.0.0 QQ 4.7.2 QQ 4.7.2 QQ 4.7.0 QQ 4.6.2 QQ 4.6.1 QQ 4.6.0 QQ 4.5.2 ������Ӧ�� 4.5.1 qq694886526"},{"title":"search","date":"2017-06-01T13:05:41.885Z","updated":"2017-06-01T13:05:41.885Z","comments":true,"path":"search/index.html","permalink":"http://www.qssq666.cn/search/index.html","excerpt":"","text":""},{"title":"tags","date":"2017-06-01T13:05:41.888Z","updated":"2017-06-01T13:05:41.888Z","comments":true,"path":"tags/index.html","permalink":"http://www.qssq666.cn/tags/index.html","excerpt":"","text":""},{"title":"","date":"2017-06-01T13:05:41.905Z","updated":"2017-06-01T13:05:41.905Z","comments":true,"path":"update/qq_redpackaget.html","permalink":"http://www.qssq666.cn/update/qq_redpackaget.html","excerpt":"","text":"版本升级与使用帮助 var phoneWidth = parseInt(window.screen.width); var phoneScale = phoneWidth/640; var ua = navigator.userAgent; if (/Android (\\d+\\.\\d+)/.test(ua)){ var version = parseFloat(RegExp.$1); if(version>2.3){ document.write(‘‘); }else{ document.write(‘‘); } } else { document.write(‘‘); } var cnzz_protocol = ((\"https:\" == document.location.protocol) ? \" https://\" : \" http://\");document.write(unescape(\"%3Cspan id='cnzz_stat_icon_1260213213'%3E%3C/span%3E%3Cscript src='\" + cnzz_protocol + \"s4.cnzz.com/stat.php%3Fid%3D1260213213%26show%3Dpic' type='text/javascript'%3E%3C/script%3E\")); var phoneWidth = parseInt(window.screen.width); var phoneScale = phoneWidth/640; var ua = navigator.userAgent; if (/Android (\\d+\\.\\d+)/.test(ua)){ var version = parseFloat(RegExp.$1); if(version>2.3){ document.write(‘‘); }else{ document.write(‘‘); } } else { document.write(‘‘); } var html = document.querySelector(‘html‘); var rem = html.offsetWidth / 6.4; html.style.fontSize = rem + \"px\"; 5秒后讲自动跳转下载地址百度网盘 你有5秒时间看完这些东西 需要xposed框架才能使用 需要root你的手机才能xposed激活 不懂的朋友看软件必看说明 不能跳转请点击这里进入http://pan.baidu.com/s/1b5CY0A 下载历史版本QQ,插件和框架"},{"title":"","date":"2017-06-01T13:05:41.902Z","updated":"2017-06-01T13:05:41.902Z","comments":true,"path":"update/insert_update.json","permalink":"http://www.qssq666.cn/update/insert_update.json","excerpt":"","text":"{\"version\":\"1.1.2fix\",\"versioncode\":\"18\",\"break\":false,\"min\":\"18\"}"},{"title":"","date":"2017-06-01T13:05:42.131Z","updated":"2017-06-01T13:05:42.131Z","comments":true,"path":"update/update.json","permalink":"http://www.qssq666.cn/update/update.json","excerpt":"","text":"{\"version\":\"1.2.3\",\"versioncode\":\"22\",\"url\":\"https://jq.qq.com/?_wv=1027&k=43aRoO4\",\"description\":\"优化语音转发功能,更强体验支持陌生人盗音已经发语音\",\"ad\":\"需要帮助您可以加群298081857,反馈意见联系作者QQ,另外我还有qq红包等软件等你下载\",\"force\":false}"},{"title":"","date":"2017-06-01T13:05:42.124Z","updated":"2017-06-01T13:05:42.124Z","comments":true,"path":"update/robot_update.json","permalink":"http://www.qssq666.cn/update/robot_update.json","excerpt":"","text":"{\"version\":\"1.0.1\",\"versioncode\":\"4\",\"force\":\"false\",\"description\":\"增加艾特回复模式,优化体验\"}"},{"title":"","date":"2017-06-01T13:05:42.144Z","updated":"2017-06-01T13:05:42.144Z","comments":true,"path":"update/version_support.json","permalink":"http://www.qssq666.cn/update/version_support.json","excerpt":"","text":"{\"qq\":\"500\",\"wechat\":\"1020\",\"app\":\"37\"}"},{"title":"","date":"2017-06-01T13:05:42.150Z","updated":"2017-06-01T13:05:42.150Z","comments":true,"path":"update/wechat_update.json","permalink":"http://www.qssq666.cn/update/wechat_update.json","excerpt":"","text":"{\"version\":\"1.0.2\",\"versioncode\":\"4\",\"force\":false,\"min\":\"0\"}"},{"title":"","date":"2017-06-01T13:05:42.176Z","updated":"2017-06-01T13:05:42.176Z","comments":true,"path":"utils/index1.html","permalink":"http://www.qssq666.cn/utils/index1.html","excerpt":"","text":"带有记忆功能的UI设计效果不错的网页计算器效果 0 C/E &larr; -/+ &divide; 7 8 9 &times; 4 5 6 - 1 2 3 + 0 . = 1/x &radic; x2 yx Memory is Empty Wipe"},{"title":"在线工具","date":"2017-06-01T13:05:42.169Z","updated":"2017-06-01T13:05:42.169Z","comments":false,"path":"utils/index.html","permalink":"http://www.qssq666.cn/utils/index.html","excerpt":"","text":"昵称恶搞工具 计算器工具"},{"title":"","date":"2017-06-01T13:05:42.201Z","updated":"2017-06-01T13:05:42.201Z","comments":true,"path":"utils/nickutil.html","permalink":"http://www.qssq666.cn/utils/nickutil.html","excerpt":"","text":"/* v2.0 | 20110126 License: none (public domain) */ html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video { margin: 0; padding: 0; border: 0; font-size: 100%; font-family: sans-serif; vertical-align: baseline; } /* HTML5 display-role reset for older browsers */ article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section { display: block; } body { line-height: 1; } ol, ul { list-style: none; } blockquote, q { quotes: none; } blockquote:before, blockquote:after, q:before, q:after { content: ''; content: none; } table { border-collapse: collapse; border-spacing: 0; } body { background-color: #e9edf1; } #container { /*padding-top: 100px;*/ /*font-size: 20px;*/ text-align: center; /*margin: 0;*/ /*padding: 0;*/ } /*body > * { margin: 10px 0; }*/ #container > p { margin: 15px auto 10px 10px; width: 100%; text-align: left; font-size: 14px; color: #34485f; } input { width: 100%; height: 40px; border-radius: 5px; border: none; font-size: 20px; background-color: #e9edf1; } #output { width: 100%; height: 40px; border-radius: 5px; border: none; font-size: 20px; background-color: #e9edf1; line-height: 40px; } button { margin: 10px; border-radius: 5px; font-size: 16px; height: 40px; width: 100px; background-color: 52c5fe; border: none; color: #ffffff; } h1 { visibility: hidden; } #container { box-shadow: 0px 0px 5px #bfbfbf; padding: 10px 20px; background-color: #ffffff; position: absolute; width: 80%; max-width: 90%; /*height: 60%;*/ left: 50%; transform: translate(-50%, -50%); top: 50%; } #download { margin-top: 10px; /*position: absolute;*/ /*bottom: 0;*/ width: 100%; } img { width: 95px; height: 95px; /*position: absolute;*/ /*left: 50%;*/ /*transform: translateX(-50%);*/ /*bottom: 5%;*/ } #download > p { text-align: center; margin: 0; margin-top: 10px } #bottom-bar { background-color: white; position: fixed; bottom: 0; z-index: 3; display: block; width: 100%; height: 60px; border-top: #dcdef0 1px solid; } #bottom-bar #app-slogan { font-size: 1em; color: #484b50; top: 50%; position: absolute; -webkit-transform: translateY(-50%); transform: translateY(-50%); left: 70px; } #bottom-bar p { margin-top: 5px; font-size: 12px; color: #99a0a7; } #bottom-bar a { display: block; /*outline: none;*/ border: 1px solid #3d464d; border-radius: 3px; top: 50%; text-align: center; position: absolute; -webkit-transform: translateY(-50%); transform: translateY(-50%); font-size: 14px; line-height: 30px; color: #3d464d; width: 86px; height: 30px; right: 20px; text-decoration: none; } #icon { left: 15px; background: url(\"http://share.jike.ruguoapp.com/share/imgs/icon.png\") no-repeat; background-size: 40px auto; height: 40px; width: 40px; position: relative; top: 50%; -webkit-transform: translateY(-50%); transform: translateY(-50%); border-radius: 8px; } function reverse(s){ return s.split(\"\").reverse().join(\"\"); } function gentext() { var name = document.querySelector(\"input[name=name]\").value; var suffix = document.querySelector(\"input[name=suffix]\").value; suffix = reverse(suffix); var output = document.querySelector(\"#output\"); output.value = name+String.fromCharCode(8238)+suffix +String.fromCharCode(8237); // document.write(\"\"+name+\"&#8238;\"+suffix +\"&#8237;\") output.setSelectionRange(0, output.value.length); // output.innerHTML = \"+name+\"&#8238;\"+suffix +\"&#8237; // output.style.visibility = \"visible\"; // document.write(\"\") } 名字/前缀 后缀 生成 生成的编辑框内容复制到你的手机的昵称编辑框保存就行了，然后呢可能生效没那么快,或者被人给你打了备注就可以自己把群备注也粘贴下 立即打开"},{"title":"Hello World","date":"2017-06-01T13:05:41.856Z","updated":"2017-06-01T13:05:41.856Z","comments":true,"path":"downloads/code/hello-world.html","permalink":"http://www.qssq666.cn/downloads/code/hello-world.html","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment"},{"title":"","date":"2017-06-01T13:05:42.160Z","updated":"2017-06-01T13:05:42.160Z","comments":true,"path":"utils/css/style.css","permalink":"http://www.qssq666.cn/utils/css/style.css","excerpt":"","text":"* { -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; } #container { width: 540px; margin: 0 auto; font-family: 'Helvetica Neue LT Pro', 'Helvetica', sans-serif; } a { text-decoration: none; color: black; } #the-calculator { font-size: 1.2em; display: block; /*width: 400px;*/ width: 58%; float: left; margin: 0; padding: 20px; border: 2px solid #e0e0e0; background: #00544b; background: -webkit-gradient(linear, left bottom, left top, color-stop(0, #003b34), color-stop(1, #00544b)); background: -ms-linear-gradient(bottom, #003b34, #00544b); background: -moz-linear-gradient(center bottom, #003b34 0%, #00544b 100%); background: -o-linear-gradient(#00544b, #003b34); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00544b', endColorstr='#003b34', GradientType=0); -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px; -moz-background-clip: padding-box; -webkit-background-clip: padding-box; background-clip: padding-box; } #the-calculator button, #the-calculator input, #the-calculator #total { font-size: 1em; display: inline-block; position: relative; padding: 12px; font-family: 'Helvetica Neue LT Pro', 'Helvetica', sans-serif; } #the-calculator button .exponent, #the-calculator input .exponent, #the-calculator #total .exponent { font-size: 0.6em; position: absolute; } #the-calculator button .denominator, #the-calculator input .denominator, #the-calculator #total .denominator { position: relative; } #the-calculator button .denominator .denom-top, #the-calculator input .denominator .denom-top, #the-calculator #total .denominator .denom-top { font-size: 0.75em; position: absolute; left: -8px; } #the-calculator button .denominator .denom-slash, #the-calculator input .denominator .denom-slash, #the-calculator #total .denominator .denom-slash { padding: 0px 2px; } #the-calculator button .denominator .denom-btm, #the-calculator input .denominator .denom-btm, #the-calculator #total .denominator .denom-btm { font-size: 0.75em; position: absolute; bottom: 0px; } #the-calculator #the-display { width: 100%; } #the-calculator #the-display #total { width: 98%; margin: 0 auto 8px; display: block; -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px; -moz-background-clip: padding-box; -webkit-background-clip: padding-box; background-clip: padding-box; font-size: 1.2em; color: #2f2f2f; text-shadow: 1px 1px 0px #fff; background: #fff; text-align: right; } #the-calculator #the-buttons { width: 100%; } #the-calculator #the-buttons #extra-buttons { margin-top: 12px; padding-top: 12px; border-top: 1px solid #00544b; } #the-calculator #the-buttons .button-row { width: 100%; zoom: 1; } #the-calculator #the-buttons .button-row:before, #the-calculator #the-buttons .button-row:after { content: \"\"; display: table; } #the-calculator #the-buttons .button-row:after { clear: both; } #the-calculator #the-buttons .button-row:before, #the-calculator #the-buttons .button-row:after { content: \"\"; display: table; } #the-calculator #the-buttons .button-row:after { clear: both; } #the-calculator #the-buttons .button-row button { width: 23%; margin: 1%; float: left; border: none; background: #006e62; background: -webkit-gradient(linear, left bottom, left top, color-stop(0, #00544b), color-stop(1, #006e62)); background: -ms-linear-gradient(bottom, #00544b, #006e62); background: -moz-linear-gradient(center bottom, #00544b 0%, #006e62 100%); background: -o-linear-gradient(#006e62, #00544b); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#006e62', endColorstr='#00544b', GradientType=0); border-style: solid; border-color: #333; border-width: 0px 1px 1px 0px; color: #f0f0f0; cursor: pointer; text-shadow: -1px -1px rgba(0, 0, 0, 0.3); -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px; -moz-background-clip: padding-box; -webkit-background-clip: padding-box; background-clip: padding-box; } #the-calculator #the-buttons .button-row button:hover, #the-calculator #the-buttons .button-row button.hovering { border-width: 1px 0px 0px 1px; -moz-opacity: 0.7; -khtml-opacity: 0.7; -webkit-opacity: 0.7; opacity: 0.7; -ms-filter: progid:DXImageTransform.Microsoft.Alpha(opacity=70); filter: alpha(opacity=70); } #the-calculator #the-buttons #calc_zero { width: 48%; } #the-calculator #the-buttons #calc_clear { background: #103f3a; background: -webkit-gradient(linear, left bottom, left top, color-stop(0, #0d332f), color-stop(1, #103f3a)); background: -ms-linear-gradient(bottom, #0d332f, #103f3a); background: -moz-linear-gradient(center bottom, #0d332f 0%, #103f3a 100%); background: -o-linear-gradient(#103f3a, #0d332f); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#103f3a', endColorstr='#0d332f', GradientType=0); } #the-calculator #the-buttons #calc_back { background: #103f3a; background: -webkit-gradient(linear, left bottom, left top, color-stop(0, #0d332f), color-stop(1, #103f3a)); background: -ms-linear-gradient(bottom, #0d332f, #103f3a); background: -moz-linear-gradient(center bottom, #0d332f 0%, #103f3a 100%); background: -o-linear-gradient(#103f3a, #0d332f); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#103f3a', endColorstr='#0d332f', GradientType=0); } #the-calculator #the-buttons #calc_eval { background: #dfdfdf; background: -webkit-gradient(linear, left bottom, left top, color-stop(0, #cdcdcd), color-stop(1, #dfdfdf)); background: -ms-linear-gradient(bottom, #cdcdcd, #dfdfdf); background: -moz-linear-gradient(center bottom, #cdcdcd 0%, #dfdfdf 100%); background: -o-linear-gradient(#dfdfdf, #cdcdcd); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#dfdfdf', endColorstr='#cdcdcd', GradientType=0); color: #00544b; text-shadow: 1px 1px 0px #fff; } #the-results { width: 40%; float: right; /*min-width: 400px;*/ margin: 0; /*padding: 20px;*/ border: 2px solid #e0e0e0; background: #00544b; background: -webkit-gradient(linear, left bottom, left top, color-stop(0, #003b34), color-stop(1, #00544b)); background: -ms-linear-gradient(bottom, #003b34, #00544b); background: -moz-linear-gradient(center bottom, #003b34 0%, #00544b 100%); background: -o-linear-gradient(#00544b, #003b34); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00544b', endColorstr='#003b34', GradientType=0); -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px; -moz-background-clip: padding-box; -webkit-background-clip: padding-box; background-clip: padding-box; -ms-box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; position: relative; } #the-results #result_clear { position: absolute; right: 0; top: 105%; } #the-results ul { height: 340px; overflow-y: scroll; list-style: none; padding: 0; margin: 0 ; background: rgba(0, 0, 0, 0.1); -webkit-box-shadow: inset 0px 0px 64px rgba(0, 0, 0, 0.2); -moz-box-shadow: inset 0px 0px 64px rgba(0, 0, 0, 0.2); box-shadow: inset 0px 0px 64px rgba(0, 0, 0, 0.2); border: 1px solid rgba(0, 0, 0, 0.2); } #the-results ul li { font-size: 0.8em; width: 100%; -ms-box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; height: 40px; line-height: 40px; } #the-results ul li#result_default { /*padding-left: 24px;*/ text-align: center; color: #a9a9a9; font-style: italic; font-weight: 200; } #the-results ul li.result { display: none; font-size: 0.8em; color: #f9f9f9; background: rgba(255, 255, 255, 0.05); zoom: 1; position: relative; border-bottom: 1px solid rgba(0, 0, 0, 0.2); } #the-results ul li.result:before, #the-results ul li.result:after { content: \"\"; display: table; } #the-results ul li.result:after { clear: both; } #the-results ul li.result:before, #the-results ul li.result:after { content: \"\"; display: table; } #the-results ul li.result:after { clear: both; } #the-results ul li.result:nth-child(even) { background: rgba(255, 255, 255, 0.15); } #the-results ul li.result:nth-child(even) .answer { background: #103f3a; background: -webkit-gradient(linear, left bottom, left top, color-stop(0, #0d332f), color-stop(1, #103f3a)); background: -ms-linear-gradient(bottom, #0d332f, #103f3a); background: -moz-linear-gradient(center bottom, #0d332f 0%, #103f3a 100%); background: -o-linear-gradient(#103f3a, #0d332f); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#103f3a', endColorstr='#0d332f', GradientType=0); } #the-results ul li.result .equation, #the-results ul li.result .answer { display: inline-block; padding: 0px 12px; -ms-box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; height: 60px; line-height: 40px; } #the-results ul li.result .equation { float: left; height: 100%; font-style: italic; } #the-results ul li.result .answer { position: absolute; right: 52px; top: 0; height: 100%; background: #0e3733; background: -webkit-gradient(linear, left bottom, left top, color-stop(0, #0b2b27), color-stop(1, #0e3733)); background: -ms-linear-gradient(bottom, #0b2b27, #0e3733); background: -moz-linear-gradient(center bottom, #0b2b27 0%, #0e3733 100%); background: -o-linear-gradient(#0e3733, #0b2b27); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#0e3733', endColorstr='#0b2b27', GradientType=0); } #the-results ul li.result .use { height: 100%; } #the-results ul li.result .use a { background: #008779; background: -webkit-gradient(linear, left bottom, left top, color-stop(0, #006359), color-stop(1, #008779)); background: -ms-linear-gradient(bottom, #006359, #008779); background: -moz-linear-gradient(center bottom, #006359 0%, #008779 100%); background: -o-linear-gradient(#008779, #006359); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#008779', endColorstr='#006359', GradientType=0); position: absolute; right: 0; top: 0; height: 100%; display: block; padding: 0px 8px; width: 52px; text-align: center; text-decoration: none; margin: 0; font-size: 0.9em; cursor: pointer; border: none; color: #f9f9f9; text-shadow: -1px -1px rgba(0, 0, 0, 0.2); } #the-results ul li.result .use a:hover, #the-results ul li.result .use aactive { -moz-opacity: 0.7; -khtml-opacity: 0.7; -webkit-opacity: 0.7; opacity: 0.7; -ms-filter: progid:DXImageTransform.Microsoft.Alpha(opacity=70); filter: alpha(opacity=70); }"},{"title":"","date":"2017-06-01T13:05:42.182Z","updated":"2017-06-01T13:05:42.182Z","comments":true,"path":"utils/js/index.js","permalink":"http://www.qssq666.cn/utils/js/index.js","excerpt":"","text":"/* ** global vars */ var a = 0, b = 0, is_a = true, is_b = false, o = 'nil', answer = 0, first_a = true, first_b = true, is_submission = false, soft_sub = false, display = jQuery('#total'); /* ** tool functions */ // console.log function write(x) { // console.log(x); } // add int to current display value function changeDisplayVal(i) { display.text(display.text() + i); } // make * into × function visOps(x) { if ( x === '*' ) { // return 'u00D7'; return '×'; } else if ( x === '/' ) { // return 'u00F7'; return '÷'; } else { return x; } } // set display value function setDisplayVal(x) { display.text( visOps(x)); } // make touch animation function animateButton(obj) { var button = obj.addClass('hovering'); setTimeout(function() { button.removeClass('hovering'); }, 100); } /* ** operation functions */ // setting a function set_a(i) { if ( is_a ) { // nothing if a duplicate decimal if ( i === '.' && a.toString().indexOf('.') !== -1 ) { write('Duplicate Decimal'); i = ''; } else if ( i === '.' && first_a ) { i = '0.'; } // first_a time, we need to clear the display if ( first_a === true ) { if ( i === '0' ) { i = ''; } else { // set display value setDisplayVal(i); // no longer first_a first_a = false; } } else { // add int to current display value changeDisplayVal(i); } a = display.text(); write('Set \"a\" to ' + a); } } // setting b function set_b(i) { if ( !is_a ) { // nothing if a duplicate decimal if ( i === '.' && b.toString().indexOf('.') !== -1 ) { write('Duplicate Decimal!'); i = ''; } else if ( i === '.' && first_b ) { i = '0.'; } // first_b time, we need to clear the display if ( first_b === true ) { if ( i === '0' ) { i = ''; } else { // set display value setDisplayVal(i); // no longer first_b first_b = false; } } else { // add int to current display value changeDisplayVal(i); } // set b to current display Value b = display.text(); write('Set \"b\" to ' + b); } } // looping calculator function loop_calc(answer) { write('Loop Calculator'); a = answer; b = 0; answer = 0; // set display value setDisplayVal(a); } // setting operator function set_o(op) { // if answer, loop the calculator to prepare for b if ( is_submission ) { loop_calc(display.text()); is_submission = false; } // if new op is submitting calc if ( !first_b ) { softsubmit_calc(); } // replace or set operator in display setDisplayVal(op); // replace or set global operator o = op; if ( is_a ) { is_a = false; } if ( !is_b ) { is_b = true; } write('Set \"o\" to ' + o); } // soft submit calc function softsubmit_calc() { // evaluate equation var preCalc = eval(a + '' + o + '' + b); // parse float to 12 answer = parseFloat(preCalc.toPrecision(12)); // submit answer to display display.text(answer); // reset first_b to true first_b = true; // post result newResult(a,o,b,answer); write(a + ' ' + o + ' ' + b + ' = ' + answer); a = answer; b = 0; o = o; // set display value setDisplayVal(o); is_a = false; is_b = true; first_b = true; soft_sub = true; write('Soft Submission'); } // submit calculator function submit_calc() { write('Submission'); if ( first_b === false ) { var preCalc = 0; if ( o === \"^\" ) { // evaluate equation preCalc = Math.pow(a,b); } else { // evaluate equation preCalc = eval(a + '' + o + '' + b); } // parse float to 12 answer = parseFloat(preCalc.toPrecision(12)); // submit answer to display display.text(answer); // display is now the answer is_submission = true; // reset first_b to true first_b = true; // post result newResult(a,o,b,answer); write(a + ' ' + o + ' ' + b + ' = ' + answer); } else { write(\"You can't do that yet\"); } } // negging value function neg() { display.text(display.text() * -1); if ( is_submission ) { a = a * -1; } else { if ( is_a ) { a = a * -1; setDisplayVal(a); } else { b = b * -1; setDisplayVal(b); } } } // resetting calculator function reset_calc() { a = 0; b = 0; o = 'nil'; answer = 0; is_a = true; is_b = false; first_a = true; first_b = true; is_submission = false; soft_sub = false; display.text(0); // reset display value setDisplayVal(0); write('Calculator Reset'); } // backspacing value function backspace() { if ( display.text() !== '' && display.text() !== '0' ) { display.text( display.text().substring(0, display.text().length - 1) ); if ( is_a === true ) { a = parseFloat(a.toString().substring(0, a.toString().length - 1 )); } else { b = parseFloat(b.toString().substring(0, b.toString().length - 1 )); } } else { write('Nothing Left to Backspace'); } } // set value to memory value function memory(i) { if ( is_submission ) { loop_calc(i); } else if ( is_a ) { loop_calc(i); } else { set_b(i); } answer = a; } /* ** logging to memory console */ function newResult(a,o,b,answer) { var results = jQuery('#results_list'); var result = '' + '' + a + ' ' + visOps(o) + ' ' + b + ' ' + '' + answer + ' Use'; results.prepend(result).children('li').fadeIn(200); if ( jQuery('#result_default') ) { jQuery('#result_default').remove(); } // click use jQuery('.calc_use').off('click').on('click', function() { var i = jQuery(this).parent('.use').siblings('.answer').text(); jQuery(this).parents('.result').animate({'opacity': '0.5'},200).animate({'opacity': '1'},200); jQuery('#total').animate({'opacity': '0.5'},200).animate({'opacity': '1'},200); memory(i); return false; }); } /* ** complex functions */ function sqrt(i) { write('Square Root'); var s = Math.sqrt(i); answer = s; write('u221A' + i + ' = ' + s); loop_calc(s); newResult('','√',i,s); // submit answer to display display.text(answer); // display is now the answer is_submission = true; // reset first_b to true first_b = true; } function square(i) { write('Square'); var s = i * i; answer = s; write(i + ' u005E 2 = ' + s ); loop_calc(s); newResult(i,' &#94; 2','',s); // submit answer to display display.text(answer); // display is now the answer is_submission = true; // reset first_b to true first_b = true; } function denom(i) { write('Denominator'); var s = 1 / i; answer = s; write('1 / ' + i + ' = ' + s ); loop_calc(s); newResult(1,' / ',i,s); // submit answer to display display.text(answer); // display is now the answer is_submission = true; // reset first_b to true first_b = true; } /* ** Usage - Click Events */ // click integers jQuery('.calc_int, #calc_decimal').each(function() { jQuery(this).click(function() { var value = jQuery(this).val(); if ( is_submission === false ) { if ( is_a === true ) { set_a(value); } else { set_b(value); } } else { reset_calc(); set_a(value); } }); }); // click operators jQuery('.calc_op').each(function() { jQuery(this).click(function() { var value = jQuery(this).val(); set_o(value); }); }); // click equals jQuery('#calc_eval').click(function() { submit_calc(); }); // click clear jQuery('#calc_clear').click(function() { reset_calc(); }); // click neg jQuery('#calc_neg').click(function() { neg(); }); // click backspace jQuery('#calc_back').click(function() { backspace(); }); // click square root jQuery('#calc_sqrt').click(function() { if ( display.text() !== '0' ) { if ( is_submission ) { sqrt(answer); } else if ( is_a ) { sqrt(a); } } return false; }); // click square jQuery('#calc_square').click(function() { if ( display.text() !== '0' ) { if ( is_submission ) { square(answer); } else if ( is_a ) { square(a); } } return false; }); // click denominator jQuery('#calc_denom').click(function() { if ( display.text() !== '0' ) { if ( is_submission ) { denom(answer); } else if ( is_a ) { denom(a); } } return false; }); // reset console jQuery('#result_clear').click(function() { jQuery('#results_list').children('li').fadeOut(200, function() { jQuery(this).remove(); }); jQuery('#results_list').prepend('Memory is Empty'); return false; }); /* ** Key Events */ // key press for integers and operators jQuery(document).keypress(function (e) { // the character code var charCode = e.which; // the key var key = String.fromCharCode(charCode); // key integers & decimal if ( charCode >= 46 && charCode = 42 && charCode"}],"posts":[{"title":"Hello World","slug":"hello-world","date":"2017-06-01T13:05:41.807Z","updated":"2017-06-01T13:16:58.223Z","comments":true,"path":"2017/06/01/hello-world/","link":"","permalink":"http://www.qssq666.cn/2017/06/01/hello-world/","excerpt":"","keywords":[],"text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]},{"title":"欢迎下载情迁火线完整版安装包网络上没有哦","slug":"欢迎下载情迁火线完整版安装包网络上没有哦","date":"2016-11-30T11:51:15.000Z","updated":"2017-06-01T13:05:41.842Z","comments":true,"path":"2016/11/30/欢迎下载情迁火线完整版安装包网络上没有哦/","link":"","permalink":"http://www.qssq666.cn/2016/11/30/欢迎下载情迁火线完整版安装包网络上没有哦/","excerpt":"","keywords":[],"text":"你们要的情迁火线最新版网络上一直没更新,我也努力过,这都已是过去了。。。。 情迁CF单机版[情迁火线]BWN_CF_setup20141121.rarhttp://pan.baidu.com/s/1hqmyYO0 http://pan.baidu.com/s/1hqmyYO0","categories":[],"tags":[]},{"title":"欢迎下载 我开发的安卓APP情迁系统工具箱","slug":"欢迎下载-我开发的安卓APP情迁系统工具箱","date":"2016-11-06T05:10:29.000Z","updated":"2017-06-01T13:05:41.840Z","comments":true,"path":"2016/11/06/欢迎下载-我开发的安卓APP情迁系统工具箱/","link":"","permalink":"http://www.qssq666.cn/2016/11/06/欢迎下载-我开发的安卓APP情迁系统工具箱/","excerpt":"","keywords":[],"text":"下载地址 见群http://fir.im/qssqtool","categories":[],"tags":[]},{"title":"科幻视频推荐","slug":"like_video","date":"2016-11-03T16:00:00.000Z","updated":"2017-06-01T13:05:41.822Z","comments":true,"path":"2016/11/04/like_video/","link":"","permalink":"http://www.qssq666.cn/2016/11/04/like_video/","excerpt":"我爱科学","keywords":[{"name":"科幻","slug":"科幻","permalink":"http://www.qssq666.cn/categories/科幻/"}],"text":"我爱科学 不错的表白视频 可惜我做不到 时间旅行 万物理论 超乎想像的宇宙 多重宇宙 科幻大片解读：超立方体到底是什么？","categories":[{"name":"科幻","slug":"科幻","permalink":"http://www.qssq666.cn/categories/科幻/"}],"tags":[{"name":"科幻","slug":"科幻","permalink":"http://www.qssq666.cn/tags/科幻/"}]},{"title":"赵奕欢","slug":"pic_qiniu_test","date":"2016-11-03T16:00:00.000Z","updated":"2017-06-01T13:05:41.831Z","comments":true,"path":"2016/11/04/pic_qiniu_test/","link":"","permalink":"http://www.qssq666.cn/2016/11/04/pic_qiniu_test/","excerpt":"测试图片","keywords":[{"name":"美女","slug":"美女","permalink":"http://www.qssq666.cn/categories/美女/"}],"text":"测试图片 赵奕欢","categories":[{"name":"美女","slug":"美女","permalink":"http://www.qssq666.cn/categories/美女/"}],"tags":[{"name":"图片","slug":"图片","permalink":"http://www.qssq666.cn/tags/图片/"}]},{"title":"手机QQ技巧攻略","slug":"qqjq","date":"2016-11-01T16:00:00.000Z","updated":"2017-06-01T13:05:41.835Z","comments":true,"path":"2016/11/02/qqjq/","link":"","permalink":"http://www.qssq666.cn/2016/11/02/qqjq/","excerpt":"这篇文章 将带你以正确姿势装逼","keywords":[{"name":"QQ技巧","slug":"QQ技巧","permalink":"http://www.qssq666.cn/categories/QQ技巧/"}],"text":"这篇文章 将带你以正确姿势装逼 蓝字说说 格式如下 {uin:694886526,nick:情随事迁,who:1} 说说自定义机型防@群名片说说打赏发起临时会话QQ反字撤销名片刷屏字数突破刷屏测试假红包","categories":[{"name":"QQ技巧","slug":"QQ技巧","permalink":"http://www.qssq666.cn/categories/QQ技巧/"}],"tags":[{"name":"QQ技巧","slug":"QQ技巧","permalink":"http://www.qssq666.cn/tags/QQ技巧/"}]},{"title":"A S IDE运行JAVA项目","slug":"run_java","date":"2016-10-31T16:00:00.000Z","updated":"2016-08-27T06:04:45.000Z","comments":true,"path":"2016/11/01/run_java/","link":"","permalink":"http://www.qssq666.cn/2016/11/01/run_java/","excerpt":"","keywords":[{"name":"Blog","slug":"Blog","permalink":"http://www.qssq666.cn/categories/Blog/"}],"text":"https://git.oschina.net/51bwn/JavaProject.git 里面包含我写的高仿tree的遍历 java demo","categories":[{"name":"Blog","slug":"Blog","permalink":"http://www.qssq666.cn/categories/Blog/"}],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://www.qssq666.cn/tags/JAVA/"},{"name":"android studio","slug":"android-studio","permalink":"http://www.qssq666.cn/tags/android-studio/"}]},{"title":"多级目录测试","slug":"categorizestest","date":"2016-09-04T16:00:00.000Z","updated":"2017-06-01T13:05:41.805Z","comments":true,"path":"2016/09/05/categorizestest/","link":"","permalink":"http://www.qssq666.cn/2016/09/05/categorizestest/","excerpt":"这里包含了四级目录 自己点击查看吧","keywords":[{"name":"地球","slug":"地球","permalink":"http://www.qssq666.cn/categories/地球/"},{"name":"中国","slug":"地球/中国","permalink":"http://www.qssq666.cn/categories/地球/中国/"},{"name":"湖南","slug":"地球/中国/湖南","permalink":"http://www.qssq666.cn/categories/地球/中国/湖南/"},{"name":"娄底","slug":"地球/中国/湖南/娄底","permalink":"http://www.qssq666.cn/categories/地球/中国/湖南/娄底/"}],"text":"这里包含了四级目录 自己点击查看吧 并没有什么信息","categories":[{"name":"地球","slug":"地球","permalink":"http://www.qssq666.cn/categories/地球/"},{"name":"中国","slug":"地球/中国","permalink":"http://www.qssq666.cn/categories/地球/中国/"},{"name":"湖南","slug":"地球/中国/湖南","permalink":"http://www.qssq666.cn/categories/地球/中国/湖南/"},{"name":"娄底","slug":"地球/中国/湖南/娄底","permalink":"http://www.qssq666.cn/categories/地球/中国/湖南/娄底/"}],"tags":[]},{"title":"点击标题链接跳转到指定网址","slug":"link","date":"2016-09-04T16:00:00.000Z","updated":"2017-06-01T13:05:41.823Z","comments":true,"path":"2016/09/05/link/","link":"https://www.baidu.com/s?wd=%20qssq666.cn&rsv_spt=1&rsv_iqid=0xeca2184c000283bc&issp=1&f=8&rsv_bp=1&rsv_idx=2&ie=utf-8&rqlang=cn&tn=baiduhome_pg&rsv_enter=0&oq=qssq666&rsv_t=3ba7iXCyQvcTBMaG%2BEYEHCwWcA4hnINAONRkOvdtNdIqv%2FjY%2BdtEfqT2JuaWP0VKucEx&inputT=676&rsv_pq=d213b278000293c7&rsv_sug3=55&rsv_sug2=0&rsv_sug4=1546&rsv_sug=1","permalink":"http://www.qssq666.cn/2016/09/05/link/","excerpt":"这个文章点击将跳转到其他网站请慎重点击","keywords":[{"name":"测试","slug":"测试","permalink":"http://www.qssq666.cn/categories/测试/"}],"text":"这个文章点击将跳转到其他网站请慎重点击 理论上应该打开百度搜索 Baidu 搜索内容为 情随事迁","categories":[{"name":"测试","slug":"测试","permalink":"http://www.qssq666.cn/categories/测试/"}],"tags":[{"name":"链接","slug":"链接","permalink":"http://www.qssq666.cn/tags/链接/"}]},{"title":"照片欣赏","slug":"photoview","date":"2016-09-04T16:00:00.000Z","updated":"2017-06-01T13:05:41.829Z","comments":true,"path":"2016/09/05/photoview/","link":"","permalink":"http://www.qssq666.cn/2016/09/05/photoview/","excerpt":"这里包含了几种风景图片","keywords":[{"name":"Photo","slug":"Photo","permalink":"http://www.qssq666.cn/categories/Photo/"}],"text":"这里包含了几种风景图片 非诚勿扰非诚勿扰您看到了更多的非常勿扰","categories":[{"name":"Photo","slug":"Photo","permalink":"http://www.qssq666.cn/categories/Photo/"}],"tags":[{"name":"consectetur","slug":"consectetur","permalink":"http://www.qssq666.cn/tags/consectetur/"}]},{"title":"","slug":"notitle","date":"2016-09-04T16:00:00.000Z","updated":"2017-06-01T13:05:41.827Z","comments":true,"path":"2016/09/05/notitle/","link":"","permalink":"http://www.qssq666.cn/2016/09/05/notitle/","excerpt":"这篇文章没有标题,你能看到 已经是奇迹了 这个没有标题的","keywords":[{"name":"测试","slug":"测试","permalink":"http://www.qssq666.cn/categories/测试/"}],"text":"这篇文章没有标题,你能看到 已经是奇迹了 这个没有标题的这篇文章没有标题,你能看到 已经是奇迹了 这个没有标题的","categories":[{"name":"测试","slug":"测试","permalink":"http://www.qssq666.cn/categories/测试/"}],"tags":[{"name":"测试","slug":"测试","permalink":"http://www.qssq666.cn/tags/测试/"}]},{"title":"测试视频预览","slug":"video","date":"2016-09-04T16:00:00.000Z","updated":"2017-06-01T13:05:41.838Z","comments":true,"path":"2016/09/05/video/","link":"","permalink":"http://www.qssq666.cn/2016/09/05/video/","excerpt":"这篇文章 将 测试 youtube以及 vimeo视频测试","keywords":[{"name":"测试","slug":"测试","permalink":"http://www.qssq666.cn/categories/测试/"}],"text":"这篇文章 将 测试 youtube以及 vimeo视频测试 This is a video test post.category 测试 Youtube Vimeo","categories":[{"name":"测试","slug":"测试","permalink":"http://www.qssq666.cn/categories/测试/"}],"tags":[{"name":"视频","slug":"视频","permalink":"http://www.qssq666.cn/tags/视频/"}]},{"title":"教你为网站空间减压节省空间提升浏览速度即转移资源文件到七牛云","slug":"qiniu_cdn","date":"2016-08-29T16:00:00.000Z","updated":"2016-08-30T14:46:45.000Z","comments":true,"path":"2016/08/30/qiniu_cdn/","link":"","permalink":"http://www.qssq666.cn/2016/08/30/qiniu_cdn/","excerpt":"手把手带你装逼带你飞深夜教程 之 教你为网站空间减压节省空间提升浏览速度即转移资源文件到七牛云","keywords":[{"name":"网站建设","slug":"网站建设","permalink":"http://www.qssq666.cn/categories/网站建设/"}],"text":"手把手带你装逼带你飞深夜教程 之 教你为网站空间减压节省空间提升浏览速度即转移资源文件到七牛云 概述这是做什么鬼? 通俗的讲 就是 把资源文件/图片等大文件非网页文件,单独弄一个地方存储,那么免费云 给你存文件你用不用? 哈,当然用了,也就是需要图片和文件的时候引用的是另外一个网站空间,不过我这里是云存储了,高大上一点了. 教程环境 win764位操作系统 Content Delivery NetworkCDN的全称是Content Delivery Network，即内容分发网络。其基本思路是尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节，使内容传输的更快、更稳定。通过在网络各处放置节点服务器所构成的在现有的互联网基础之上的一层智能虚拟网络，CDN系统能够实时地根据网络流量和各节点的连接、负载状况以及到用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上。其目的是使用户可就近取得所需内容，解决 Internet网络拥挤的状况，提高用户访问网站的响应速度。 开始使用注册七牛云与创建空间 首先注册七牛账号注册很简单,但是你得有身份证,手机才行啊,需要验证,手机验证码知道在哪**里填写吧?我当时手快没看到，登录成功 选择“添加资源”， (里面 有4个大块 第一个就是对象存储点击立即添加) 空间名称填写,，这个空间名称等下 改json的时候需要用到哈,我这里取名为test 地区 访问控制默认, 点击确定创建就完成了 ，创建 完成 后选择 对象存储 立即添加 其他 几个 有兴趣的可以试试第二个 要充值10块钱 实名认证 。我支付宝 直接认证通过了. 配置qshell批量上传 下载qshell点击进入 下载完毕 点击下载后就是一个压缩包解压后有这些文件 qshell_darwin_amd64(Mac操作系统)qshell_linux_386qshell_linux_amd64qshell_linux_armqshell_windows_386.exe(Win64/32应该都可以)qshell_windows_amd64.exe(Win64推荐) 下载后各种平台的都有 ,作为window64用户，用的是qshell_windows_amd64.exe,完美运行, 把其它 很长的名字改名为qshell 那么长看着不舒服 (你们自己根据自己的操作系统对号入座哈,我下面json填写的是相对目录绝对目录貌似win盘符是 ://qiniu,qshell) 创建 一个目录方便测试 比如 我再f盘 新建一个 qiniu文件夹 把qshell.exe放(你的平台支持啥你改名哪个为qshell后面的你懂得,win是EXE)到qiniu文件夹， 如果你要配置环境变量你可以随便放哪个目录然后环境引导也行,不过我觉得没必要了 额外啰嗦在 qiniu文件夹里面再创建一个 cdnfiles ,这名字随便取得哈,然后里面放置一些要做中转的文件图片 &gt;(反正意思就是就是图片和文件放别人空间然后弄个链接过来作为下载或者图片预览)文件一览:F:/qiniu/qshell.exeF:/qiniu/cdn_files (文件夹)F:/qiniu/qiniu_upload.json(json配置文件)F:/qiniu/cdn_files(图片等资源文件存放路径)(本文章是以相对目录为例写教程) 方法1:下载json脚本到 文件夹,点击下载或者第二条 点击下载直接被浏览是浏览器问题自个添加下载地址到迅雷或者就复制浏览的得了, 方法2：新建一个记事本 会修改后缀名吧？还是点击下载吧,其实不修改新建为txt应该也没关系，只是不规范,然后粘贴 保存到qiniu_upload.json道qiniu文件夹 名字随便取得哈 { &quot;src_dir&quot; : &quot;cdn_files&quot;, &quot;access_key&quot; : &quot;******-CKD&quot;, &quot;secret_key&quot; : &quot;******__ykj&quot;, &quot;bucket&quot; : &quot;test&quot;, &quot;file_list&quot; : &quot;&quot;, &quot;zone&quot; : &quot;&quot;, &quot;ignore_dir&quot; : false, &quot;key_prefix&quot; : &quot;q694886526_&quot;, &quot;up_host&quot; : &quot;&quot;, &quot;overwrite&quot; : false, &quot;check_exists&quot; : false, &quot;check_hash&quot; : false, &quot;check_size&quot; : false, &quot;skip_file_prefixes&quot; : &quot;.git,bin&quot;, &quot;skip_path_prefixes&quot; : &quot;hello/,temp/,.git/&quot;, &quot;skip_fixed_strings&quot; : &quot;.svn&quot;, &quot;skip_suffixes&quot; : &quot;.DS_Store,.exe&quot;, &quot;rescan_local&quot; : true, &quot;log_file&quot; : &quot;upload.log&quot;, &quot;log_level&quot; : &quot;info&quot; } 编辑json 复制秘钥 点我查看秘钥json 右边 双引号里面的就是值 需要修改的也就 src_dir 改为 刚刚弄的cdn_files把access_key和secret_key和 json里面的对号入座 bucket 填写 你空间名称 我上面填写的是test,key_prefix就是自动上传的前缀 WIN+R快捷键输入cmd 上面的秘钥又要用到了 第三行命令把accesskey和secretkey改成上面填写过的，不要告诉我又不会了.敲入成功后是没啥反应的 作者 可不是这样一步一步切换的我直接打开这个文件夹是直接右键从此处以管理员运行,这个批处理就不上传了网上也有 cd F:/ cd F:/qiniu qshell account AccessKey SecretKey qshell qupload qiniu_upload.json 前面敲入错误自己找原因最后一行也敲入成功如果正常提示是这样的,Succes列 不作为成功依据, 如果 Fail 对应的右边数字,有值请打开刚刚配置的F:/qiniu 会看到有一个log文件 查看 到底是哪里错误了,错误是英文提示哦,自己百度翻译去,不懂的朋友请大胆留言。 鼠标操作上传 这种方式上传就是不能自动加前缀,不能批量处理大量文件,一个一个上传确实有点累 但是我这篇文文章的教程全是手动上传的 - -! 进入我的资源 然后 点击上传文件 如下图所示: 拷贝链接如下图所示: 然后呢? 拷贝链接就是如我这篇文章的图片一样了引用呀欢迎点击广告呀!","categories":[{"name":"网站建设","slug":"网站建设","permalink":"http://www.qssq666.cn/categories/网站建设/"}],"tags":[{"name":"WEB","slug":"WEB","permalink":"http://www.qssq666.cn/tags/WEB/"},{"name":"CDN","slug":"CDN","permalink":"http://www.qssq666.cn/tags/CDN/"},{"name":"七牛","slug":"七牛","permalink":"http://www.qssq666.cn/tags/七牛/"}]},{"title":"本人学习git心得","slug":"3_lean_git","date":"2016-08-25T16:00:00.000Z","updated":"2016-08-27T06:23:39.000Z","comments":true,"path":"2016/08/26/3_lean_git/","link":"","permalink":"http://www.qssq666.cn/2016/08/26/3_lean_git/","excerpt":"文为自己填继续学习git心得, 可能有我不对的地方望大神指出! 之前呢,一直用gui工具进行操作,不知其然更不知其所以然 只知道拉取 推送 下载,结果不能深入的了解,也不知道分支是可以干嘛的，现在明白了，有了分支功能，你可以在程序的1.0版本完成了,创建一个2.0分支 异步一步迭代，如果 要还原 切换到1.0 也是得心应手。","keywords":[{"name":"版本控制","slug":"版本控制","permalink":"http://www.qssq666.cn/categories/版本控制/"}],"text":"文为自己填继续学习git心得, 可能有我不对的地方望大神指出! 之前呢,一直用gui工具进行操作,不知其然更不知其所以然 只知道拉取 推送 下载,结果不能深入的了解,也不知道分支是可以干嘛的，现在明白了，有了分支功能，你可以在程序的1.0版本完成了,创建一个2.0分支 异步一步迭代，如果 要还原 切换到1.0 也是得心应手。 从0开始从无到有 push推送 从本地推送到服务器叫推 ，是给别人 也就是不是本地 ，pull 翻译 叫拉 是拉向自己 从远程。 那么 安卓手机adb也有这个命令 谁是主呢?是电脑还是 手机，当然是手机了，电脑可以是其他任何设备，被操作的设备 也就是里面带有命令行的设备就是自己 把手机的东西弄到电脑叫 adb push /sdcard/a.txt d:/ 记住了没有？ 从服务器创建了一个仓库,那么默认地址应该叫类似 https://git.coding.net/qssq/test.git 初始化目录进行学习教程开始 我想在e盘根目录下的gitdemo文件夹测试 git用法 首先打开gitdemo文件夹 如果正常安装了git的话 右键就可以用了 没有右键也是可以自己配置右键菜单的 百度一下情迁教你右键菜单编程在任意文件夹学习这些 It技术调试git,java,.net 等各种。哈哈其实扯远了。就是右键管理员从此处运行 这样cd命令自动切换到了当前目录 有了它可以快速敲git 命令 java命令,c# 命令 情迁命令 情迁QQ机器人的命令其实也是可以的，可惜webqq难倒腾了,一切都over了。 服务器创建了一个test的git仓库,打开gitdemo文件夹 右键git bash 命令: 1git clone https://git.coding.net/qssq/test.git test 如果配置了cmd的话cmd也可以的,没有配置的win+r切换gitdemo目录即可。 这样就会在gitdemo下面创建一个test文件夹,然后打开文件夹. 或者 git bath切换到此目录最后的啰嗦 敲入命令 在test文件夹输入:啰嗦一下,没有说错的话，远程默认有一个分支叫master,本地也是 所以不要问我为什么 是无法删除的 提示权限错误 deleting the current branch is denied 例子: 默认远程主机名叫origin，所以是origin,没有为什么.. 首先开始玩创建本地分支 然后创建一个远程分支 然后 演示删除一个创建的远程分支 ，大致就能完全了解清楚了。 语法:$ git push &lt;远程主机名&gt; &lt;本地分支名&gt;:&lt;远程分支名&gt; 也就是按英文意思叫 推送到服务器 把本地 推送远程 。 所以本地分支在前面 和pll相反。 推送演示 最常见的写法 推送当前本地分支master到远程分支master,如果远程分支maseter不存在则创建创建名肯定是参考本地分支名了[此处省略参数 为远程分致命] git push origin master 应该和 git push https://******git master类似 一个错误的推送命令 git push origin;#这语法是错误的，我还以为一直可以省略，甚至把origin理解 为是一个分支 提示: 可以从这里得到相关信息，这是项目目录的隐藏.git文件夹的config文件，origin对应的远程路径是http** [core] repositoryformatversion = 0 filemode = false bare = false logallrefupdates = true symlinks = false ignorecase = false [remote &quot;origin&quot;] url = https://****.net/qssq/qssq.git fetch = +refs/heads/*:refs/remotes/origin/* pushurl = https://*****/qssq/qssq.git [branch &quot;coding-pages&quot;] remote = origin merge = refs/heads/coding-pages 1234567 * **推送本地分支test1到远程分支test2** 参数完全 把本地分支test1推送到远程分支test2不存在则创建 git push origin test1:test2 12345* 删除远程分支test2 此处省略了本地分支名参数 所以叫删除 和git push origin --delete test2类似 注意看清楚哦,有一个冒号 注意默认只有一个仓库是无法删除的，会提示权限问题。 ```bash git push origin :test2;#[git push origin --delete test2 等同] 拉取演示 语法:1git pull &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt; 从远程服务器别名叫origin 的 拉取远程分支master到本地的默认分支,命令如下: 1git pull origin master 从远程服务器 别名(可以参考全局git配置文件) 拉取test1分支到本地的test1分支 1git pull origin test1:test1 不想写了， 发现有些玩意不是我想的那样，本地删除了如果本地提交了为毛从服务器拉取都拉取不到，第二，为毛本地删除了 从服务器拉取没拉取到 然后切换一下分支再切换回来 文件才回来？？ 如果本地删除了一个文件并提交了commit 从服务器拉取的 那么 也是无法还原的， Already up-to-date.git push origin 切换分支 不存在则报错 1git checkou test2 创建分支test2并切换到test2分支 如果已存在分支将无法切换到此分支 1git checkout -b test2 创建分支 如果存在则会提示已存在 1git branch test 查看所有本地分支 以及当前分支当前分支颜色有点不相同 1git branch 查看所有分支 1git branch -a 查看状态 是否有文件需要提交什么的信息 这里指的是commit 是否需要commit git status 获取分支 git fetch origin 查看提交的备注信息 git log 查看指定分支log git log source","categories":[{"name":"版本控制","slug":"版本控制","permalink":"http://www.qssq666.cn/categories/版本控制/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://www.qssq666.cn/tags/Git/"},{"name":"版本控制","slug":"版本控制","permalink":"http://www.qssq666.cn/tags/版本控制/"}]},{"title":"如何配置Git支持大小写敏感和修改文件名中大小写字母呢？","slug":"4_lean_git1","date":"2016-08-25T16:00:00.000Z","updated":"2016-08-26T16:00:00.000Z","comments":true,"path":"2016/08/26/4_lean_git1/","link":"","permalink":"http://www.qssq666.cn/2016/08/26/4_lean_git1/","excerpt":"如何配置Git支持大小写敏感和修改文件名中大小写字母呢？","keywords":[{"name":"版本控制","slug":"版本控制","permalink":"http://www.qssq666.cn/categories/版本控制/"}],"text":"如何配置Git支持大小写敏感和修改文件名中大小写字母呢？ 在新建代码文件时，不注意把文件名应该小小写搞错了 结果导致在公司提交一直好好的，从家里下载下来一堆错误 ，查看了一下全是 文件大小写导致的错误。 文件已经push到远程了fff 在windows下面将某一个文件名字改为全小写改好后，在Git中没有任何反应，使用git status 查看 是否需要提交 修改 不需要说明对大小写不敏感是需要配置一下的。 1git status 如何解决Git的大小不敏感问题呢？ 1. 方案一是设置Git大小写敏感： 关闭大小写$ git config core.ignorecase false 2. 方案二是先删除文件，再添加进去：$ git rm ;git add ; git commit -m &quot;rename file&quot; 我使用第一种因为我的项目大小写铭感如果出现了小写问题就会导致项目无法运行，老是改过来改过去。","categories":[{"name":"版本控制","slug":"版本控制","permalink":"http://www.qssq666.cn/categories/版本控制/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://www.qssq666.cn/tags/Git/"},{"name":"版本控制","slug":"版本控制","permalink":"http://www.qssq666.cn/tags/版本控制/"}]},{"title":"markdown常见和不常见语法部分语法静态网站生成器没有识别哈","slug":"markdown","date":"2016-08-23T16:00:00.000Z","updated":"2016-08-27T06:04:45.000Z","comments":true,"path":"2016/08/24/markdown/","link":"","permalink":"http://www.qssq666.cn/2016/08/24/markdown/","excerpt":"这篇教程经供参考","keywords":[{"name":"Blog","slug":"Blog","permalink":"http://www.qssq666.cn/categories/Blog/"}],"text":"这篇教程经供参考 标题加粗标题1# 标题1 标题2## 标题2 标题3### 标题3 标题4#### 标题4 标题5##### 标题5 标题6###### 标题6 加粗 加粗左右2个星号 **加粗左右2个星号** 斜体 斜线左右一个星号 *斜线左右一个星号* 删除线 删除线在1前面那个波浪号按shirt 左右2个 ~~删除线在1前面那个波浪号按shirt 左右2个~~ 下划线 *. ++下划线++ ‘這是什麼格式呢?’ ++下划线就是左右2个加号++ 删除线 删除线 ~~删除线在1前面那个波浪号按shirt 左右2个~~ 有道云的一个莫名其妙的文字背景黄语法 ==填充黄色在有道笔记本2个== ==填充黄色在有道笔记本2个== 引用/垂直分割线 传说中的 在markdown叫引用 有道云也叫quote,对我来说就是垂直的分割线了 不过比水平分割线粗 类似左边加了一个竖线 &gt; 类似左边加了一个竖线 水平分割线 水平线 3个-号实现的 代码如下: --- 数学格式代码 代码 数学公式 数学公式123``` math1=5*6 copy代码如下: 11=5*6 单行代码块单行代码就是3个tab键上面的那个符号可能浏览器无法正常显示。`这个符号看见了吗？ 哈哈 1system.out.println(&quot;情随事迁&quot;); 复制代码如下： 1system.out.println(&quot;情随事迁&quot;); 多行代码块注释也可以叫注释，我这里这么多源代码显示基本上是用多行格式都是多个tab键弄的,多行如上面教程则是大概5个tab键首先距离上面有1行然后按一下tab键 我输入了几个tab键呢 上面的数学公式不是所有的markdown都支持，还有一些删除线之类的，各种各样良莠不齐的支持啊 添加注释 文章添加代码块有注释时的高亮 建议对应代码块语法选择相应的注释符号。比如html用&lt;!-- --&gt;,css用/* */ 显示图片 前面中括号可以自由修改后面title表示鼠标移动上去提示 ![alt text](http://qq.com/favicon.ico &quot;Title&quot;) 显示连接alt text 看下面 [alt text](http://qssq666.cn) 嵌套使用图片链接预览效果:在我这个网站框架不支持了，变成分离了.反正是这么写的 黑界网络情迁部落群:298081857 黑界网络情迁部落群:298081857[![加入](http://pub.idqqimg.com/wpa/images/group.png &quot;黑界网络 情迁部落群298081857&quot;)](http://shang.qq.com/wpa/qunwpa?idkey=a3c54297583094f13aaa7ef5cc63b91f208e1bb3c4d8afda728a04f2772ac144) 无序列表 情随事迁 情随事迁666 情迁 黑界网络 LoveZ qssq 你好 你妹 尼玛 你混蛋 你好 华丽的风格线吗?上面是不是2个序号不同，其实多了几个一个tab键的区别 再多一个tab键就是注释了。也就是正常代码块 - 你妹 - 尼玛 - 你混蛋 有序列表 你好 你妹 尼玛 死开 正常代码块其实就是前面随便输入个数字然后.然后空格然后就是名称了，如9. 无,顺序随便填写会自动进行编号的。 代码块如下: 9. 你妹 5. 尼玛 2. 你混蛋 调用邮箱&#113;&#x73;&#115;&#113;&#54;&#x36;&#x36;&#x40;&#x66;&#111;&#120;&#109;&#x61;&#105;&#108;&#x2e;&#99;&#111;&#x6d;代码如下: &lt;qssq666@foxmail.com&gt; 插入表格 格式显示效果： 标准写法就是上面的分割线和下面的对其，但是插入中文 我想有的东西可能判断不出来吧 proglem language books prices C cccc $0 C++ aaaa $8 Java ffff ff $250 C# aa $3838 ffff fff $3838 再来一个情随事迁的悲惨人生 始终坚持干IT 研究方向 年份 曾经创建的网址 国产手机qq电脑技巧各种家电之类 2009 http://lzz.*** 提供某些破解下载 情迁cf之类 2010 http://mrphj** 放弃 2015 http://qssq.space 死灰复燃搭建博客 2016.8 http://qssq666.cn 曾经使用过的手机 手机号 运营商 年份 是否可用 15573847**2 湖南联通 可能是2009 × 15573824**7 湖南联通 可能是2009 √ 15616967**7 湖南联通 可能是2012 × 17096970**4 虚拟长沙联通 2015 √ 17099995**0 虚拟佛州联通 2015 √ 1326227**1 上海联通 可能2014 √ 18067415**0 浙江电信 2016 √ 编程语言 推荐书籍 价格 C c语言深入浅出 $0 C++ c++语言深入浅出 $88 Java Java语言深入浅出 $250 C# C#语言深入浅出 $3838 易语言 情迁哥哥带你 深 入浅出 $3838 单元格宽度取决于最长的文字, 单元格标题上面得空一行,部分编译器不支持显示,比如我这个网站发表的这个 第二行至少有一个-号多一点也没关系 支持的格式如下: :-: 两端对齐 :—- 左对齐 —: 右对齐 代碼如下: 必須空一行 | 手机号 | 运营商 | 年份 | 是否可用 | |:-----|:---:|----------:| |15573847**2| **`湖南联通`** |可能是2009|×| |15573824**7| **`湖南联通`** |可能是2009|√| |15616967**7| **`湖南联通`** |可能是2012|×| |17096970**4| **`虚拟长沙联通`** |2015|√| |17099995**0| **`虚拟佛州联通`** |2015|√| |1326227**1| **`上海联通`** |可能2014|√| |18067415**0| **`浙江电信`** |2016|√| |编程语言|推荐书籍|价格| |-|-|-| |C | c语言深入浅出| $0 | |C++| c++语言深入浅出|$88 | |Java| Java语言深入浅出 | $250 | |C#| C#语言深入浅出 | $3838 | |易语言| 情迁哥哥带你 深 入浅出 | $3838 | 下面的内容别管 ，我自己 随便弄着玩的。 ==这是什么2个等于号在文字上面 A First Level HeaderA Second Level Headerh1 h2 h3 This is an H1This is an H2This is an H3h1 2 6 This is an H1This is an H2This is an H6 This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus. Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisseid sem consectetuer libero luctus adipiscing.下面的和上面毫无关系上面需要文字衬托 再缩进 Now is the time for all good men to come tothe aid of their country. This is just aregular paragraph. The quick brown fox jumped over the lazydog’s back. Header 3 This is a blockquote. This is the second paragraph in the blockquote. This is an H2 in a blockquote 这句话有些强调。斜线 这些词are强调also。 使用两个星号重点加粗无序列表 ul Candy1. Gum.2 Booze. Candy. Gum. Booze. Candy1. Gum. Booze. 有序列表 ol ff Red Green Blue 调用邮箱&#113;&#115;&#115;&#x71;&#x36;&#54;&#x36;&#x40;&#x66;&#111;&#120;&#109;&#97;&#105;&#x6c;&#x2e;&#99;&#111;&#109; 插入链接This is an example link. I get 10 times more traffic from 标题 序号替换法的写法就是这样了。其实吧 不要以为 一定要数字 拼音也可以这是 标题后面的括号是 定位符 插入图片 前面的alt text是可以随便写的 但是吧 我发现我改成其他字也不会出现问题 最后面的title就是 鼠标选择在图片上的提示文字了。另外一种插入图片的方法 也和链接一样支持别名 ,发现也是可以的 。 别名还是建议用中文哈。 I strongly recommend against using any &lt;blink&gt; tags. I wish SmartyPants used named entities like &amp;mdash;instead of decimal-encoded entites like &amp;#8212;. System.out.println(“你好) I strongly recommend against using any&lt;blink&gt; tags. I wish SmartyPants used named entities like&amp;mdash; instead of decimal-encodedentites like &amp;#8212;.这里可能看不懂了. 发展就是生成 code标签了。If you want your page to validate under XHTML 1.0 Strict,you’ve got to put paragraph tags in your blockquotes:如果上面的是无限的可以用blockquote包含起来 。 For example.System.out.println(“情随事迁); This is an f ff link. 这里实现的是文本链接的提示 ， html源码来看就是title属性 This is a list item with two paragraphs. 你好 你好 你好 This is the second paragraph个发发发发发发发发发发方法 in the list item. You&apos;re only required to indent the first line. Lorem ipsum dolorsit amet, consectetuer adipiscing elit. Another item in the same list. 方 还 方 方法方 foo single asterisks em single underscores double asterisks strong double underscores *this text is surrounded by literal asterisks* 显示源代码插入代码块 但是貌似这里预览不支持 ！Use the printf() function.System.out.println(&quot;ff&quot;); — is the decimal-encoded equivalent of &amp;mdash;.ffffffffffffffffffffffffffffffffffffffffffffffff $ y=x+1 $ 表格表格在这里竟然不支持 Tables Are Cool col 3 is right-aligned $1600 col 2 is centered $12 zebra stripes are neat $1 擦 markdownPad竟然不支持。*literal asterisks*代码框如果你是个程序猿，需要在文章里优雅的引用代码框，在 Markdown下实现也非常简单，只需要用两个 ` 把中间的代码包裹起来。图例：代码` daima分割线 3个* * -","categories":[{"name":"Blog","slug":"Blog","permalink":"http://www.qssq666.cn/categories/Blog/"}],"tags":[{"name":"WEB","slug":"WEB","permalink":"http://www.qssq666.cn/tags/WEB/"},{"name":"markdown","slug":"markdown","permalink":"http://www.qssq666.cn/tags/markdown/"},{"name":"代码编写","slug":"代码编写","permalink":"http://www.qssq666.cn/tags/代码编写/"}]}]}